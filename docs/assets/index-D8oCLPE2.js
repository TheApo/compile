(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))i(d);new MutationObserver(d=>{for(const o of d)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function u(d){const o={};return d.integrity&&(o.integrity=d.integrity),d.referrerPolicy&&(o.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?o.credentials="include":d.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(d){if(d.ep)return;d.ep=!0;const o=u(d);fetch(d.href,o)}})();function K_(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var zi={exports:{}},Pn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function P_(){if(Ff)return Pn;Ff=1;var c=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function u(i,d,o){var f=null;if(o!==void 0&&(f=""+o),d.key!==void 0&&(f=""+d.key),"key"in d){o={};for(var h in d)h!=="key"&&(o[h]=d[h])}else o=d;return d=o.ref,{$$typeof:c,type:i,key:f,ref:d!==void 0?d:null,props:o}}return Pn.Fragment=s,Pn.jsx=u,Pn.jsxs=u,Pn}var Kf;function J_(){return Kf||(Kf=1,zi.exports=P_()),zi.exports}var g=J_(),Hi={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf;function I_(){if(Pf)return de;Pf=1;var c=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),S=Symbol.iterator;function w(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function H(b,z,Z){this.props=b,this.context=z,this.refs=j,this.updater=Z||R}H.prototype.isReactComponent={},H.prototype.setState=function(b,z){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,z,"setState")},H.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function Q(){}Q.prototype=H.prototype;function P(b,z,Z){this.props=b,this.context=z,this.refs=j,this.updater=Z||R}var Y=P.prototype=new Q;Y.constructor=P,O(Y,H.prototype),Y.isPureReactComponent=!0;var W=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function ue(b,z,Z,X,J,ye){return Z=ye.ref,{$$typeof:c,type:b,key:z,ref:Z!==void 0?Z:null,props:ye}}function fe(b,z){return ue(b.type,z,void 0,void 0,void 0,b.props)}function te(b){return typeof b=="object"&&b!==null&&b.$$typeof===c}function le(b){var z={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Z){return z[Z]})}var re=/\/+/g;function ge(b,z){return typeof b=="object"&&b!==null&&b.key!=null?le(""+b.key):z.toString(36)}function je(){}function Re(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(je,je):(b.status="pending",b.then(function(z){b.status==="pending"&&(b.status="fulfilled",b.value=z)},function(z){b.status==="pending"&&(b.status="rejected",b.reason=z)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function _e(b,z,Z,X,J){var ye=typeof b;(ye==="undefined"||ye==="boolean")&&(b=null);var ne=!1;if(b===null)ne=!0;else switch(ye){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(b.$$typeof){case c:case s:ne=!0;break;case m:return ne=b._init,_e(ne(b._payload),z,Z,X,J)}}if(ne)return J=J(b),ne=X===""?"."+ge(b,0):X,W(J)?(Z="",ne!=null&&(Z=ne.replace(re,"$&/")+"/"),_e(J,z,Z,"",function(Ct){return Ct})):J!=null&&(te(J)&&(J=fe(J,Z+(J.key==null||b&&b.key===J.key?"":(""+J.key).replace(re,"$&/")+"/")+ne)),z.push(J)),1;ne=0;var Be=X===""?".":X+":";if(W(b))for(var xe=0;xe<b.length;xe++)X=b[xe],ye=Be+ge(X,xe),ne+=_e(X,z,Z,ye,J);else if(xe=w(b),typeof xe=="function")for(b=xe.call(b),xe=0;!(X=b.next()).done;)X=X.value,ye=Be+ge(X,xe++),ne+=_e(X,z,Z,ye,J);else if(ye==="object"){if(typeof b.then=="function")return _e(Re(b),z,Z,X,J);throw z=String(b),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ne}function M(b,z,Z){if(b==null)return b;var X=[],J=0;return _e(b,X,"","",function(ye){return z.call(Z,ye,J++)}),X}function D(b){if(b._status===-1){var z=b._result;z=z(),z.then(function(Z){(b._status===0||b._status===-1)&&(b._status=1,b._result=Z)},function(Z){(b._status===0||b._status===-1)&&(b._status=2,b._result=Z)}),b._status===-1&&(b._status=0,b._result=z)}if(b._status===1)return b._result.default;throw b._result}var U=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)};function V(){}return de.Children={map:M,forEach:function(b,z,Z){M(b,function(){z.apply(this,arguments)},Z)},count:function(b){var z=0;return M(b,function(){z++}),z},toArray:function(b){return M(b,function(z){return z})||[]},only:function(b){if(!te(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},de.Component=H,de.Fragment=u,de.Profiler=d,de.PureComponent=P,de.StrictMode=i,de.Suspense=y,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,de.__COMPILER_RUNTIME={__proto__:null,c:function(b){return k.H.useMemoCache(b)}},de.cache=function(b){return function(){return b.apply(null,arguments)}},de.cloneElement=function(b,z,Z){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var X=O({},b.props),J=b.key,ye=void 0;if(z!=null)for(ne in z.ref!==void 0&&(ye=void 0),z.key!==void 0&&(J=""+z.key),z)!F.call(z,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&z.ref===void 0||(X[ne]=z[ne]);var ne=arguments.length-2;if(ne===1)X.children=Z;else if(1<ne){for(var Be=Array(ne),xe=0;xe<ne;xe++)Be[xe]=arguments[xe+2];X.children=Be}return ue(b.type,J,void 0,void 0,ye,X)},de.createContext=function(b){return b={$$typeof:f,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:o,_context:b},b},de.createElement=function(b,z,Z){var X,J={},ye=null;if(z!=null)for(X in z.key!==void 0&&(ye=""+z.key),z)F.call(z,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(J[X]=z[X]);var ne=arguments.length-2;if(ne===1)J.children=Z;else if(1<ne){for(var Be=Array(ne),xe=0;xe<ne;xe++)Be[xe]=arguments[xe+2];J.children=Be}if(b&&b.defaultProps)for(X in ne=b.defaultProps,ne)J[X]===void 0&&(J[X]=ne[X]);return ue(b,ye,void 0,void 0,null,J)},de.createRef=function(){return{current:null}},de.forwardRef=function(b){return{$$typeof:h,render:b}},de.isValidElement=te,de.lazy=function(b){return{$$typeof:m,_payload:{_status:-1,_result:b},_init:D}},de.memo=function(b,z){return{$$typeof:p,type:b,compare:z===void 0?null:z}},de.startTransition=function(b){var z=k.T,Z={};k.T=Z;try{var X=b(),J=k.S;J!==null&&J(Z,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(V,U)}catch(ye){U(ye)}finally{k.T=z}},de.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},de.use=function(b){return k.H.use(b)},de.useActionState=function(b,z,Z){return k.H.useActionState(b,z,Z)},de.useCallback=function(b,z){return k.H.useCallback(b,z)},de.useContext=function(b){return k.H.useContext(b)},de.useDebugValue=function(){},de.useDeferredValue=function(b,z){return k.H.useDeferredValue(b,z)},de.useEffect=function(b,z,Z){var X=k.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(b,z)},de.useId=function(){return k.H.useId()},de.useImperativeHandle=function(b,z,Z){return k.H.useImperativeHandle(b,z,Z)},de.useInsertionEffect=function(b,z){return k.H.useInsertionEffect(b,z)},de.useLayoutEffect=function(b,z){return k.H.useLayoutEffect(b,z)},de.useMemo=function(b,z){return k.H.useMemo(b,z)},de.useOptimistic=function(b,z){return k.H.useOptimistic(b,z)},de.useReducer=function(b,z,Z){return k.H.useReducer(b,z,Z)},de.useRef=function(b){return k.H.useRef(b)},de.useState=function(b){return k.H.useState(b)},de.useSyncExternalStore=function(b,z,Z){return k.H.useSyncExternalStore(b,z,Z)},de.useTransition=function(){return k.H.useTransition()},de.version="19.1.1",de}var Jf;function tu(){return Jf||(Jf=1,Hi.exports=I_()),Hi.exports}var K=tu();const W_=K_(K);var ki={exports:{}},Jn={},Li={exports:{}},Yi={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function ey(){return If||(If=1,(function(c){function s(M,D){var U=M.length;M.push(D);e:for(;0<U;){var V=U-1>>>1,b=M[V];if(0<d(b,D))M[V]=D,M[U]=b,U=V;else break e}}function u(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var D=M[0],U=M.pop();if(U!==D){M[0]=U;e:for(var V=0,b=M.length,z=b>>>1;V<z;){var Z=2*(V+1)-1,X=M[Z],J=Z+1,ye=M[J];if(0>d(X,U))J<b&&0>d(ye,X)?(M[V]=ye,M[J]=U,V=J):(M[V]=X,M[Z]=U,V=Z);else if(J<b&&0>d(ye,U))M[V]=ye,M[J]=U,V=J;else break e}}return D}function d(M,D){var U=M.sortIndex-D.sortIndex;return U!==0?U:M.id-D.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;c.unstable_now=function(){return o.now()}}else{var f=Date,h=f.now();c.unstable_now=function(){return f.now()-h}}var y=[],p=[],m=1,S=null,w=3,R=!1,O=!1,j=!1,H=!1,Q=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function W(M){for(var D=u(p);D!==null;){if(D.callback===null)i(p);else if(D.startTime<=M)i(p),D.sortIndex=D.expirationTime,s(y,D);else break;D=u(p)}}function k(M){if(j=!1,W(M),!O)if(u(y)!==null)O=!0,F||(F=!0,ge());else{var D=u(p);D!==null&&_e(k,D.startTime-M)}}var F=!1,ue=-1,fe=5,te=-1;function le(){return H?!0:!(c.unstable_now()-te<fe)}function re(){if(H=!1,F){var M=c.unstable_now();te=M;var D=!0;try{e:{O=!1,j&&(j=!1,P(ue),ue=-1),R=!0;var U=w;try{t:{for(W(M),S=u(y);S!==null&&!(S.expirationTime>M&&le());){var V=S.callback;if(typeof V=="function"){S.callback=null,w=S.priorityLevel;var b=V(S.expirationTime<=M);if(M=c.unstable_now(),typeof b=="function"){S.callback=b,W(M),D=!0;break t}S===u(y)&&i(y),W(M)}else i(y);S=u(y)}if(S!==null)D=!0;else{var z=u(p);z!==null&&_e(k,z.startTime-M),D=!1}}break e}finally{S=null,w=U,R=!1}D=void 0}}finally{D?ge():F=!1}}}var ge;if(typeof Y=="function")ge=function(){Y(re)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Re=je.port2;je.port1.onmessage=re,ge=function(){Re.postMessage(null)}}else ge=function(){Q(re,0)};function _e(M,D){ue=Q(function(){M(c.unstable_now())},D)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(M){M.callback=null},c.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<M?Math.floor(1e3/M):5},c.unstable_getCurrentPriorityLevel=function(){return w},c.unstable_next=function(M){switch(w){case 1:case 2:case 3:var D=3;break;default:D=w}var U=w;w=D;try{return M()}finally{w=U}},c.unstable_requestPaint=function(){H=!0},c.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=w;w=M;try{return D()}finally{w=U}},c.unstable_scheduleCallback=function(M,D,U){var V=c.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?V+U:V):U=V,M){case 1:var b=-1;break;case 2:b=250;break;case 5:b=1073741823;break;case 4:b=1e4;break;default:b=5e3}return b=U+b,M={id:m++,callback:D,priorityLevel:M,startTime:U,expirationTime:b,sortIndex:-1},U>V?(M.sortIndex=U,s(p,M),u(y)===null&&M===u(p)&&(j?(P(ue),ue=-1):j=!0,_e(k,U-V))):(M.sortIndex=b,s(y,M),O||R||(O=!0,F||(F=!0,ge()))),M},c.unstable_shouldYield=le,c.unstable_wrapCallback=function(M){var D=w;return function(){var U=w;w=D;try{return M.apply(this,arguments)}finally{w=U}}}})(Yi)),Yi}var Wf;function ty(){return Wf||(Wf=1,Li.exports=ey()),Li.exports}var Bi={exports:{}},nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function ay(){if(ep)return nt;ep=1;var c=tu();function s(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var i={d:{f:u,r:function(){throw Error(s(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},d=Symbol.for("react.portal");function o(y,p,m){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:S==null?null:""+S,children:y,containerInfo:p,implementation:m}}var f=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nt.createPortal=function(y,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(s(299));return o(y,p,null,m)},nt.flushSync=function(y){var p=f.T,m=i.p;try{if(f.T=null,i.p=2,y)return y()}finally{f.T=p,i.p=m,i.d.f()}},nt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(y,p))},nt.prefetchDNS=function(y){typeof y=="string"&&i.d.D(y)},nt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var m=p.as,S=h(m,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:w,fetchPriority:R}):m==="script"&&i.d.X(y,{crossOrigin:S,integrity:w,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},nt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=h(p.as,p.crossOrigin);i.d.M(y,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(y)},nt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,S=h(m,p.crossOrigin);i.d.L(y,m,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},nt.preloadModule=function(y,p){if(typeof y=="string")if(p){var m=h(p.as,p.crossOrigin);i.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(y)},nt.requestFormReset=function(y){i.d.r(y)},nt.unstable_batchedUpdates=function(y,p){return y(p)},nt.useFormState=function(y,p,m){return f.H.useFormState(y,p,m)},nt.useFormStatus=function(){return f.H.useHostTransitionStatus()},nt.version="19.1.1",nt}var tp;function ly(){if(tp)return Bi.exports;tp=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(s){console.error(s)}}return c(),Bi.exports=ay(),Bi.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function ny(){if(ap)return Jn;ap=1;var c=ty(),s=tu(),u=ly();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(i(188))}function y(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return h(n),e;if(r===l)return h(n),t;r=r.sibling}throw Error(i(188))}if(a.return!==l.return)a=n,l=r;else{for(var _=!1,v=n.child;v;){if(v===a){_=!0,a=n,l=r;break}if(v===l){_=!0,l=n,a=r;break}v=v.sibling}if(!_){for(v=r.child;v;){if(v===a){_=!0,a=r,l=n;break}if(v===l){_=!0,l=r,a=n;break}v=v.sibling}if(!_)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ge(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var je=Symbol.for("react.client.reference");function Re(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case H:return"Profiler";case j:return"StrictMode";case k:return"Suspense";case F:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case Y:return(e.displayName||"Context")+".Provider";case P:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ue:return t=e.displayName||null,t!==null?t:Re(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return Re(e(t))}catch{}}return null}var _e=Array.isArray,M=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},V=[],b=-1;function z(e){return{current:e}}function Z(e){0>b||(e.current=V[b],V[b]=null,b--)}function X(e,t){b++,V[b]=e.current,e.current=t}var J=z(null),ye=z(null),ne=z(null),Be=z(null);function xe(e,t){switch(X(ne,t),X(ye,e),X(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wf(t),e=Cf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(J),X(J,e)}function Ct(){Z(J),Z(ye),Z(ne)}function Pl(e){e.memoizedState!==null&&X(Be,e);var t=J.current,a=Cf(t,e.type);t!==a&&(X(ye,e),X(J,a))}function Ba(e){ye.current===e&&(Z(J),Z(ye)),Be.current===e&&(Z(Be),Xn._currentValue=U)}var rl=Object.prototype.hasOwnProperty,Jl=c.unstable_scheduleCallback,Il=c.unstable_cancelCallback,br=c.unstable_shouldYield,wr=c.unstable_requestPaint,At=c.unstable_now,Wn=c.unstable_getCurrentPriorityLevel,ec=c.unstable_ImmediatePriority,tc=c.unstable_UserBlockingPriority,ol=c.unstable_NormalPriority,Cr=c.unstable_LowPriority,Wl=c.unstable_IdlePriority,ac=c.log,lc=c.unstable_setDisableYieldValue,I=null,se=null;function ze(e){if(typeof ac=="function"&&lc(e),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(I,e)}catch{}}var Me=Math.clz32?Math.clz32:il,pa=Math.log,Zt=Math.LN2;function il(e){return e>>>=0,e===0?32:31-(pa(e)/Zt|0)|0}var ha=256,Ft=4194304;function Mt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _a(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,r=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~r,l!==0?n=Mt(l):(_&=v,_!==0?n=Mt(_):a||(a=v&~e,a!==0&&(n=Mt(a))))):(v=l&~r,v!==0?n=Mt(v):_!==0?n=Mt(_):a||(a=l&~e,a!==0&&(n=Mt(a)))),n===0?0:t!==0&&t!==n&&(t&r)===0&&(r=n&-n,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:n}function Yt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ht(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ar(){var e=ha;return ha<<=1,(ha&4194048)===0&&(ha=256),e}function nc(){var e=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),e}function Kt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function en(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hp(e,t,a,l,n,r){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,C=e.expirationTimes,q=e.hiddenUpdates;for(a=_&~a;0<a;){var L=31-Me(a),G=1<<L;v[L]=0,C[L]=-1;var E=q[L];if(E!==null)for(q[L]=null,L=0;L<E.length;L++){var N=E[L];N!==null&&(N.lane&=-536870913)}a&=~G}l!==0&&ru(e,l,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(_&~t))}function ru(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Me(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function ou(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Me(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function xr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:Vf(e.type))}function kp(e,t){var a=D.p;try{return D.p=e,t()}finally{D.p=a}}var ya=Math.random().toString(36).slice(2),at="__reactFiber$"+ya,ot="__reactProps$"+ya,ul="__reactContainer$"+ya,Dr="__reactEvents$"+ya,Lp="__reactListeners$"+ya,Yp="__reactHandles$"+ya,uu="__reactResources$"+ya,tn="__reactMarker$"+ya;function Tr(e){delete e[at],delete e[ot],delete e[Dr],delete e[Lp],delete e[Yp]}function sl(e){var t=e[at];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ul]||a[at]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Df(e);e!==null;){if(a=e[at])return a;e=Df(e)}return t}e=a,a=e.parentNode}return null}function dl(e){if(e=e[at]||e[ul]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function an(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function fl(e){var t=e[uu];return t||(t=e[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[tn]=!0}var su=new Set,du={};function Va(e,t){pl(e,t),pl(e+"Capture",t)}function pl(e,t){for(du[e]=t,e=0;e<t.length;e++)su.add(t[e])}var Bp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fu={},pu={};function Vp(e){return rl.call(pu,e)?!0:rl.call(fu,e)?!1:Bp.test(e)?pu[e]=!0:(fu[e]=!0,!1)}function cc(e,t,a){if(Vp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function rc(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Pt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var qr,hu;function hl(e){if(qr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);qr=t&&t[1]||"",hu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qr+e+hu}var Er=!1;function Or(e,t){if(!e||Er)return"";Er=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(N){var E=N}Reflect.construct(e,[],G)}else{try{G.call()}catch(N){E=N}e.call(G.prototype)}}else{try{throw Error()}catch(N){E=N}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(N){if(N&&E&&typeof N.stack=="string")return[N.stack,E.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=l.DetermineComponentFrameRoot(),_=r[0],v=r[1];if(_&&v){var C=_.split(`
`),q=v.split(`
`);for(n=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;n<q.length&&!q[n].includes("DetermineComponentFrameRoot");)n++;if(l===C.length||n===q.length)for(l=C.length-1,n=q.length-1;1<=l&&0<=n&&C[l]!==q[n];)n--;for(;1<=l&&0<=n;l--,n--)if(C[l]!==q[n]){if(l!==1||n!==1)do if(l--,n--,0>n||C[l]!==q[n]){var L=`
`+C[l].replace(" at new "," at ");return e.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",e.displayName)),L}while(1<=l&&0<=n);break}}}finally{Er=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?hl(a):""}function Gp(e){switch(e.tag){case 26:case 27:case 5:return hl(e.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 15:return Or(e.type,!1);case 11:return Or(e.type.render,!1);case 1:return Or(e.type,!0);case 31:return hl("Activity");default:return""}}function _u(e){try{var t="";do t+=Gp(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $p(e){var t=yu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(_){l=""+_,r.call(this,_)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oc(e){e._valueTracker||(e._valueTracker=$p(e))}function mu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=yu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function ic(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xp=/[\n"\\]/g;function xt(e){return e.replace(Xp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Nr(e,t,a,l,n,r,_,v){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?Ur(e,_,Rt(t)):a!=null?Ur(e,_,Rt(a)):l!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Rt(v):e.removeAttribute("name")}function vu(e,t,a,l,n,r,_,v){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;a=a!=null?""+Rt(a):"",t=t!=null?""+Rt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Ur(e,t,a){t==="number"&&ic(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function _l(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Rt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function gu(e,t,a){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Rt(a):""}function Su(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(i(92));if(_e(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Rt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function yl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Qp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Qp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function wu(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&bu(e,n,l)}else for(var r in t)t.hasOwnProperty(r)&&bu(e,r,t[r])}function Mr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uc(e){return Fp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jr=null;function zr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,vl=null;function Cu(e){var t=dl(e);if(t&&(e=t.stateNode)){var a=e[ot]||null;e:switch(e=t.stateNode,t.type){case"input":if(Nr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[ot]||null;if(!n)throw Error(i(90));Nr(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&mu(l)}break e;case"textarea":gu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&_l(e,!!a.multiple,t,!1)}}}var Hr=!1;function Au(e,t,a){if(Hr)return e(t,a);Hr=!0;try{var l=e(t);return l}finally{if(Hr=!1,(ml!==null||vl!==null)&&(Fc(),ml&&(t=ml,e=vl,vl=ml=null,Cu(t),e)))for(t=0;t<e.length;t++)Cu(e[t])}}function ln(e,t){var a=e.stateNode;if(a===null)return null;var l=a[ot]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Jt)try{var nn={};Object.defineProperty(nn,"passive",{get:function(){kr=!0}}),window.addEventListener("test",nn,nn),window.removeEventListener("test",nn,nn)}catch{kr=!1}var ma=null,Lr=null,sc=null;function Ru(){if(sc)return sc;var e,t=Lr,a=t.length,l,n="value"in ma?ma.value:ma.textContent,r=n.length;for(e=0;e<a&&t[e]===n[e];e++);var _=a-e;for(l=1;l<=_&&t[a-l]===n[r-l];l++);return sc=n.slice(e,1<l?1-l:void 0)}function dc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fc(){return!0}function xu(){return!1}function it(e){function t(a,l,n,r,_){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=r,this.target=_,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(r):r[v]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?fc:xu,this.isPropagationStopped=xu,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),t}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=it(Ga),cn=m({},Ga,{view:0,detail:0}),Kp=it(cn),Yr,Br,rn,hc=m({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rn&&(rn&&e.type==="mousemove"?(Yr=e.screenX-rn.screenX,Br=e.screenY-rn.screenY):Br=Yr=0,rn=e),Yr)},movementY:function(e){return"movementY"in e?e.movementY:Br}}),Du=it(hc),Pp=m({},hc,{dataTransfer:0}),Jp=it(Pp),Ip=m({},cn,{relatedTarget:0}),Vr=it(Ip),Wp=m({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),eh=it(Wp),th=m({},Ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ah=it(th),lh=m({},Ga,{data:0}),Tu=it(lh),nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rh[e])?!!t[e]:!1}function Gr(){return oh}var ih=m({},cn,{key:function(e){if(e.key){var t=nh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ch[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(e){return e.type==="keypress"?dc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uh=it(ih),sh=m({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qu=it(sh),dh=m({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),fh=it(dh),ph=m({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),hh=it(ph),_h=m({},hc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yh=it(_h),mh=m({},Ga,{newState:0,oldState:0}),vh=it(mh),gh=[9,13,27,32],$r=Jt&&"CompositionEvent"in window,on=null;Jt&&"documentMode"in document&&(on=document.documentMode);var Sh=Jt&&"TextEvent"in window&&!on,Eu=Jt&&(!$r||on&&8<on&&11>=on),Ou=" ",Nu=!1;function Uu(e,t){switch(e){case"keyup":return gh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gl=!1;function bh(e,t){switch(e){case"compositionend":return Mu(t);case"keypress":return t.which!==32?null:(Nu=!0,Ou);case"textInput":return e=t.data,e===Ou&&Nu?null:e;default:return null}}function wh(e,t){if(gl)return e==="compositionend"||!$r&&Uu(e,t)?(e=Ru(),sc=Lr=ma=null,gl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eu&&t.locale!=="ko"?null:t.data;default:return null}}var Ch={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ch[e.type]:t==="textarea"}function zu(e,t,a,l){ml?vl?vl.push(l):vl=[l]:ml=l,t=er(t,"onChange"),0<t.length&&(a=new pc("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var un=null,sn=null;function Ah(e){mf(e,0)}function _c(e){var t=an(e);if(mu(t))return e}function Hu(e,t){if(e==="change")return t}var ku=!1;if(Jt){var Xr;if(Jt){var Qr="oninput"in document;if(!Qr){var Lu=document.createElement("div");Lu.setAttribute("oninput","return;"),Qr=typeof Lu.oninput=="function"}Xr=Qr}else Xr=!1;ku=Xr&&(!document.documentMode||9<document.documentMode)}function Yu(){un&&(un.detachEvent("onpropertychange",Bu),sn=un=null)}function Bu(e){if(e.propertyName==="value"&&_c(sn)){var t=[];zu(t,sn,e,zr(e)),Au(Ah,t)}}function Rh(e,t,a){e==="focusin"?(Yu(),un=t,sn=a,un.attachEvent("onpropertychange",Bu)):e==="focusout"&&Yu()}function xh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _c(sn)}function Dh(e,t){if(e==="click")return _c(t)}function Th(e,t){if(e==="input"||e==="change")return _c(t)}function qh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:qh;function dn(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!rl.call(t,n)||!_t(e[n],t[n]))return!1}return!0}function Vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gu(e,t){var a=Vu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vu(a)}}function $u(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$u(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ic(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ic(e.document)}return t}function Zr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Eh=Jt&&"documentMode"in document&&11>=document.documentMode,Sl=null,Fr=null,fn=null,Kr=!1;function Qu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kr||Sl==null||Sl!==ic(l)||(l=Sl,"selectionStart"in l&&Zr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fn&&dn(fn,l)||(fn=l,l=er(Fr,"onSelect"),0<l.length&&(t=new pc("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Sl)))}function $a(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var bl={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Pr={},Zu={};Jt&&(Zu=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function Xa(e){if(Pr[e])return Pr[e];if(!bl[e])return e;var t=bl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Zu)return Pr[e]=t[a];return e}var Fu=Xa("animationend"),Ku=Xa("animationiteration"),Pu=Xa("animationstart"),Oh=Xa("transitionrun"),Nh=Xa("transitionstart"),Uh=Xa("transitioncancel"),Ju=Xa("transitionend"),Iu=new Map,Jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jr.push("scrollEnd");function jt(e,t){Iu.set(e,t),Va(t,[e])}var Wu=new WeakMap;function Dt(e,t){if(typeof e=="object"&&e!==null){var a=Wu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:_u(t)},Wu.set(e,t),t)}return{value:e,source:t,stack:_u(t)}}var Tt=[],wl=0,Ir=0;function yc(){for(var e=wl,t=Ir=wl=0;t<e;){var a=Tt[t];Tt[t++]=null;var l=Tt[t];Tt[t++]=null;var n=Tt[t];Tt[t++]=null;var r=Tt[t];if(Tt[t++]=null,l!==null&&n!==null){var _=l.pending;_===null?n.next=n:(n.next=_.next,_.next=n),l.pending=n}r!==0&&es(a,n,r)}}function mc(e,t,a,l){Tt[wl++]=e,Tt[wl++]=t,Tt[wl++]=a,Tt[wl++]=l,Ir|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Wr(e,t,a,l){return mc(e,t,a,l),vc(e)}function Cl(e,t){return mc(e,null,null,t),vc(e)}function es(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,r=e.return;r!==null;)r.childLanes|=a,l=r.alternate,l!==null&&(l.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&t!==null&&(n=31-Me(a),e=r.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),r):null}function vc(e){if(50<Hn)throw Hn=0,ri=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Al={};function Mh(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,a,l){return new Mh(e,t,a,l)}function eo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function It(e,t){var a=e.alternate;return a===null?(a=yt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ts(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gc(e,t,a,l,n,r){var _=0;if(l=e,typeof e=="function")eo(e)&&(_=1);else if(typeof e=="string")_=z_(e,a,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=yt(31,a,t,n),e.elementType=te,e.lanes=r,e;case O:return Qa(a.children,n,r,t);case j:_=8,n|=24;break;case H:return e=yt(12,a,t,n|2),e.elementType=H,e.lanes=r,e;case k:return e=yt(13,a,t,n),e.elementType=k,e.lanes=r,e;case F:return e=yt(19,a,t,n),e.elementType=F,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:case Y:_=10;break e;case P:_=9;break e;case W:_=11;break e;case ue:_=14;break e;case fe:_=16,l=null;break e}_=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=yt(_,a,t,n),t.elementType=e,t.type=l,t.lanes=r,t}function Qa(e,t,a,l){return e=yt(7,e,l,t),e.lanes=a,e}function to(e,t,a){return e=yt(6,e,null,t),e.lanes=a,e}function ao(e,t,a){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Rl=[],xl=0,Sc=null,bc=0,qt=[],Et=0,Za=null,Wt=1,ea="";function Fa(e,t){Rl[xl++]=bc,Rl[xl++]=Sc,Sc=e,bc=t}function as(e,t,a){qt[Et++]=Wt,qt[Et++]=ea,qt[Et++]=Za,Za=e;var l=Wt;e=ea;var n=32-Me(l)-1;l&=~(1<<n),a+=1;var r=32-Me(t)+n;if(30<r){var _=n-n%5;r=(l&(1<<_)-1).toString(32),l>>=_,n-=_,Wt=1<<32-Me(t)+n|a<<n|l,ea=r+e}else Wt=1<<r|a<<n|l,ea=e}function lo(e){e.return!==null&&(Fa(e,1),as(e,1,0))}function no(e){for(;e===Sc;)Sc=Rl[--xl],Rl[xl]=null,bc=Rl[--xl],Rl[xl]=null;for(;e===Za;)Za=qt[--Et],qt[Et]=null,ea=qt[--Et],qt[Et]=null,Wt=qt[--Et],qt[Et]=null}var ct=null,Le=null,we=!1,Ka=null,Bt=!1,co=Error(i(519));function Pa(e){var t=Error(i(418,""));throw _n(Dt(t,e)),co}function ls(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[at]=e,t[ot]=l,a){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(a=0;a<Ln.length;a++)ve(Ln[a],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),vu(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),oc(t);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),Su(t,l.value,l.defaultValue,l.children),oc(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||bf(t.textContent,a)?(l.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),l.onScroll!=null&&ve("scroll",t),l.onScrollEnd!=null&&ve("scrollend",t),l.onClick!=null&&(t.onclick=tr),t=!0):t=!1,t||Pa(e)}function ns(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:ct=ct.return}}function pn(e){if(e!==ct)return!1;if(!we)return ns(e),we=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||wi(e.type,e.memoizedProps)),a=!a),a&&Le&&Pa(e),ns(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Le=Ht(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Le=null}}else t===27?(t=Le,Ua(e.type)?(e=xi,xi=null,Le=e):Le=t):Le=ct?Ht(e.stateNode.nextSibling):null;return!0}function hn(){Le=ct=null,we=!1}function cs(){var e=Ka;return e!==null&&(dt===null?dt=e:dt.push.apply(dt,e),Ka=null),e}function _n(e){Ka===null?Ka=[e]:Ka.push(e)}var ro=z(null),Ja=null,ta=null;function va(e,t,a){X(ro,t._currentValue),t._currentValue=a}function aa(e){e._currentValue=ro.current,Z(ro)}function oo(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function io(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var _=n.child;r=r.firstContext;e:for(;r!==null;){var v=r;r=n;for(var C=0;C<t.length;C++)if(v.context===t[C]){r.lanes|=a,v=r.alternate,v!==null&&(v.lanes|=a),oo(r.return,a,e),l||(_=null);break e}r=v.next}}else if(n.tag===18){if(_=n.return,_===null)throw Error(i(341));_.lanes|=a,r=_.alternate,r!==null&&(r.lanes|=a),oo(_,a,e),_=null}else _=n.child;if(_!==null)_.return=n;else for(_=n;_!==null;){if(_===e){_=null;break}if(n=_.sibling,n!==null){n.return=_.return,_=n;break}_=_.return}n=_}}function yn(e,t,a,l){e=null;for(var n=t,r=!1;n!==null;){if(!r){if((n.flags&524288)!==0)r=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var _=n.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var v=n.type;_t(n.pendingProps.value,_.value)||(e!==null?e.push(v):e=[v])}}else if(n===Be.current){if(_=n.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Xn):e=[Xn])}n=n.return}e!==null&&io(t,e,a,l),t.flags|=262144}function wc(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){Ja=e,ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return rs(Ja,e)}function Cc(e,t){return Ja===null&&Ia(e),rs(e,t)}function rs(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ta===null){if(e===null)throw Error(i(308));ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ta=ta.next=t;return a}var jh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},zh=c.unstable_scheduleCallback,Hh=c.unstable_NormalPriority,Qe={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uo(){return{controller:new jh,data:new Map,refCount:0}}function mn(e){e.refCount--,e.refCount===0&&zh(Hh,function(){e.controller.abort()})}var vn=null,so=0,Dl=0,Tl=null;function kh(e,t){if(vn===null){var a=vn=[];so=0,Dl=pi(),Tl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return so++,t.then(os,os),t}function os(){if(--so===0&&vn!==null){Tl!==null&&(Tl.status="fulfilled");var e=vn;vn=null,Dl=0,Tl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Lh(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var is=M.S;M.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&kh(e,t),is!==null&&is(e,t)};var Wa=z(null);function fo(){var e=Wa.current;return e!==null?e:Ne.pooledCache}function Ac(e,t){t===null?X(Wa,Wa.current):X(Wa,t.pool)}function us(){var e=fo();return e===null?null:{parent:Qe._currentValue,pool:e}}var gn=Error(i(460)),ss=Error(i(474)),Rc=Error(i(542)),po={then:function(){}};function ds(e){return e=e.status,e==="fulfilled"||e==="rejected"}function xc(){}function fs(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(xc,xc),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hs(e),e;default:if(typeof t.status=="string")t.then(xc,xc);else{if(e=Ne,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,hs(e),e}throw Sn=t,gn}}var Sn=null;function ps(){if(Sn===null)throw Error(i(459));var e=Sn;return Sn=null,e}function hs(e){if(e===gn||e===Rc)throw Error(i(483))}var ga=!1;function ho(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _o(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=vc(e),es(e,null,a),t}return mc(e,l,t,a),vc(e)}function bn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,ou(e,a)}}function yo(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=_:r=r.next=_,a=a.next}while(a!==null);r===null?n=r=t:r=r.next=t}else n=r=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var mo=!1;function wn(){if(mo){var e=Tl;if(e!==null)throw e}}function Cn(e,t,a,l){mo=!1;var n=e.updateQueue;ga=!1;var r=n.firstBaseUpdate,_=n.lastBaseUpdate,v=n.shared.pending;if(v!==null){n.shared.pending=null;var C=v,q=C.next;C.next=null,_===null?r=q:_.next=q,_=C;var L=e.alternate;L!==null&&(L=L.updateQueue,v=L.lastBaseUpdate,v!==_&&(v===null?L.firstBaseUpdate=q:v.next=q,L.lastBaseUpdate=C))}if(r!==null){var G=n.baseState;_=0,L=q=C=null,v=r;do{var E=v.lane&-536870913,N=E!==v.lane;if(N?(Se&E)===E:(l&E)===E){E!==0&&E===Dl&&(mo=!0),L!==null&&(L=L.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ie=e,ce=v;E=t;var qe=a;switch(ce.tag){case 1:if(ie=ce.payload,typeof ie=="function"){G=ie.call(qe,G,E);break e}G=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ce.payload,E=typeof ie=="function"?ie.call(qe,G,E):ie,E==null)break e;G=m({},G,E);break e;case 2:ga=!0}}E=v.callback,E!==null&&(e.flags|=64,N&&(e.flags|=8192),N=n.callbacks,N===null?n.callbacks=[E]:N.push(E))}else N={lane:E,tag:v.tag,payload:v.payload,callback:v.callback,next:null},L===null?(q=L=N,C=G):L=L.next=N,_|=E;if(v=v.next,v===null){if(v=n.shared.pending,v===null)break;N=v,v=N.next,N.next=null,n.lastBaseUpdate=N,n.shared.pending=null}}while(!0);L===null&&(C=G),n.baseState=C,n.firstBaseUpdate=q,n.lastBaseUpdate=L,r===null&&(n.shared.lanes=0),qa|=_,e.lanes=_,e.memoizedState=G}}function _s(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function ys(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_s(a[e],t)}var ql=z(null),Dc=z(0);function ms(e,t){e=ua,X(Dc,e),X(ql,t),ua=e|t.baseLanes}function vo(){X(Dc,ua),X(ql,ql.current)}function go(){ua=Dc.current,Z(ql),Z(Dc)}var wa=0,pe=null,De=null,$e=null,Tc=!1,El=!1,el=!1,qc=0,An=0,Ol=null,Yh=0;function Ve(){throw Error(i(321))}function So(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!_t(e[a],t[a]))return!1;return!0}function bo(e,t,a,l,n,r){return wa=r,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?ed:td,el=!1,r=a(l,n),el=!1,El&&(r=gs(t,a,l,n)),vs(e),r}function vs(e){M.H=jc;var t=De!==null&&De.next!==null;if(wa=0,$e=De=pe=null,Tc=!1,An=0,Ol=null,t)throw Error(i(300));e===null||Ke||(e=e.dependencies,e!==null&&wc(e)&&(Ke=!0))}function gs(e,t,a,l){pe=e;var n=0;do{if(El&&(Ol=null),An=0,El=!1,25<=n)throw Error(i(301));if(n+=1,$e=De=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}M.H=Zh,r=t(a,l)}while(El);return r}function Bh(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Rn(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(pe.flags|=1024),t}function wo(){var e=qc!==0;return qc=0,e}function Co(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ao(e){if(Tc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Tc=!1}wa=0,$e=De=pe=null,El=!1,An=qc=0,Ol=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?pe.memoizedState=$e=e:$e=$e.next=e,$e}function Xe(){if(De===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=$e===null?pe.memoizedState:$e.next;if(t!==null)$e=t,De=e;else{if(e===null)throw pe.alternate===null?Error(i(467)):Error(i(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},$e===null?pe.memoizedState=$e=e:$e=$e.next=e}return $e}function Ro(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rn(e){var t=An;return An+=1,Ol===null&&(Ol=[]),e=fs(Ol,e,t),t=pe,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?ed:td),e}function Ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Rn(e);if(e.$$typeof===Y)return lt(e)}throw Error(i(438,String(e)))}function xo(e){var t=null,a=pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ro(),pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=le;return t.index++,a}function la(e,t){return typeof t=="function"?t(e):t}function Oc(e){var t=Xe();return Do(t,De,e)}function Do(e,t,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var n=e.baseQueue,r=l.pending;if(r!==null){if(n!==null){var _=n.next;n.next=r.next,r.next=_}t.baseQueue=n=r,l.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{t=n.next;var v=_=null,C=null,q=t,L=!1;do{var G=q.lane&-536870913;if(G!==q.lane?(Se&G)===G:(wa&G)===G){var E=q.revertLane;if(E===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),G===Dl&&(L=!0);else if((wa&E)===E){q=q.next,E===Dl&&(L=!0);continue}else G={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(v=C=G,_=r):C=C.next=G,pe.lanes|=E,qa|=E;G=q.action,el&&a(r,G),r=q.hasEagerState?q.eagerState:a(r,G)}else E={lane:G,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(v=C=E,_=r):C=C.next=E,pe.lanes|=G,qa|=G;q=q.next}while(q!==null&&q!==t);if(C===null?_=r:C.next=v,!_t(r,e.memoizedState)&&(Ke=!0,L&&(a=Tl,a!==null)))throw a;e.memoizedState=r,e.baseState=_,e.baseQueue=C,l.lastRenderedState=r}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function To(e){var t=Xe(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,r=t.memoizedState;if(n!==null){a.pending=null;var _=n=n.next;do r=e(r,_.action),_=_.next;while(_!==n);_t(r,t.memoizedState)||(Ke=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,l]}function Ss(e,t,a){var l=pe,n=Xe(),r=we;if(r){if(a===void 0)throw Error(i(407));a=a()}else a=t();var _=!_t((De||n).memoizedState,a);_&&(n.memoizedState=a,Ke=!0),n=n.queue;var v=Cs.bind(null,l,n,e);if(xn(2048,8,v,[e]),n.getSnapshot!==t||_||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,Nl(9,Nc(),ws.bind(null,l,n,a,t),null),Ne===null)throw Error(i(349));r||(wa&124)!==0||bs(l,t,a)}return a}function bs(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pe.updateQueue,t===null?(t=Ro(),pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function ws(e,t,a,l){t.value=a,t.getSnapshot=l,As(t)&&Rs(e)}function Cs(e,t,a){return a(function(){As(t)&&Rs(e)})}function As(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!_t(e,a)}catch{return!0}}function Rs(e){var t=Cl(e,2);t!==null&&bt(t,e,2)}function qo(e){var t=ut();if(typeof e=="function"){var a=e;if(e=a(),el){ze(!0);try{a()}finally{ze(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function xs(e,t,a,l){return e.baseState=a,Do(e,De,typeof l=="function"?l:la)}function Vh(e,t,a,l,n){if(Mc(e))throw Error(i(485));if(e=t.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){r.listeners.push(_)}};M.T!==null?a(!0):r.isTransition=!1,l(r),a=t.pending,a===null?(r.next=t.pending=r,Ds(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Ds(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var r=M.T,_={};M.T=_;try{var v=a(n,l),C=M.S;C!==null&&C(_,v),Ts(e,t,v)}catch(q){Eo(e,t,q)}finally{M.T=r}}else try{r=a(n,l),Ts(e,t,r)}catch(q){Eo(e,t,q)}}function Ts(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qs(e,t,l)},function(l){return Eo(e,t,l)}):qs(e,t,a)}function qs(e,t,a){t.status="fulfilled",t.value=a,Es(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Ds(e,a)))}function Eo(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Es(t),t=t.next;while(t!==l)}e.action=null}function Es(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Os(e,t){return t}function Ns(e,t){if(we){var a=Ne.formState;if(a!==null){e:{var l=pe;if(we){if(Le){t:{for(var n=Le,r=Bt;n.nodeType!==8;){if(!r){n=null;break t}if(n=Ht(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){Le=Ht(n.nextSibling),l=n.data==="F!";break e}}Pa(l)}l=!1}l&&(t=a[0])}}return a=ut(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:t},a.queue=l,a=Js.bind(null,pe,l),l.dispatch=a,l=qo(!1),r=jo.bind(null,pe,!1,l.queue),l=ut(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Vh.bind(null,pe,n,r,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function Us(e){var t=Xe();return Ms(t,De,e)}function Ms(e,t,a){if(t=Do(e,t,Os)[0],e=Oc(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Rn(t)}catch(_){throw _===gn?Rc:_}else l=t;t=Xe();var n=t.queue,r=n.dispatch;return a!==t.memoizedState&&(pe.flags|=2048,Nl(9,Nc(),Gh.bind(null,n,a),null)),[l,r,e]}function Gh(e,t){e.action=t}function js(e){var t=Xe(),a=De;if(a!==null)return Ms(t,a,e);Xe(),t=t.memoizedState,a=Xe();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Nl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=pe.updateQueue,t===null&&(t=Ro(),pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Nc(){return{destroy:void 0,resource:void 0}}function zs(){return Xe().memoizedState}function Uc(e,t,a,l){var n=ut();l=l===void 0?null:l,pe.flags|=e,n.memoizedState=Nl(1|t,Nc(),a,l)}function xn(e,t,a,l){var n=Xe();l=l===void 0?null:l;var r=n.memoizedState.inst;De!==null&&l!==null&&So(l,De.memoizedState.deps)?n.memoizedState=Nl(t,r,a,l):(pe.flags|=e,n.memoizedState=Nl(1|t,r,a,l))}function Hs(e,t){Uc(8390656,8,e,t)}function ks(e,t){xn(2048,8,e,t)}function Ls(e,t){return xn(4,2,e,t)}function Ys(e,t){return xn(4,4,e,t)}function Bs(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vs(e,t,a){a=a!=null?a.concat([e]):null,xn(4,4,Bs.bind(null,t,e),a)}function Oo(){}function Gs(e,t){var a=Xe();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&So(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function $s(e,t){var a=Xe();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&So(t,l[1]))return l[0];if(l=e(),el){ze(!0);try{e()}finally{ze(!1)}}return a.memoizedState=[l,t],l}function No(e,t,a){return a===void 0||(wa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Zd(),pe.lanes|=e,qa|=e,a)}function Xs(e,t,a,l){return _t(a,t)?a:ql.current!==null?(e=No(e,a,l),_t(e,t)||(Ke=!0),e):(wa&42)===0?(Ke=!0,e.memoizedState=a):(e=Zd(),pe.lanes|=e,qa|=e,t)}function Qs(e,t,a,l,n){var r=D.p;D.p=r!==0&&8>r?r:8;var _=M.T,v={};M.T=v,jo(e,!1,t,a);try{var C=n(),q=M.S;if(q!==null&&q(v,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var L=Lh(C,l);Dn(e,t,L,St(e))}else Dn(e,t,l,St(e))}catch(G){Dn(e,t,{then:function(){},status:"rejected",reason:G},St())}finally{D.p=r,M.T=_}}function $h(){}function Uo(e,t,a,l){if(e.tag!==5)throw Error(i(476));var n=Zs(e).queue;Qs(e,n,t,U,a===null?$h:function(){return Fs(e),a(l)})}function Zs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:U},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Fs(e){var t=Zs(e).next.queue;Dn(e,t,{},St())}function Mo(){return lt(Xn)}function Ks(){return Xe().memoizedState}function Ps(){return Xe().memoizedState}function Xh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=St();e=Sa(a);var l=ba(t,e,a);l!==null&&(bt(l,t,a),bn(l,t,a)),t={cache:uo()},e.payload=t;return}t=t.return}}function Qh(e,t,a){var l=St();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Mc(e)?Is(t,a):(a=Wr(e,t,a,l),a!==null&&(bt(a,e,l),Ws(a,t,l)))}function Js(e,t,a){var l=St();Dn(e,t,a,l)}function Dn(e,t,a,l){var n={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mc(e))Is(t,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var _=t.lastRenderedState,v=r(_,a);if(n.hasEagerState=!0,n.eagerState=v,_t(v,_))return mc(e,t,n,0),Ne===null&&yc(),!1}catch{}finally{}if(a=Wr(e,t,n,l),a!==null)return bt(a,e,l),Ws(a,t,l),!0}return!1}function jo(e,t,a,l){if(l={lane:2,revertLane:pi(),action:l,hasEagerState:!1,eagerState:null,next:null},Mc(e)){if(t)throw Error(i(479))}else t=Wr(e,a,l,2),t!==null&&bt(t,e,2)}function Mc(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Is(e,t){El=Tc=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Ws(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,ou(e,a)}}var jc={readContext:lt,use:Ec,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve},ed={readContext:lt,use:Ec,useCallback:function(e,t){return ut().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Hs,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Uc(4194308,4,Bs.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Uc(4194308,4,e,t)},useInsertionEffect:function(e,t){Uc(4,2,e,t)},useMemo:function(e,t){var a=ut();t=t===void 0?null:t;var l=e();if(el){ze(!0);try{e()}finally{ze(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=ut();if(a!==void 0){var n=a(t);if(el){ze(!0);try{a(t)}finally{ze(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Qh.bind(null,pe,e),[l.memoizedState,e]},useRef:function(e){var t=ut();return e={current:e},t.memoizedState=e},useState:function(e){e=qo(e);var t=e.queue,a=Js.bind(null,pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Oo,useDeferredValue:function(e,t){var a=ut();return No(a,e,t)},useTransition:function(){var e=qo(!1);return e=Qs.bind(null,pe,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=pe,n=ut();if(we){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),Ne===null)throw Error(i(349));(Se&124)!==0||bs(l,t,a)}n.memoizedState=a;var r={value:a,getSnapshot:t};return n.queue=r,Hs(Cs.bind(null,l,r,e),[e]),l.flags|=2048,Nl(9,Nc(),ws.bind(null,l,r,a,t),null),a},useId:function(){var e=ut(),t=Ne.identifierPrefix;if(we){var a=ea,l=Wt;a=(l&~(1<<32-Me(l)-1)).toString(32)+a,t=""+t+"R"+a,a=qc++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=Yh++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:Ns,useActionState:Ns,useOptimistic:function(e){var t=ut();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=jo.bind(null,pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:xo,useCacheRefresh:function(){return ut().memoizedState=Xh.bind(null,pe)}},td={readContext:lt,use:Ec,useCallback:Gs,useContext:lt,useEffect:ks,useImperativeHandle:Vs,useInsertionEffect:Ls,useLayoutEffect:Ys,useMemo:$s,useReducer:Oc,useRef:zs,useState:function(){return Oc(la)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=Xe();return Xs(a,De.memoizedState,e,t)},useTransition:function(){var e=Oc(la)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Rn(e),t]},useSyncExternalStore:Ss,useId:Ks,useHostTransitionStatus:Mo,useFormState:Us,useActionState:Us,useOptimistic:function(e,t){var a=Xe();return xs(a,De,e,t)},useMemoCache:xo,useCacheRefresh:Ps},Zh={readContext:lt,use:Ec,useCallback:Gs,useContext:lt,useEffect:ks,useImperativeHandle:Vs,useInsertionEffect:Ls,useLayoutEffect:Ys,useMemo:$s,useReducer:To,useRef:zs,useState:function(){return To(la)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=Xe();return De===null?No(a,e,t):Xs(a,De.memoizedState,e,t)},useTransition:function(){var e=To(la)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:Rn(e),t]},useSyncExternalStore:Ss,useId:Ks,useHostTransitionStatus:Mo,useFormState:js,useActionState:js,useOptimistic:function(e,t){var a=Xe();return De!==null?xs(a,De,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:xo,useCacheRefresh:Ps},Ul=null,Tn=0;function zc(e){var t=Tn;return Tn+=1,Ul===null&&(Ul=[]),fs(Ul,e,t)}function qn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Hc(e,t){throw t.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ad(e){var t=e._init;return t(e._payload)}function ld(e){function t(x,A){if(e){var T=x.deletions;T===null?(x.deletions=[A],x.flags|=16):T.push(A)}}function a(x,A){if(!e)return null;for(;A!==null;)t(x,A),A=A.sibling;return null}function l(x){for(var A=new Map;x!==null;)x.key!==null?A.set(x.key,x):A.set(x.index,x),x=x.sibling;return A}function n(x,A){return x=It(x,A),x.index=0,x.sibling=null,x}function r(x,A,T){return x.index=T,e?(T=x.alternate,T!==null?(T=T.index,T<A?(x.flags|=67108866,A):T):(x.flags|=67108866,A)):(x.flags|=1048576,A)}function _(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function v(x,A,T,B){return A===null||A.tag!==6?(A=to(T,x.mode,B),A.return=x,A):(A=n(A,T),A.return=x,A)}function C(x,A,T,B){var ee=T.type;return ee===O?L(x,A,T.props.children,B,T.key):A!==null&&(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&ad(ee)===A.type)?(A=n(A,T.props),qn(A,T),A.return=x,A):(A=gc(T.type,T.key,T.props,null,x.mode,B),qn(A,T),A.return=x,A)}function q(x,A,T,B){return A===null||A.tag!==4||A.stateNode.containerInfo!==T.containerInfo||A.stateNode.implementation!==T.implementation?(A=ao(T,x.mode,B),A.return=x,A):(A=n(A,T.children||[]),A.return=x,A)}function L(x,A,T,B,ee){return A===null||A.tag!==7?(A=Qa(T,x.mode,B,ee),A.return=x,A):(A=n(A,T),A.return=x,A)}function G(x,A,T){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=to(""+A,x.mode,T),A.return=x,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case w:return T=gc(A.type,A.key,A.props,null,x.mode,T),qn(T,A),T.return=x,T;case R:return A=ao(A,x.mode,T),A.return=x,A;case fe:var B=A._init;return A=B(A._payload),G(x,A,T)}if(_e(A)||ge(A))return A=Qa(A,x.mode,T,null),A.return=x,A;if(typeof A.then=="function")return G(x,zc(A),T);if(A.$$typeof===Y)return G(x,Cc(x,A),T);Hc(x,A)}return null}function E(x,A,T,B){var ee=A!==null?A.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return ee!==null?null:v(x,A,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case w:return T.key===ee?C(x,A,T,B):null;case R:return T.key===ee?q(x,A,T,B):null;case fe:return ee=T._init,T=ee(T._payload),E(x,A,T,B)}if(_e(T)||ge(T))return ee!==null?null:L(x,A,T,B,null);if(typeof T.then=="function")return E(x,A,zc(T),B);if(T.$$typeof===Y)return E(x,A,Cc(x,T),B);Hc(x,T)}return null}function N(x,A,T,B,ee){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return x=x.get(T)||null,v(A,x,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return x=x.get(B.key===null?T:B.key)||null,C(A,x,B,ee);case R:return x=x.get(B.key===null?T:B.key)||null,q(A,x,B,ee);case fe:var he=B._init;return B=he(B._payload),N(x,A,T,B,ee)}if(_e(B)||ge(B))return x=x.get(T)||null,L(A,x,B,ee,null);if(typeof B.then=="function")return N(x,A,T,zc(B),ee);if(B.$$typeof===Y)return N(x,A,T,Cc(A,B),ee);Hc(A,B)}return null}function ie(x,A,T,B){for(var ee=null,he=null,ae=A,oe=A=0,Je=null;ae!==null&&oe<T.length;oe++){ae.index>oe?(Je=ae,ae=null):Je=ae.sibling;var be=E(x,ae,T[oe],B);if(be===null){ae===null&&(ae=Je);break}e&&ae&&be.alternate===null&&t(x,ae),A=r(be,A,oe),he===null?ee=be:he.sibling=be,he=be,ae=Je}if(oe===T.length)return a(x,ae),we&&Fa(x,oe),ee;if(ae===null){for(;oe<T.length;oe++)ae=G(x,T[oe],B),ae!==null&&(A=r(ae,A,oe),he===null?ee=ae:he.sibling=ae,he=ae);return we&&Fa(x,oe),ee}for(ae=l(ae);oe<T.length;oe++)Je=N(ae,x,oe,T[oe],B),Je!==null&&(e&&Je.alternate!==null&&ae.delete(Je.key===null?oe:Je.key),A=r(Je,A,oe),he===null?ee=Je:he.sibling=Je,he=Je);return e&&ae.forEach(function(ka){return t(x,ka)}),we&&Fa(x,oe),ee}function ce(x,A,T,B){if(T==null)throw Error(i(151));for(var ee=null,he=null,ae=A,oe=A=0,Je=null,be=T.next();ae!==null&&!be.done;oe++,be=T.next()){ae.index>oe?(Je=ae,ae=null):Je=ae.sibling;var ka=E(x,ae,be.value,B);if(ka===null){ae===null&&(ae=Je);break}e&&ae&&ka.alternate===null&&t(x,ae),A=r(ka,A,oe),he===null?ee=ka:he.sibling=ka,he=ka,ae=Je}if(be.done)return a(x,ae),we&&Fa(x,oe),ee;if(ae===null){for(;!be.done;oe++,be=T.next())be=G(x,be.value,B),be!==null&&(A=r(be,A,oe),he===null?ee=be:he.sibling=be,he=be);return we&&Fa(x,oe),ee}for(ae=l(ae);!be.done;oe++,be=T.next())be=N(ae,x,oe,be.value,B),be!==null&&(e&&be.alternate!==null&&ae.delete(be.key===null?oe:be.key),A=r(be,A,oe),he===null?ee=be:he.sibling=be,he=be);return e&&ae.forEach(function(F_){return t(x,F_)}),we&&Fa(x,oe),ee}function qe(x,A,T,B){if(typeof T=="object"&&T!==null&&T.type===O&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case w:e:{for(var ee=T.key;A!==null;){if(A.key===ee){if(ee=T.type,ee===O){if(A.tag===7){a(x,A.sibling),B=n(A,T.props.children),B.return=x,x=B;break e}}else if(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&ad(ee)===A.type){a(x,A.sibling),B=n(A,T.props),qn(B,T),B.return=x,x=B;break e}a(x,A);break}else t(x,A);A=A.sibling}T.type===O?(B=Qa(T.props.children,x.mode,B,T.key),B.return=x,x=B):(B=gc(T.type,T.key,T.props,null,x.mode,B),qn(B,T),B.return=x,x=B)}return _(x);case R:e:{for(ee=T.key;A!==null;){if(A.key===ee)if(A.tag===4&&A.stateNode.containerInfo===T.containerInfo&&A.stateNode.implementation===T.implementation){a(x,A.sibling),B=n(A,T.children||[]),B.return=x,x=B;break e}else{a(x,A);break}else t(x,A);A=A.sibling}B=ao(T,x.mode,B),B.return=x,x=B}return _(x);case fe:return ee=T._init,T=ee(T._payload),qe(x,A,T,B)}if(_e(T))return ie(x,A,T,B);if(ge(T)){if(ee=ge(T),typeof ee!="function")throw Error(i(150));return T=ee.call(T),ce(x,A,T,B)}if(typeof T.then=="function")return qe(x,A,zc(T),B);if(T.$$typeof===Y)return qe(x,A,Cc(x,T),B);Hc(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,A!==null&&A.tag===6?(a(x,A.sibling),B=n(A,T),B.return=x,x=B):(a(x,A),B=to(T,x.mode,B),B.return=x,x=B),_(x)):a(x,A)}return function(x,A,T,B){try{Tn=0;var ee=qe(x,A,T,B);return Ul=null,ee}catch(ae){if(ae===gn||ae===Rc)throw ae;var he=yt(29,ae,null,x.mode);return he.lanes=B,he.return=x,he}finally{}}}var Ml=ld(!0),nd=ld(!1),Ot=z(null),Vt=null;function Ca(e){var t=e.alternate;X(Ze,Ze.current&1),X(Ot,e),Vt===null&&(t===null||ql.current!==null||t.memoizedState!==null)&&(Vt=e)}function cd(e){if(e.tag===22){if(X(Ze,Ze.current),X(Ot,e),Vt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Vt=e)}}else Aa()}function Aa(){X(Ze,Ze.current),X(Ot,Ot.current)}function na(e){Z(Ot),Vt===e&&(Vt=null),Z(Ze)}var Ze=z(0);function kc(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ri(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function zo(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:m({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ho={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=St(),n=Sa(l);n.payload=t,a!=null&&(n.callback=a),t=ba(e,n,l),t!==null&&(bt(t,e,l),bn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=St(),n=Sa(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ba(e,n,l),t!==null&&(bt(t,e,l),bn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=St(),l=Sa(a);l.tag=2,t!=null&&(l.callback=t),t=ba(e,l,a),t!==null&&(bt(t,e,a),bn(t,e,a))}};function rd(e,t,a,l,n,r,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,r,_):t.prototype&&t.prototype.isPureReactComponent?!dn(a,l)||!dn(n,r):!0}function od(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function tl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=m({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var Lc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function id(e){Lc(e)}function ud(e){console.error(e)}function sd(e){Lc(e)}function Yc(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function dd(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function ko(e,t,a){return a=Sa(a),a.tag=3,a.payload={element:null},a.callback=function(){Yc(e,t)},a}function fd(e){return e=Sa(e),e.tag=3,e}function pd(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=l.value;e.payload=function(){return n(r)},e.callback=function(){dd(t,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){dd(t,a,l),typeof n!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function Fh(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&yn(t,a,n,!0),a=Ot.current,a!==null){switch(a.tag){case 13:return Vt===null?ii():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===po?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),si(e,l,n)),!1;case 22:return a.flags|=65536,l===po?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),si(e,l,n)),!1}throw Error(i(435,a.tag))}return si(e,l,n),ii(),!1}if(we)return t=Ot.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==co&&(e=Error(i(422),{cause:l}),_n(Dt(e,a)))):(l!==co&&(t=Error(i(423),{cause:l}),_n(Dt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=Dt(l,a),n=ko(e.stateNode,l,n),yo(e,n),Ye!==4&&(Ye=2)),!1;var r=Error(i(520),{cause:l});if(r=Dt(r,a),zn===null?zn=[r]:zn.push(r),Ye!==4&&(Ye=2),t===null)return!0;l=Dt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=ko(a.stateNode,l,e),yo(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ea===null||!Ea.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=fd(n),pd(n,e,a,l),yo(a,n),!1}a=a.return}while(a!==null);return!1}var hd=Error(i(461)),Ke=!1;function Ie(e,t,a,l){t.child=e===null?nd(t,null,a,l):Ml(t,e.child,a,l)}function _d(e,t,a,l,n){a=a.render;var r=t.ref;if("ref"in l){var _={};for(var v in l)v!=="ref"&&(_[v]=l[v])}else _=l;return Ia(t),l=bo(e,t,a,_,r,n),v=wo(),e!==null&&!Ke?(Co(e,t,n),ca(e,t,n)):(we&&v&&lo(t),t.flags|=1,Ie(e,t,l,n),t.child)}function yd(e,t,a,l,n){if(e===null){var r=a.type;return typeof r=="function"&&!eo(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,md(e,t,r,l,n)):(e=gc(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Qo(e,n)){var _=r.memoizedProps;if(a=a.compare,a=a!==null?a:dn,a(_,l)&&e.ref===t.ref)return ca(e,t,n)}return t.flags|=1,e=It(r,l),e.ref=t.ref,e.return=t,t.child=e}function md(e,t,a,l,n){if(e!==null){var r=e.memoizedProps;if(dn(r,l)&&e.ref===t.ref)if(Ke=!1,t.pendingProps=l=r,Qo(e,n))(e.flags&131072)!==0&&(Ke=!0);else return t.lanes=e.lanes,ca(e,t,n)}return Lo(e,t,a,l,n)}function vd(e,t,a){var l=t.pendingProps,n=l.children,r=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=r!==null?r.baseLanes|a:a,e!==null){for(n=t.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;t.childLanes=r&~l}else t.childLanes=0,t.child=null;return gd(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ac(t,r!==null?r.cachePool:null),r!==null?ms(t,r):vo(),cd(t);else return t.lanes=t.childLanes=536870912,gd(e,t,r!==null?r.baseLanes|a:a,a)}else r!==null?(Ac(t,r.cachePool),ms(t,r),Aa(),t.memoizedState=null):(e!==null&&Ac(t,null),vo(),Aa());return Ie(e,t,n,a),t.child}function gd(e,t,a,l){var n=fo();return n=n===null?null:{parent:Qe._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&Ac(t,null),vo(),cd(t),e!==null&&yn(e,t,l,!0),null}function Bc(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Lo(e,t,a,l,n){return Ia(t),a=bo(e,t,a,l,void 0,n),l=wo(),e!==null&&!Ke?(Co(e,t,n),ca(e,t,n)):(we&&l&&lo(t),t.flags|=1,Ie(e,t,a,n),t.child)}function Sd(e,t,a,l,n,r){return Ia(t),t.updateQueue=null,a=gs(t,l,a,n),vs(e),l=wo(),e!==null&&!Ke?(Co(e,t,r),ca(e,t,r)):(we&&l&&lo(t),t.flags|=1,Ie(e,t,a,r),t.child)}function bd(e,t,a,l,n){if(Ia(t),t.stateNode===null){var r=Al,_=a.contextType;typeof _=="object"&&_!==null&&(r=lt(_)),r=new a(l,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ho,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=l,r.state=t.memoizedState,r.refs={},ho(t),_=a.contextType,r.context=typeof _=="object"&&_!==null?lt(_):Al,r.state=t.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(zo(t,a,_,l),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(_=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),_!==r.state&&Ho.enqueueReplaceState(r,r.state,null),Cn(t,l,r,n),wn(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){r=t.stateNode;var v=t.memoizedProps,C=tl(a,v);r.props=C;var q=r.context,L=a.contextType;_=Al,typeof L=="object"&&L!==null&&(_=lt(L));var G=a.getDerivedStateFromProps;L=typeof G=="function"||typeof r.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,L||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(v||q!==_)&&od(t,r,l,_),ga=!1;var E=t.memoizedState;r.state=E,Cn(t,l,r,n),wn(),q=t.memoizedState,v||E!==q||ga?(typeof G=="function"&&(zo(t,a,G,l),q=t.memoizedState),(C=ga||rd(t,a,C,l,E,q,_))?(L||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=q),r.props=l,r.state=q,r.context=_,l=C):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{r=t.stateNode,_o(e,t),_=t.memoizedProps,L=tl(a,_),r.props=L,G=t.pendingProps,E=r.context,q=a.contextType,C=Al,typeof q=="object"&&q!==null&&(C=lt(q)),v=a.getDerivedStateFromProps,(q=typeof v=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(_!==G||E!==C)&&od(t,r,l,C),ga=!1,E=t.memoizedState,r.state=E,Cn(t,l,r,n),wn();var N=t.memoizedState;_!==G||E!==N||ga||e!==null&&e.dependencies!==null&&wc(e.dependencies)?(typeof v=="function"&&(zo(t,a,v,l),N=t.memoizedState),(L=ga||rd(t,a,L,l,E,N,C)||e!==null&&e.dependencies!==null&&wc(e.dependencies))?(q||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(l,N,C),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(l,N,C)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||_===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=N),r.props=l,r.state=N,r.context=C,l=L):(typeof r.componentDidUpdate!="function"||_===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),l=!1)}return r=l,Bc(e,t),l=(t.flags&128)!==0,r||l?(r=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&l?(t.child=Ml(t,e.child,null,n),t.child=Ml(t,null,a,n)):Ie(e,t,a,n),t.memoizedState=r.state,e=t.child):e=ca(e,t,n),e}function wd(e,t,a,l){return hn(),t.flags|=256,Ie(e,t,a,l),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:us()}}function Vo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Nt),e}function Cd(e,t,a){var l=t.pendingProps,n=!1,r=(t.flags&128)!==0,_;if((_=r)||(_=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),_&&(n=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(n?Ca(t):Aa(),we){var v=Le,C;if(C=v){e:{for(C=v,v=Bt;C.nodeType!==8;){if(!v){v=null;break e}if(C=Ht(C.nextSibling),C===null){v=null;break e}}v=C}v!==null?(t.memoizedState={dehydrated:v,treeContext:Za!==null?{id:Wt,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},C=yt(18,null,null,0),C.stateNode=v,C.return=t,t.child=C,ct=t,Le=null,C=!0):C=!1}C||Pa(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Ri(v)?t.lanes=32:t.lanes=536870912,null;na(t)}return v=l.children,l=l.fallback,n?(Aa(),n=t.mode,v=Vc({mode:"hidden",children:v},n),l=Qa(l,n,a,null),v.return=t,l.return=t,v.sibling=l,t.child=v,n=t.child,n.memoizedState=Bo(a),n.childLanes=Vo(e,_,a),t.memoizedState=Yo,l):(Ca(t),Go(t,v))}if(C=e.memoizedState,C!==null&&(v=C.dehydrated,v!==null)){if(r)t.flags&256?(Ca(t),t.flags&=-257,t=$o(e,t,a)):t.memoizedState!==null?(Aa(),t.child=e.child,t.flags|=128,t=null):(Aa(),n=l.fallback,v=t.mode,l=Vc({mode:"visible",children:l.children},v),n=Qa(n,v,a,null),n.flags|=2,l.return=t,n.return=t,l.sibling=n,t.child=l,Ml(t,e.child,null,a),l=t.child,l.memoizedState=Bo(a),l.childLanes=Vo(e,_,a),t.memoizedState=Yo,t=n);else if(Ca(t),Ri(v)){if(_=v.nextSibling&&v.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(i(419)),l.stack="",l.digest=_,_n({value:l,source:null,stack:null}),t=$o(e,t,a)}else if(Ke||yn(e,t,a,!1),_=(a&e.childLanes)!==0,Ke||_){if(_=Ne,_!==null&&(l=a&-a,l=(l&42)!==0?1:Rr(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Cl(e,l),bt(_,e,l),hd;v.data==="$?"||ii(),t=$o(e,t,a)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Le=Ht(v.nextSibling),ct=t,we=!0,Ka=null,Bt=!1,e!==null&&(qt[Et++]=Wt,qt[Et++]=ea,qt[Et++]=Za,Wt=e.id,ea=e.overflow,Za=t),t=Go(t,l.children),t.flags|=4096);return t}return n?(Aa(),n=l.fallback,v=t.mode,C=e.child,q=C.sibling,l=It(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?n=It(q,n):(n=Qa(n,v,a,null),n.flags|=2),n.return=t,l.return=t,l.sibling=n,t.child=l,l=n,n=t.child,v=e.child.memoizedState,v===null?v=Bo(a):(C=v.cachePool,C!==null?(q=Qe._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=us(),v={baseLanes:v.baseLanes|a,cachePool:C}),n.memoizedState=v,n.childLanes=Vo(e,_,a),t.memoizedState=Yo,l):(Ca(t),a=e.child,e=a.sibling,a=It(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=a,t.memoizedState=null,a)}function Go(e,t){return t=Vc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Vc(e,t){return e=yt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function $o(e,t,a){return Ml(t,e.child,null,a),e=Go(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ad(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),oo(e.return,t,a)}function Xo(e,t,a,l,n){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=n)}function Rd(e,t,a){var l=t.pendingProps,n=l.revealOrder,r=l.tail;if(Ie(e,t,l.children,a),l=Ze.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ad(e,a,t);else if(e.tag===19)Ad(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(X(Ze,l),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&kc(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Xo(t,!1,n,a,r);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&kc(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Xo(t,!0,a,null,r);break;case"together":Xo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ca(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(yn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=It(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=It(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&wc(e)))}function Kh(e,t,a){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),va(t,Qe,e.memoizedState.cache),hn();break;case 27:case 5:Pl(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:va(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ca(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Cd(e,t,a):(Ca(t),e=ca(e,t,a),e!==null?e.sibling:null);Ca(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(yn(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Rd(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),X(Ze,Ze.current),l)break;return null;case 22:case 23:return t.lanes=0,vd(e,t,a);case 24:va(t,Qe,e.memoizedState.cache)}return ca(e,t,a)}function xd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ke=!0;else{if(!Qo(e,a)&&(t.flags&128)===0)return Ke=!1,Kh(e,t,a);Ke=(e.flags&131072)!==0}else Ke=!1,we&&(t.flags&1048576)!==0&&as(t,bc,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,n=l._init;if(l=n(l._payload),t.type=l,typeof l=="function")eo(l)?(e=tl(l,e),t.tag=1,t=bd(null,t,l,e,a)):(t.tag=0,t=Lo(null,t,l,e,a));else{if(l!=null){if(n=l.$$typeof,n===W){t.tag=11,t=_d(null,t,l,e,a);break e}else if(n===ue){t.tag=14,t=yd(null,t,l,e,a);break e}}throw t=Re(l)||l,Error(i(306,t,""))}}return t;case 0:return Lo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=tl(l,t.pendingProps),bd(e,t,l,n,a);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var r=t.memoizedState;n=r.element,_o(e,t),Cn(t,l,null,a);var _=t.memoizedState;if(l=_.cache,va(t,Qe,l),l!==r.cache&&io(t,[Qe],a,!0),wn(),l=_.element,r.isDehydrated)if(r={element:l,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=wd(e,t,l,a);break e}else if(l!==n){n=Dt(Error(i(424)),t),_n(n),t=wd(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Ht(e.firstChild),ct=t,we=!0,Ka=null,Bt=!0,a=nd(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(hn(),l===n){t=ca(e,t,a);break e}Ie(e,t,l,a)}t=t.child}return t;case 26:return Bc(e,t),e===null?(a=Of(t.type,null,t.pendingProps,null))?t.memoizedState=a:we||(a=t.type,e=t.pendingProps,l=ar(ne.current).createElement(a),l[at]=t,l[ot]=e,et(l,a,e),Fe(l),t.stateNode=l):t.memoizedState=Of(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Pl(t),e===null&&we&&(l=t.stateNode=Tf(t.type,t.pendingProps,ne.current),ct=t,Bt=!0,n=Le,Ua(t.type)?(xi=n,Le=Ht(l.firstChild)):Le=n),Ie(e,t,t.pendingProps.children,a),Bc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((n=l=Le)&&(l=C_(l,t.type,t.pendingProps,Bt),l!==null?(t.stateNode=l,ct=t,Le=Ht(l.firstChild),Bt=!1,n=!0):n=!1),n||Pa(t)),Pl(t),n=t.type,r=t.pendingProps,_=e!==null?e.memoizedProps:null,l=r.children,wi(n,r)?l=null:_!==null&&wi(n,_)&&(t.flags|=32),t.memoizedState!==null&&(n=bo(e,t,Bh,null,null,a),Xn._currentValue=n),Bc(e,t),Ie(e,t,l,a),t.child;case 6:return e===null&&we&&((e=a=Le)&&(a=A_(a,t.pendingProps,Bt),a!==null?(t.stateNode=a,ct=t,Le=null,e=!0):e=!1),e||Pa(t)),null;case 13:return Cd(e,t,a);case 4:return xe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ml(t,null,l,a):Ie(e,t,l,a),t.child;case 11:return _d(e,t,t.type,t.pendingProps,a);case 7:return Ie(e,t,t.pendingProps,a),t.child;case 8:return Ie(e,t,t.pendingProps.children,a),t.child;case 12:return Ie(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,va(t,t.type,l.value),Ie(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Ia(t),n=lt(n),l=l(n),t.flags|=1,Ie(e,t,l,a),t.child;case 14:return yd(e,t,t.type,t.pendingProps,a);case 15:return md(e,t,t.type,t.pendingProps,a);case 19:return Rd(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=Vc(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=It(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return vd(e,t,a);case 24:return Ia(t),l=lt(Qe),e===null?(n=fo(),n===null&&(n=Ne,r=uo(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),t.memoizedState={parent:l,cache:n},ho(t),va(t,Qe,n)):((e.lanes&a)!==0&&(_o(e,t),Cn(t,null,null,a),wn()),n=e.memoizedState,r=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),va(t,Qe,l)):(l=r.cache,va(t,Qe,l),l!==n.cache&&io(t,[Qe],a,!0))),Ie(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ra(e){e.flags|=4}function Dd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!zf(t)){if(t=Ot.current,t!==null&&((Se&4194048)===Se?Vt!==null:(Se&62914560)!==Se&&(Se&536870912)===0||t!==Vt))throw Sn=po,ss;e.flags|=8192}}function Gc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?nc():536870912,e.lanes|=t,kl|=t)}function En(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Ph(e,t,a){var l=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),aa(Qe),Ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(pn(t)?ra(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,cs())),ke(t),null;case 26:return a=t.memoizedState,e===null?(ra(t),a!==null?(ke(t),Dd(t,a)):(ke(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ra(t),ke(t),Dd(t,a)):(ke(t),t.flags&=-16777217):(e.memoizedProps!==l&&ra(t),ke(t),t.flags&=-16777217),null;case 27:Ba(t),a=ne.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ra(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ke(t),null}e=J.current,pn(t)?ls(t):(e=Tf(n,l,a),t.stateNode=e,ra(t))}return ke(t),null;case 5:if(Ba(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ra(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return ke(t),null}if(e=J.current,pn(t))ls(t);else{switch(n=ar(ne.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?n.createElement(a,{is:l.is}):n.createElement(a)}}e[at]=t,e[ot]=l;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(et(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ra(t)}}return ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ra(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=ne.current,pn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=ct,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[at]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||bf(e.nodeValue,a)),e||Pa(t)}else e=ar(e).createTextNode(l),e[at]=t,t.stateNode=e}return ke(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=pn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(i(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));n[at]=t}else hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),n=!1}else n=cs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(na(t),t):(na(t),null)}if(na(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var r=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==n&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Gc(t,t.updateQueue),ke(t),null;case 4:return Ct(),e===null&&mi(t.stateNode.containerInfo),ke(t),null;case 10:return aa(t.type),ke(t),null;case 19:if(Z(Ze),n=t.memoizedState,n===null)return ke(t),null;if(l=(t.flags&128)!==0,r=n.rendering,r===null)if(l)En(n,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=kc(e),r!==null){for(t.flags|=128,En(n,!1),e=r.updateQueue,t.updateQueue=e,Gc(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ts(a,e),a=a.sibling;return X(Ze,Ze.current&1|2),t.child}e=e.sibling}n.tail!==null&&At()>Qc&&(t.flags|=128,l=!0,En(n,!1),t.lanes=4194304)}else{if(!l)if(e=kc(r),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Gc(t,e),En(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!we)return ke(t),null}else 2*At()-n.renderingStartTime>Qc&&a!==536870912&&(t.flags|=128,l=!0,En(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=At(),t.sibling=null,e=Ze.current,X(Ze,l?e&1|2:e&1),t):(ke(t),null);case 22:case 23:return na(t),go(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),a=t.updateQueue,a!==null&&Gc(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&Z(Wa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),aa(Qe),ke(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Jh(e,t){switch(no(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return aa(Qe),Ct(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ba(t),null;case 13:if(na(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(Ze),null;case 4:return Ct(),null;case 10:return aa(t.type),null;case 22:case 23:return na(t),go(),e!==null&&Z(Wa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return aa(Qe),null;case 25:return null;default:return null}}function Td(e,t){switch(no(t),t.tag){case 3:aa(Qe),Ct();break;case 26:case 27:case 5:Ba(t);break;case 4:Ct();break;case 13:na(t);break;case 19:Z(Ze);break;case 10:aa(t.type);break;case 22:case 23:na(t),go(),e!==null&&Z(Wa);break;case 24:aa(Qe)}}function On(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var r=a.create,_=a.inst;l=r(),_.destroy=l}a=a.next}while(a!==n)}}catch(v){Ee(t,t.return,v)}}function Ra(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var r=n.next;l=r;do{if((l.tag&e)===e){var _=l.inst,v=_.destroy;if(v!==void 0){_.destroy=void 0,n=t;var C=a,q=v;try{q()}catch(L){Ee(n,C,L)}}}l=l.next}while(l!==r)}}catch(L){Ee(t,t.return,L)}}function qd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{ys(t,a)}catch(l){Ee(e,e.return,l)}}}function Ed(e,t,a){a.props=tl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ee(e,t,l)}}function Nn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){Ee(e,t,n)}}function Gt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){Ee(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Ee(e,t,n)}else a.current=null}function Od(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){Ee(e,e.return,n)}}function Zo(e,t,a){try{var l=e.stateNode;v_(l,e.type,a,t),l[ot]=t}catch(n){Ee(e,e.return,n)}}function Nd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ua(e.type)||e.tag===4}function Fo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ko(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=tr));else if(l!==4&&(l===27&&Ua(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ko(e,t,a),e=e.sibling;e!==null;)Ko(e,t,a),e=e.sibling}function $c(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ua(e.type)&&(a=e.stateNode),e=e.child,e!==null))for($c(e,t,a),e=e.sibling;e!==null;)$c(e,t,a),e=e.sibling}function Ud(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);et(t,l,a),t[at]=e,t[ot]=a}catch(r){Ee(e,e.return,r)}}var oa=!1,Ge=!1,Po=!1,Md=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Ih(e,t){if(e=e.containerInfo,Si=ir,e=Xu(e),Zr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,r=l.focusNode;l=l.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var _=0,v=-1,C=-1,q=0,L=0,G=e,E=null;t:for(;;){for(var N;G!==a||n!==0&&G.nodeType!==3||(v=_+n),G!==r||l!==0&&G.nodeType!==3||(C=_+l),G.nodeType===3&&(_+=G.nodeValue.length),(N=G.firstChild)!==null;)E=G,G=N;for(;;){if(G===e)break t;if(E===a&&++q===n&&(v=_),E===r&&++L===l&&(C=_),(N=G.nextSibling)!==null)break;G=E,E=G.parentNode}G=N}a=v===-1||C===-1?null:{start:v,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(bi={focusedElem:e,selectionRange:a},ir=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){switch(t=Pe,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,n=r.memoizedProps,r=r.memoizedState,l=a.stateNode;try{var ie=tl(a.type,n,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ie,r),l.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Ee(a,a.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ai(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ai(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}}function jd(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xa(e,a),l&4&&On(5,a);break;case 1:if(xa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(_){Ee(a,a.return,_)}else{var n=tl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Ee(a,a.return,_)}}l&64&&qd(a),l&512&&Nn(a,a.return);break;case 3:if(xa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ys(e,t)}catch(_){Ee(a,a.return,_)}}break;case 27:t===null&&l&4&&Ud(a);case 26:case 5:xa(e,a),t===null&&l&4&&Od(a),l&512&&Nn(a,a.return);break;case 12:xa(e,a);break;case 13:xa(e,a),l&4&&kd(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=o_.bind(null,a),R_(e,a))));break;case 22:if(l=a.memoizedState!==null||oa,!l){t=t!==null&&t.memoizedState!==null||Ge,n=oa;var r=Ge;oa=l,(Ge=t)&&!r?Da(e,a,(a.subtreeFlags&8772)!==0):xa(e,a),oa=n,Ge=r}break;case 30:break;default:xa(e,a)}}function zd(e){var t=e.alternate;t!==null&&(e.alternate=null,zd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,st=!1;function ia(e,t,a){for(a=a.child;a!==null;)Hd(e,t,a),a=a.sibling}function Hd(e,t,a){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(I,a)}catch{}switch(a.tag){case 26:Ge||Gt(a,t),ia(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ge||Gt(a,t);var l=He,n=st;Ua(a.type)&&(He=a.stateNode,st=!1),ia(e,t,a),Bn(a.stateNode),He=l,st=n;break;case 5:Ge||Gt(a,t);case 6:if(l=He,n=st,He=null,ia(e,t,a),He=l,st=n,He!==null)if(st)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(r){Ee(a,t,r)}else try{He.removeChild(a.stateNode)}catch(r){Ee(a,t,r)}break;case 18:He!==null&&(st?(e=He,xf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Kn(e)):xf(He,a.stateNode));break;case 4:l=He,n=st,He=a.stateNode.containerInfo,st=!0,ia(e,t,a),He=l,st=n;break;case 0:case 11:case 14:case 15:Ge||Ra(2,a,t),Ge||Ra(4,a,t),ia(e,t,a);break;case 1:Ge||(Gt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ed(a,t,l)),ia(e,t,a);break;case 21:ia(e,t,a);break;case 22:Ge=(l=Ge)||a.memoizedState!==null,ia(e,t,a),Ge=l;break;default:ia(e,t,a)}}function kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Kn(e)}catch(a){Ee(t,t.return,a)}}function Wh(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Md),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Md),t;default:throw Error(i(435,e.tag))}}function Jo(e,t){var a=Wh(e);t.forEach(function(l){var n=i_.bind(null,e,l);a.has(l)||(a.add(l),l.then(n,n))})}function mt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],r=e,_=t,v=_;e:for(;v!==null;){switch(v.tag){case 27:if(Ua(v.type)){He=v.stateNode,st=!1;break e}break;case 5:He=v.stateNode,st=!1;break e;case 3:case 4:He=v.stateNode.containerInfo,st=!0;break e}v=v.return}if(He===null)throw Error(i(160));Hd(r,_,n),He=null,st=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ld(t,e),t=t.sibling}var zt=null;function Ld(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(t,e),vt(e),l&4&&(Ra(3,e,e.return),On(3,e),Ra(5,e,e.return));break;case 1:mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),l&64&&oa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=zt;if(mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),l&4){var r=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":r=n.getElementsByTagName("title")[0],(!r||r[tn]||r[at]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(l),n.head.insertBefore(r,n.querySelector("head > title"))),et(r,l,a),r[at]=e,Fe(r),l=r;break e;case"link":var _=Mf("link","href",n).get(l+(a.href||""));if(_){for(var v=0;v<_.length;v++)if(r=_[v],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(v,1);break t}}r=n.createElement(l),et(r,l,a),n.head.appendChild(r);break;case"meta":if(_=Mf("meta","content",n).get(l+(a.content||""))){for(v=0;v<_.length;v++)if(r=_[v],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(v,1);break t}}r=n.createElement(l),et(r,l,a),n.head.appendChild(r);break;default:throw Error(i(468,l))}r[at]=e,Fe(r),l=r}e.stateNode=l}else jf(n,e.type,e.stateNode);else e.stateNode=Uf(n,l,e.memoizedProps);else r!==l?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,l===null?jf(n,e.type,e.stateNode):Uf(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Zo(e,e.memoizedProps,a.memoizedProps)}break;case 27:mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),a!==null&&l&4&&Zo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),e.flags&32){n=e.stateNode;try{yl(n,"")}catch(N){Ee(e,e.return,N)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Zo(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Po=!0);break;case 6:if(mt(t,e),vt(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(N){Ee(e,e.return,N)}}break;case 3:if(cr=null,n=zt,zt=lr(t.containerInfo),mt(t,e),zt=n,vt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Kn(t.containerInfo)}catch(N){Ee(e,e.return,N)}Po&&(Po=!1,Yd(e));break;case 4:l=zt,zt=lr(e.stateNode.containerInfo),mt(t,e),vt(e),zt=l;break;case 12:mt(t,e),vt(e);break;case 13:mt(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(li=At()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jo(e,l)));break;case 22:n=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=oa,L=Ge;if(oa=q||n,Ge=L||C,mt(t,e),Ge=L,oa=q,vt(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||C||oa||Ge||al(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){C=a=t;try{if(r=C.stateNode,n)_=r.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{v=C.stateNode;var G=C.memoizedProps.style,E=G!=null&&G.hasOwnProperty("display")?G.display:null;v.style.display=E==null||typeof E=="boolean"?"":(""+E).trim()}}catch(N){Ee(C,C.return,N)}}}else if(t.tag===6){if(a===null){C=t;try{C.stateNode.nodeValue=n?"":C.memoizedProps}catch(N){Ee(C,C.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jo(e,a))));break;case 19:mt(t,e),vt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Jo(e,l)));break;case 30:break;case 21:break;default:mt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Nd(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var n=a.stateNode,r=Fo(e);$c(e,r,n);break;case 5:var _=a.stateNode;a.flags&32&&(yl(_,""),a.flags&=-33);var v=Fo(e);$c(e,v,_);break;case 3:case 4:var C=a.stateNode.containerInfo,q=Fo(e);Ko(e,q,C);break;default:throw Error(i(161))}}catch(L){Ee(e,e.return,L)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Yd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jd(e,t.alternate,t),t=t.sibling}function al(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ra(4,t,t.return),al(t);break;case 1:Gt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Ed(t,t.return,a),al(t);break;case 27:Bn(t.stateNode);case 26:case 5:Gt(t,t.return),al(t);break;case 22:t.memoizedState===null&&al(t);break;case 30:al(t);break;default:al(t)}e=e.sibling}}function Da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,r=t,_=r.flags;switch(r.tag){case 0:case 11:case 15:Da(n,r,a),On(4,r);break;case 1:if(Da(n,r,a),l=r,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(q){Ee(l,l.return,q)}if(l=r,n=l.updateQueue,n!==null){var v=l.stateNode;try{var C=n.shared.hiddenCallbacks;if(C!==null)for(n.shared.hiddenCallbacks=null,n=0;n<C.length;n++)_s(C[n],v)}catch(q){Ee(l,l.return,q)}}a&&_&64&&qd(r),Nn(r,r.return);break;case 27:Ud(r);case 26:case 5:Da(n,r,a),a&&l===null&&_&4&&Od(r),Nn(r,r.return);break;case 12:Da(n,r,a);break;case 13:Da(n,r,a),a&&_&4&&kd(n,r);break;case 22:r.memoizedState===null&&Da(n,r,a),Nn(r,r.return);break;case 30:break;default:Da(n,r,a)}t=t.sibling}}function Io(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&mn(a))}function Wo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mn(e))}function $t(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bd(e,t,a,l),t=t.sibling}function Bd(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:$t(e,t,a,l),n&2048&&On(9,t);break;case 1:$t(e,t,a,l);break;case 3:$t(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&mn(e)));break;case 12:if(n&2048){$t(e,t,a,l),e=t.stateNode;try{var r=t.memoizedProps,_=r.id,v=r.onPostCommit;typeof v=="function"&&v(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ee(t,t.return,C)}}else $t(e,t,a,l);break;case 13:$t(e,t,a,l);break;case 23:break;case 22:r=t.stateNode,_=t.alternate,t.memoizedState!==null?r._visibility&2?$t(e,t,a,l):Un(e,t):r._visibility&2?$t(e,t,a,l):(r._visibility|=2,jl(e,t,a,l,(t.subtreeFlags&10256)!==0)),n&2048&&Io(_,t);break;case 24:$t(e,t,a,l),n&2048&&Wo(t.alternate,t);break;default:$t(e,t,a,l)}}function jl(e,t,a,l,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,_=t,v=a,C=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:jl(r,_,v,C,n),On(8,_);break;case 23:break;case 22:var L=_.stateNode;_.memoizedState!==null?L._visibility&2?jl(r,_,v,C,n):Un(r,_):(L._visibility|=2,jl(r,_,v,C,n)),n&&q&2048&&Io(_.alternate,_);break;case 24:jl(r,_,v,C,n),n&&q&2048&&Wo(_.alternate,_);break;default:jl(r,_,v,C,n)}t=t.sibling}}function Un(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:Un(a,l),n&2048&&Io(l.alternate,l);break;case 24:Un(a,l),n&2048&&Wo(l.alternate,l);break;default:Un(a,l)}t=t.sibling}}var Mn=8192;function zl(e){if(e.subtreeFlags&Mn)for(e=e.child;e!==null;)Vd(e),e=e.sibling}function Vd(e){switch(e.tag){case 26:zl(e),e.flags&Mn&&e.memoizedState!==null&&k_(zt,e.memoizedState,e.memoizedProps);break;case 5:zl(e);break;case 3:case 4:var t=zt;zt=lr(e.stateNode.containerInfo),zl(e),zt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Mn,Mn=16777216,zl(e),Mn=t):zl(e));break;default:zl(e)}}function Gd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Pe=l,Xd(l,e)}Gd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$d(e),e=e.sibling}function $d(e){switch(e.tag){case 0:case 11:case 15:jn(e),e.flags&2048&&Ra(9,e,e.return);break;case 3:jn(e);break;case 12:jn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xc(e)):jn(e);break;default:jn(e)}}function Xc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Pe=l,Xd(l,e)}Gd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ra(8,t,t.return),Xc(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Xc(t));break;default:Xc(t)}e=e.sibling}}function Xd(e,t){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:Ra(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:mn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else e:for(a=e;Pe!==null;){l=Pe;var n=l.sibling,r=l.return;if(zd(l),l===a){Pe=null;break e}if(n!==null){n.return=r,Pe=n;break e}Pe=r}}}var e_={getCacheForType:function(e){var t=lt(Qe),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},t_=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Ne=null,me=null,Se=0,Ae=0,gt=null,Ta=!1,Hl=!1,ei=!1,ua=0,Ye=0,qa=0,ll=0,ti=0,Nt=0,kl=0,zn=null,dt=null,ai=!1,li=0,Qc=1/0,Zc=null,Ea=null,We=0,Oa=null,Ll=null,Yl=0,ni=0,ci=null,Qd=null,Hn=0,ri=null;function St(){if((Ce&2)!==0&&Se!==0)return Se&-Se;if(M.T!==null){var e=Dl;return e!==0?e:pi()}return iu()}function Zd(){Nt===0&&(Nt=(Se&536870912)===0||we?Ar():536870912);var e=Ot.current;return e!==null&&(e.flags|=32),Nt}function bt(e,t,a){(e===Ne&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(Bl(e,0),Na(e,Se,Nt,!1)),en(e,a),((Ce&2)===0||e!==Ne)&&(e===Ne&&((Ce&2)===0&&(ll|=a),Ye===4&&Na(e,Se,Nt,!1)),Xt(e))}function Fd(e,t,a){if((Ce&6)!==0)throw Error(i(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Yt(e,t),n=l?n_(e,t):ui(e,t,!0),r=l;do{if(n===0){Hl&&!l&&Na(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!a_(a)){n=ui(e,t,!1),r=!1;continue}if(n===2){if(r=t,e.errorRecoveryDisabledLanes&r)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var v=e;n=zn;var C=v.current.memoizedState.isDehydrated;if(C&&(Bl(v,_).flags|=256),_=ui(v,_,!1),_!==2){if(ei&&!C){v.errorRecoveryDisabledLanes|=r,ll|=r,n=4;break e}r=dt,dt=n,r!==null&&(dt===null?dt=r:dt.push.apply(dt,r))}n=_}if(r=!1,n!==2)continue}}if(n===1){Bl(e,0),Na(e,t,0,!0);break}e:{switch(l=e,r=n,r){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Na(l,t,Nt,!Ta);break e;case 2:dt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(n=li+300-At(),10<n)){if(Na(l,t,Nt,!Ta),_a(l,0,!0)!==0)break e;l.timeoutHandle=Af(Kd.bind(null,l,a,dt,Zc,ai,t,Nt,ll,kl,Ta,r,2,-0,0),n);break e}Kd(l,a,dt,Zc,ai,t,Nt,ll,kl,Ta,r,0,-0,0)}}break}while(!0);Xt(e)}function Kd(e,t,a,l,n,r,_,v,C,q,L,G,E,N){if(e.timeoutHandle=-1,G=t.subtreeFlags,(G&8192||(G&16785408)===16785408)&&($n={stylesheets:null,count:0,unsuspend:H_},Vd(t),G=L_(),G!==null)){e.cancelPendingCommit=G(af.bind(null,e,t,r,a,l,n,_,v,C,L,1,E,N)),Na(e,r,_,!q);return}af(e,t,r,a,l,n,_,v,C)}function a_(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],r=n.getSnapshot;n=n.value;try{if(!_t(r(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Na(e,t,a,l){t&=~ti,t&=~ll,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var r=31-Me(n),_=1<<r;l[r]=-1,n&=~_}a!==0&&ru(e,a,t)}function Fc(){return(Ce&6)===0?(kn(0),!1):!0}function oi(){if(me!==null){if(Ae===0)var e=me.return;else e=me,ta=Ja=null,Ao(e),Ul=null,Tn=0,e=me;for(;e!==null;)Td(e.alternate,e),e=e.return;me=null}}function Bl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,S_(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),oi(),Ne=e,me=a=It(e.current,null),Se=t,Ae=0,gt=null,Ta=!1,Hl=Yt(e,t),ei=!1,kl=Nt=ti=ll=qa=Ye=0,dt=zn=null,ai=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-Me(l),r=1<<n;t|=e[n],l&=~r}return ua=t,yc(),a}function Pd(e,t){pe=null,M.H=jc,t===gn||t===Rc?(t=ps(),Ae=3):t===ss?(t=ps(),Ae=4):Ae=t===hd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gt=t,me===null&&(Ye=1,Yc(e,Dt(t,e.current)))}function Jd(){var e=M.H;return M.H=jc,e===null?jc:e}function Id(){var e=M.A;return M.A=e_,e}function ii(){Ye=4,Ta||(Se&4194048)!==Se&&Ot.current!==null||(Hl=!0),(qa&134217727)===0&&(ll&134217727)===0||Ne===null||Na(Ne,Se,Nt,!1)}function ui(e,t,a){var l=Ce;Ce|=2;var n=Jd(),r=Id();(Ne!==e||Se!==t)&&(Zc=null,Bl(e,t)),t=!1;var _=Ye;e:do try{if(Ae!==0&&me!==null){var v=me,C=gt;switch(Ae){case 8:oi(),_=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var q=Ae;if(Ae=0,gt=null,Vl(e,v,C,q),a&&Hl){_=0;break e}break;default:q=Ae,Ae=0,gt=null,Vl(e,v,C,q)}}l_(),_=Ye;break}catch(L){Pd(e,L)}while(!0);return t&&e.shellSuspendCounter++,ta=Ja=null,Ce=l,M.H=n,M.A=r,me===null&&(Ne=null,Se=0,yc()),_}function l_(){for(;me!==null;)Wd(me)}function n_(e,t){var a=Ce;Ce|=2;var l=Jd(),n=Id();Ne!==e||Se!==t?(Zc=null,Qc=At()+500,Bl(e,t)):Hl=Yt(e,t);e:do try{if(Ae!==0&&me!==null){t=me;var r=gt;t:switch(Ae){case 1:Ae=0,gt=null,Vl(e,t,r,1);break;case 2:case 9:if(ds(r)){Ae=0,gt=null,ef(t);break}t=function(){Ae!==2&&Ae!==9||Ne!==e||(Ae=7),Xt(e)},r.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:ds(r)?(Ae=0,gt=null,ef(t)):(Ae=0,gt=null,Vl(e,t,r,7));break;case 5:var _=null;switch(me.tag){case 26:_=me.memoizedState;case 5:case 27:var v=me;if(!_||zf(_)){Ae=0,gt=null;var C=v.sibling;if(C!==null)me=C;else{var q=v.return;q!==null?(me=q,Kc(q)):me=null}break t}}Ae=0,gt=null,Vl(e,t,r,5);break;case 6:Ae=0,gt=null,Vl(e,t,r,6);break;case 8:oi(),Ye=6;break e;default:throw Error(i(462))}}c_();break}catch(L){Pd(e,L)}while(!0);return ta=Ja=null,M.H=l,M.A=n,Ce=a,me!==null?0:(Ne=null,Se=0,yc(),Ye)}function c_(){for(;me!==null&&!br();)Wd(me)}function Wd(e){var t=xd(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?Kc(e):me=t}function ef(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Sd(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=Sd(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:Ao(t);default:Td(a,t),t=me=ts(t,ua),t=xd(a,t,ua)}e.memoizedProps=e.pendingProps,t===null?Kc(e):me=t}function Vl(e,t,a,l){ta=Ja=null,Ao(t),Ul=null,Tn=0;var n=t.return;try{if(Fh(e,n,t,a,Se)){Ye=1,Yc(e,Dt(a,e.current)),me=null;return}}catch(r){if(n!==null)throw me=n,r;Ye=1,Yc(e,Dt(a,e.current)),me=null;return}t.flags&32768?(we||l===1?e=!0:Hl||(Se&536870912)!==0?e=!1:(Ta=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ot.current,l!==null&&l.tag===13&&(l.flags|=16384))),tf(t,e)):Kc(t)}function Kc(e){var t=e;do{if((t.flags&32768)!==0){tf(t,Ta);return}e=t.return;var a=Ph(t.alternate,t,ua);if(a!==null){me=a;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Ye===0&&(Ye=5)}function tf(e,t){do{var a=Jh(e.alternate,e);if(a!==null){a.flags&=32767,me=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=a}while(e!==null);Ye=6,me=null}function af(e,t,a,l,n,r,_,v,C){e.cancelPendingCommit=null;do Pc();while(We!==0);if((Ce&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(r=t.lanes|t.childLanes,r|=Ir,Hp(e,a,r,_,v,C),e===Ne&&(me=Ne=null,Se=0),Ll=t,Oa=e,Yl=a,ni=r,ci=n,Qd=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,u_(ol,function(){return of(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,n=D.p,D.p=2,_=Ce,Ce|=4;try{Ih(e,t,a)}finally{Ce=_,D.p=n,M.T=l}}We=1,lf(),nf(),cf()}}function lf(){if(We===1){We=0;var e=Oa,t=Ll,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=D.p;D.p=2;var n=Ce;Ce|=4;try{Ld(t,e);var r=bi,_=Xu(e.containerInfo),v=r.focusedElem,C=r.selectionRange;if(_!==v&&v&&v.ownerDocument&&$u(v.ownerDocument.documentElement,v)){if(C!==null&&Zr(v)){var q=C.start,L=C.end;if(L===void 0&&(L=q),"selectionStart"in v)v.selectionStart=q,v.selectionEnd=Math.min(L,v.value.length);else{var G=v.ownerDocument||document,E=G&&G.defaultView||window;if(E.getSelection){var N=E.getSelection(),ie=v.textContent.length,ce=Math.min(C.start,ie),qe=C.end===void 0?ce:Math.min(C.end,ie);!N.extend&&ce>qe&&(_=qe,qe=ce,ce=_);var x=Gu(v,ce),A=Gu(v,qe);if(x&&A&&(N.rangeCount!==1||N.anchorNode!==x.node||N.anchorOffset!==x.offset||N.focusNode!==A.node||N.focusOffset!==A.offset)){var T=G.createRange();T.setStart(x.node,x.offset),N.removeAllRanges(),ce>qe?(N.addRange(T),N.extend(A.node,A.offset)):(T.setEnd(A.node,A.offset),N.addRange(T))}}}}for(G=[],N=v;N=N.parentNode;)N.nodeType===1&&G.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<G.length;v++){var B=G[v];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}ir=!!Si,bi=Si=null}finally{Ce=n,D.p=l,M.T=a}}e.current=t,We=2}}function nf(){if(We===2){We=0;var e=Oa,t=Ll,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=D.p;D.p=2;var n=Ce;Ce|=4;try{jd(e,t.alternate,t)}finally{Ce=n,D.p=l,M.T=a}}We=3}}function cf(){if(We===4||We===3){We=0,wr();var e=Oa,t=Ll,a=Yl,l=Qd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,Ll=Oa=null,rf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Ea=null),xr(a),t=t.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(I,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,n=D.p,D.p=2,M.T=null;try{for(var r=e.onRecoverableError,_=0;_<l.length;_++){var v=l[_];r(v.value,{componentStack:v.stack})}}finally{M.T=t,D.p=n}}(Yl&3)!==0&&Pc(),Xt(e),n=e.pendingLanes,(a&4194090)!==0&&(n&42)!==0?e===ri?Hn++:(Hn=0,ri=e):Hn=0,kn(0)}}function rf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,mn(t)))}function Pc(e){return lf(),nf(),cf(),of()}function of(){if(We!==5)return!1;var e=Oa,t=ni;ni=0;var a=xr(Yl),l=M.T,n=D.p;try{D.p=32>a?32:a,M.T=null,a=ci,ci=null;var r=Oa,_=Yl;if(We=0,Ll=Oa=null,Yl=0,(Ce&6)!==0)throw Error(i(331));var v=Ce;if(Ce|=4,$d(r.current),Bd(r,r.current,_,a),Ce=v,kn(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(I,r)}catch{}return!0}finally{D.p=n,M.T=l,rf(e,t)}}function uf(e,t,a){t=Dt(a,t),t=ko(e.stateNode,t,2),e=ba(e,t,2),e!==null&&(en(e,2),Xt(e))}function Ee(e,t,a){if(e.tag===3)uf(e,e,a);else for(;t!==null;){if(t.tag===3){uf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ea===null||!Ea.has(l))){e=Dt(a,e),a=fd(2),l=ba(t,a,2),l!==null&&(pd(a,l,t,e),en(l,2),Xt(l));break}}t=t.return}}function si(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new t_;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(ei=!0,n.add(a),e=r_.bind(null,e,t,a),t.then(e,e))}function r_(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ne===e&&(Se&a)===a&&(Ye===4||Ye===3&&(Se&62914560)===Se&&300>At()-li?(Ce&2)===0&&Bl(e,0):ti|=a,kl===Se&&(kl=0)),Xt(e)}function sf(e,t){t===0&&(t=nc()),e=Cl(e,t),e!==null&&(en(e,t),Xt(e))}function o_(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),sf(e,a)}function i_(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),sf(e,a)}function u_(e,t){return Jl(e,t)}var Jc=null,Gl=null,di=!1,Ic=!1,fi=!1,nl=0;function Xt(e){e!==Gl&&e.next===null&&(Gl===null?Jc=Gl=e:Gl=Gl.next=e),Ic=!0,di||(di=!0,d_())}function kn(e,t){if(!fi&&Ic){fi=!0;do for(var a=!1,l=Jc;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var r=0;else{var _=l.suspendedLanes,v=l.pingedLanes;r=(1<<31-Me(42|e)+1)-1,r&=n&~(_&~v),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,hf(l,r))}else r=Se,r=_a(l,l===Ne?r:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(r&3)===0||Yt(l,r)||(a=!0,hf(l,r));l=l.next}while(a);fi=!1}}function s_(){df()}function df(){Ic=di=!1;var e=0;nl!==0&&(g_()&&(e=nl),nl=0);for(var t=At(),a=null,l=Jc;l!==null;){var n=l.next,r=ff(l,t);r===0?(l.next=null,a===null?Jc=n:a.next=n,n===null&&(Gl=a)):(a=l,(e!==0||(r&3)!==0)&&(Ic=!0)),l=n}kn(e)}function ff(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var _=31-Me(r),v=1<<_,C=n[_];C===-1?((v&a)===0||(v&l)!==0)&&(n[_]=ht(v,t)):C<=t&&(e.expiredLanes|=v),r&=~v}if(t=Ne,a=Se,a=_a(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Il(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Il(l),xr(a)){case 2:case 8:a=tc;break;case 32:a=ol;break;case 268435456:a=Wl;break;default:a=ol}return l=pf.bind(null,e),a=Jl(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Il(l),e.callbackPriority=2,e.callbackNode=null,2}function pf(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Pc()&&e.callbackNode!==a)return null;var l=Se;return l=_a(e,e===Ne?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Fd(e,l,t),ff(e,At()),e.callbackNode!=null&&e.callbackNode===a?pf.bind(null,e):null)}function hf(e,t){if(Pc())return null;Fd(e,t,!0)}function d_(){b_(function(){(Ce&6)!==0?Jl(ec,s_):df()})}function pi(){return nl===0&&(nl=Ar()),nl}function _f(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:uc(""+e)}function yf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function f_(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var r=_f((n[ot]||null).action),_=l.submitter;_&&(t=(t=_[ot]||null)?_f(t.formAction):_.getAttribute("formAction"),t!==null&&(r=t,_=null));var v=new pc("action","action",null,l,n);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(nl!==0){var C=_?yf(n,_):new FormData(n);Uo(a,{pending:!0,data:C,method:n.method,action:r},null,C)}}else typeof r=="function"&&(v.preventDefault(),C=_?yf(n,_):new FormData(n),Uo(a,{pending:!0,data:C,method:n.method,action:r},r,C))},currentTarget:n}]})}}for(var hi=0;hi<Jr.length;hi++){var _i=Jr[hi],p_=_i.toLowerCase(),h_=_i[0].toUpperCase()+_i.slice(1);jt(p_,"on"+h_)}jt(Fu,"onAnimationEnd"),jt(Ku,"onAnimationIteration"),jt(Pu,"onAnimationStart"),jt("dblclick","onDoubleClick"),jt("focusin","onFocus"),jt("focusout","onBlur"),jt(Oh,"onTransitionRun"),jt(Nh,"onTransitionStart"),jt(Uh,"onTransitionCancel"),jt(Ju,"onTransitionEnd"),pl("onMouseEnter",["mouseout","mouseover"]),pl("onMouseLeave",["mouseout","mouseover"]),pl("onPointerEnter",["pointerout","pointerover"]),pl("onPointerLeave",["pointerout","pointerover"]),Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Va("onBeforeInput",["compositionend","keypress","textInput","paste"]),Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),__=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ln));function mf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var r=void 0;if(t)for(var _=l.length-1;0<=_;_--){var v=l[_],C=v.instance,q=v.currentTarget;if(v=v.listener,C!==r&&n.isPropagationStopped())break e;r=v,n.currentTarget=q;try{r(n)}catch(L){Lc(L)}n.currentTarget=null,r=C}else for(_=0;_<l.length;_++){if(v=l[_],C=v.instance,q=v.currentTarget,v=v.listener,C!==r&&n.isPropagationStopped())break e;r=v,n.currentTarget=q;try{r(n)}catch(L){Lc(L)}n.currentTarget=null,r=C}}}}function ve(e,t){var a=t[Dr];a===void 0&&(a=t[Dr]=new Set);var l=e+"__bubble";a.has(l)||(vf(t,e,2,!1),a.add(l))}function yi(e,t,a){var l=0;t&&(l|=4),vf(a,e,l,t)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function mi(e){if(!e[Wc]){e[Wc]=!0,su.forEach(function(a){a!=="selectionchange"&&(__.has(a)||yi(a,!1,e),yi(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wc]||(t[Wc]=!0,yi("selectionchange",!1,t))}}function vf(e,t,a,l){switch(Vf(t)){case 2:var n=V_;break;case 8:n=G_;break;default:n=Oi}a=n.bind(null,t,a,e),n=void 0,!kr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function vi(e,t,a,l,n){var r=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var v=l.stateNode.containerInfo;if(v===n)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&_.stateNode.containerInfo===n)return;_=_.return}for(;v!==null;){if(_=sl(v),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=r=_;continue e}v=v.parentNode}}l=l.return}Au(function(){var q=r,L=zr(a),G=[];e:{var E=Iu.get(e);if(E!==void 0){var N=pc,ie=e;switch(e){case"keypress":if(dc(a)===0)break e;case"keydown":case"keyup":N=uh;break;case"focusin":ie="focus",N=Vr;break;case"focusout":ie="blur",N=Vr;break;case"beforeblur":case"afterblur":N=Vr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=fh;break;case Fu:case Ku:case Pu:N=eh;break;case Ju:N=hh;break;case"scroll":case"scrollend":N=Kp;break;case"wheel":N=yh;break;case"copy":case"cut":case"paste":N=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=qu;break;case"toggle":case"beforetoggle":N=vh}var ce=(t&4)!==0,qe=!ce&&(e==="scroll"||e==="scrollend"),x=ce?E!==null?E+"Capture":null:E;ce=[];for(var A=q,T;A!==null;){var B=A;if(T=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||T===null||x===null||(B=ln(A,x),B!=null&&ce.push(Yn(A,B,T))),qe)break;A=A.return}0<ce.length&&(E=new N(E,ie,null,a,L),G.push({event:E,listeners:ce}))}}if((t&7)===0){e:{if(E=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",E&&a!==jr&&(ie=a.relatedTarget||a.fromElement)&&(sl(ie)||ie[ul]))break e;if((N||E)&&(E=L.window===L?L:(E=L.ownerDocument)?E.defaultView||E.parentWindow:window,N?(ie=a.relatedTarget||a.toElement,N=q,ie=ie?sl(ie):null,ie!==null&&(qe=o(ie),ce=ie.tag,ie!==qe||ce!==5&&ce!==27&&ce!==6)&&(ie=null)):(N=null,ie=q),N!==ie)){if(ce=Du,B="onMouseLeave",x="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ce=qu,B="onPointerLeave",x="onPointerEnter",A="pointer"),qe=N==null?E:an(N),T=ie==null?E:an(ie),E=new ce(B,A+"leave",N,a,L),E.target=qe,E.relatedTarget=T,B=null,sl(L)===q&&(ce=new ce(x,A+"enter",ie,a,L),ce.target=T,ce.relatedTarget=qe,B=ce),qe=B,N&&ie)t:{for(ce=N,x=ie,A=0,T=ce;T;T=$l(T))A++;for(T=0,B=x;B;B=$l(B))T++;for(;0<A-T;)ce=$l(ce),A--;for(;0<T-A;)x=$l(x),T--;for(;A--;){if(ce===x||x!==null&&ce===x.alternate)break t;ce=$l(ce),x=$l(x)}ce=null}else ce=null;N!==null&&gf(G,E,N,ce,!1),ie!==null&&qe!==null&&gf(G,qe,ie,ce,!0)}}e:{if(E=q?an(q):window,N=E.nodeName&&E.nodeName.toLowerCase(),N==="select"||N==="input"&&E.type==="file")var ee=Hu;else if(ju(E))if(ku)ee=Th;else{ee=xh;var he=Rh}else N=E.nodeName,!N||N.toLowerCase()!=="input"||E.type!=="checkbox"&&E.type!=="radio"?q&&Mr(q.elementType)&&(ee=Hu):ee=Dh;if(ee&&(ee=ee(e,q))){zu(G,ee,a,L);break e}he&&he(e,E,q),e==="focusout"&&q&&E.type==="number"&&q.memoizedProps.value!=null&&Ur(E,"number",E.value)}switch(he=q?an(q):window,e){case"focusin":(ju(he)||he.contentEditable==="true")&&(Sl=he,Fr=q,fn=null);break;case"focusout":fn=Fr=Sl=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":Kr=!1,Qu(G,a,L);break;case"selectionchange":if(Eh)break;case"keydown":case"keyup":Qu(G,a,L)}var ae;if($r)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else gl?Uu(e,a)&&(oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(oe="onCompositionStart");oe&&(Eu&&a.locale!=="ko"&&(gl||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&gl&&(ae=Ru()):(ma=L,Lr="value"in ma?ma.value:ma.textContent,gl=!0)),he=er(q,oe),0<he.length&&(oe=new Tu(oe,e,null,a,L),G.push({event:oe,listeners:he}),ae?oe.data=ae:(ae=Mu(a),ae!==null&&(oe.data=ae)))),(ae=Sh?bh(e,a):wh(e,a))&&(oe=er(q,"onBeforeInput"),0<oe.length&&(he=new Tu("onBeforeInput","beforeinput",null,a,L),G.push({event:he,listeners:oe}),he.data=ae)),f_(G,e,q,a,L)}mf(G,t)})}function Yn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function er(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=ln(e,a),n!=null&&l.unshift(Yn(e,n,r)),n=ln(e,t),n!=null&&l.push(Yn(e,n,r))),e.tag===3)return l;e=e.return}return[]}function $l(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gf(e,t,a,l,n){for(var r=t._reactName,_=[];a!==null&&a!==l;){var v=a,C=v.alternate,q=v.stateNode;if(v=v.tag,C!==null&&C===l)break;v!==5&&v!==26&&v!==27||q===null||(C=q,n?(q=ln(a,r),q!=null&&_.unshift(Yn(a,q,C))):n||(q=ln(a,r),q!=null&&_.push(Yn(a,q,C)))),a=a.return}_.length!==0&&e.push({event:t,listeners:_})}var y_=/\r\n?/g,m_=/\u0000|\uFFFD/g;function Sf(e){return(typeof e=="string"?e:""+e).replace(y_,`
`).replace(m_,"")}function bf(e,t){return t=Sf(t),Sf(e)===t}function tr(){}function Te(e,t,a,l,n,r){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||yl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&yl(e,""+l);break;case"className":rc(e,"class",l);break;case"tabIndex":rc(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rc(e,a,l);break;case"style":wu(e,l,r);break;case"data":if(t!=="object"){rc(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=uc(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&Te(e,t,"name",n.name,n,null),Te(e,t,"formEncType",n.formEncType,n,null),Te(e,t,"formMethod",n.formMethod,n,null),Te(e,t,"formTarget",n.formTarget,n,null)):(Te(e,t,"encType",n.encType,n,null),Te(e,t,"method",n.method,n,null),Te(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=uc(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=tr);break;case"onScroll":l!=null&&ve("scroll",e);break;case"onScrollEnd":l!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=uc(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ve("beforetoggle",e),ve("toggle",e),cc(e,"popover",l);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cc(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zp.get(a)||a,cc(e,a,l))}}function gi(e,t,a,l,n,r){switch(a){case"style":wu(e,l,r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?yl(e,l):(typeof l=="number"||typeof l=="bigint")&&yl(e,""+l);break;case"onScroll":l!=null&&ve("scroll",e);break;case"onScrollEnd":l!=null&&ve("scrollend",e);break;case"onClick":l!=null&&(e.onclick=tr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!du.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),r=e[ot]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,n),typeof l=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):cc(e,a,l)}}}function et(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var l=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var _=a[r];if(_!=null)switch(r){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Te(e,t,r,_,a,null)}}n&&Te(e,t,"srcSet",a.srcSet,a,null),l&&Te(e,t,"src",a.src,a,null);return;case"input":ve("invalid",e);var v=r=_=n=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var L=a[l];if(L!=null)switch(l){case"name":n=L;break;case"type":_=L;break;case"checked":C=L;break;case"defaultChecked":q=L;break;case"value":r=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(137,t));break;default:Te(e,t,l,L,a,null)}}vu(e,r,v,C,q,_,n,!1),oc(e);return;case"select":ve("invalid",e),l=_=r=null;for(n in a)if(a.hasOwnProperty(n)&&(v=a[n],v!=null))switch(n){case"value":r=v;break;case"defaultValue":_=v;break;case"multiple":l=v;default:Te(e,t,n,v,a,null)}t=r,a=_,e.multiple=!!l,t!=null?_l(e,!!l,t,!1):a!=null&&_l(e,!!l,a,!0);return;case"textarea":ve("invalid",e),r=n=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(v=a[_],v!=null))switch(_){case"value":l=v;break;case"defaultValue":n=v;break;case"children":r=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:Te(e,t,_,v,a,null)}Su(e,l,n,r),oc(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Te(e,t,C,l,a,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(l=0;l<Ln.length;l++)ve(Ln[l],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Te(e,t,q,l,a,null)}return;default:if(Mr(t)){for(L in a)a.hasOwnProperty(L)&&(l=a[L],l!==void 0&&gi(e,t,L,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&Te(e,t,v,l,a,null))}function v_(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,_=null,v=null,C=null,q=null,L=null;for(N in a){var G=a[N];if(a.hasOwnProperty(N)&&G!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":C=G;default:l.hasOwnProperty(N)||Te(e,t,N,null,l,G)}}for(var E in l){var N=l[E];if(G=a[E],l.hasOwnProperty(E)&&(N!=null||G!=null))switch(E){case"type":r=N;break;case"name":n=N;break;case"checked":q=N;break;case"defaultChecked":L=N;break;case"value":_=N;break;case"defaultValue":v=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(i(137,t));break;default:N!==G&&Te(e,t,E,N,l,G)}}Nr(e,_,v,C,q,L,r,n);return;case"select":N=_=v=E=null;for(r in a)if(C=a[r],a.hasOwnProperty(r)&&C!=null)switch(r){case"value":break;case"multiple":N=C;default:l.hasOwnProperty(r)||Te(e,t,r,null,l,C)}for(n in l)if(r=l[n],C=a[n],l.hasOwnProperty(n)&&(r!=null||C!=null))switch(n){case"value":E=r;break;case"defaultValue":v=r;break;case"multiple":_=r;default:r!==C&&Te(e,t,n,r,l,C)}t=v,a=_,l=N,E!=null?_l(e,!!a,E,!1):!!l!=!!a&&(t!=null?_l(e,!!a,t,!0):_l(e,!!a,a?[]:"",!1));return;case"textarea":N=E=null;for(v in a)if(n=a[v],a.hasOwnProperty(v)&&n!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Te(e,t,v,null,l,n)}for(_ in l)if(n=l[_],r=a[_],l.hasOwnProperty(_)&&(n!=null||r!=null))switch(_){case"value":E=n;break;case"defaultValue":N=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(i(91));break;default:n!==r&&Te(e,t,_,n,l,r)}gu(e,E,N);return;case"option":for(var ie in a)if(E=a[ie],a.hasOwnProperty(ie)&&E!=null&&!l.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:Te(e,t,ie,null,l,E)}for(C in l)if(E=l[C],N=a[C],l.hasOwnProperty(C)&&E!==N&&(E!=null||N!=null))switch(C){case"selected":e.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:Te(e,t,C,E,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)E=a[ce],a.hasOwnProperty(ce)&&E!=null&&!l.hasOwnProperty(ce)&&Te(e,t,ce,null,l,E);for(q in l)if(E=l[q],N=a[q],l.hasOwnProperty(q)&&E!==N&&(E!=null||N!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(137,t));break;default:Te(e,t,q,E,l,N)}return;default:if(Mr(t)){for(var qe in a)E=a[qe],a.hasOwnProperty(qe)&&E!==void 0&&!l.hasOwnProperty(qe)&&gi(e,t,qe,void 0,l,E);for(L in l)E=l[L],N=a[L],!l.hasOwnProperty(L)||E===N||E===void 0&&N===void 0||gi(e,t,L,E,l,N);return}}for(var x in a)E=a[x],a.hasOwnProperty(x)&&E!=null&&!l.hasOwnProperty(x)&&Te(e,t,x,null,l,E);for(G in l)E=l[G],N=a[G],!l.hasOwnProperty(G)||E===N||E==null&&N==null||Te(e,t,G,E,l,N)}var Si=null,bi=null;function ar(e){return e.nodeType===9?e:e.ownerDocument}function wf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ci=null;function g_(){var e=window.event;return e&&e.type==="popstate"?e===Ci?!1:(Ci=e,!0):(Ci=null,!1)}var Af=typeof setTimeout=="function"?setTimeout:void 0,S_=typeof clearTimeout=="function"?clearTimeout:void 0,Rf=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof Rf<"u"?function(e){return Rf.resolve(null).then(e).catch(w_)}:Af;function w_(e){setTimeout(function(){throw e})}function Ua(e){return e==="head"}function xf(e,t){var a=t,l=0,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(0<l&&8>l){a=l;var _=e.ownerDocument;if(a&1&&Bn(_.documentElement),a&2&&Bn(_.body),a&4)for(a=_.head,Bn(a),_=a.firstChild;_;){var v=_.nextSibling,C=_.nodeName;_[tn]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=v}}if(n===0){e.removeChild(r),Kn(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:l=a.charCodeAt(0)-48;else l=0;a=r}while(a);Kn(t)}function Ai(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ai(a),Tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function C_(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[tn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function A_(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ht(e.nextSibling),e===null))return null;return e}function Ri(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function R_(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var xi=null;function Df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Tf(e,t,a){switch(t=ar(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Bn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tr(e)}var Ut=new Map,qf=new Set;function lr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sa=D.d;D.d={f:x_,r:D_,D:T_,C:q_,L:E_,m:O_,X:U_,S:N_,M:M_};function x_(){var e=sa.f(),t=Fc();return e||t}function D_(e){var t=dl(e);t!==null&&t.tag===5&&t.type==="form"?Fs(t):sa.r(e)}var Xl=typeof document>"u"?null:document;function Ef(e,t,a){var l=Xl;if(l&&typeof t=="string"&&t){var n=xt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),qf.has(n)||(qf.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),et(t,"link",e),Fe(t),l.head.appendChild(t)))}}function T_(e){sa.D(e),Ef("dns-prefetch",e,null)}function q_(e,t){sa.C(e,t),Ef("preconnect",e,t)}function E_(e,t,a){sa.L(e,t,a);var l=Xl;if(l&&e&&t){var n='link[rel="preload"][as="'+xt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+xt(a.imageSizes)+'"]')):n+='[href="'+xt(e)+'"]';var r=n;switch(t){case"style":r=Ql(e);break;case"script":r=Zl(e)}Ut.has(r)||(e=m({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ut.set(r,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(Vn(r))||t==="script"&&l.querySelector(Gn(r))||(t=l.createElement("link"),et(t,"link",e),Fe(t),l.head.appendChild(t)))}}function O_(e,t){sa.m(e,t);var a=Xl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(e)+'"]',r=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Zl(e)}if(!Ut.has(r)&&(e=m({rel:"modulepreload",href:e},t),Ut.set(r,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gn(r)))return}l=a.createElement("link"),et(l,"link",e),Fe(l),a.head.appendChild(l)}}}function N_(e,t,a){sa.S(e,t,a);var l=Xl;if(l&&e){var n=fl(l).hoistableStyles,r=Ql(e);t=t||"default";var _=n.get(r);if(!_){var v={loading:0,preload:null};if(_=l.querySelector(Vn(r)))v.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ut.get(r))&&Di(e,a);var C=_=l.createElement("link");Fe(C),et(C,"link",e),C._p=new Promise(function(q,L){C.onload=q,C.onerror=L}),C.addEventListener("load",function(){v.loading|=1}),C.addEventListener("error",function(){v.loading|=2}),v.loading|=4,nr(_,t,l)}_={type:"stylesheet",instance:_,count:1,state:v},n.set(r,_)}}}function U_(e,t){sa.X(e,t);var a=Xl;if(a&&e){var l=fl(a).hoistableScripts,n=Zl(e),r=l.get(n);r||(r=a.querySelector(Gn(n)),r||(e=m({src:e,async:!0},t),(t=Ut.get(n))&&Ti(e,t),r=a.createElement("script"),Fe(r),et(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(n,r))}}function M_(e,t){sa.M(e,t);var a=Xl;if(a&&e){var l=fl(a).hoistableScripts,n=Zl(e),r=l.get(n);r||(r=a.querySelector(Gn(n)),r||(e=m({src:e,async:!0,type:"module"},t),(t=Ut.get(n))&&Ti(e,t),r=a.createElement("script"),Fe(r),et(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(n,r))}}function Of(e,t,a,l){var n=(n=ne.current)?lr(n):null;if(!n)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Ql(a.href),a=fl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ql(a.href);var r=fl(n).hoistableStyles,_=r.get(e);if(_||(n=n.ownerDocument||n,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,_),(r=n.querySelector(Vn(e)))&&!r._p&&(_.instance=r,_.state.loading=5),Ut.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ut.set(e,a),r||j_(n,e,a,_.state))),t&&l===null)throw Error(i(528,""));return _}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Zl(a),a=fl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ql(e){return'href="'+xt(e)+'"'}function Vn(e){return'link[rel="stylesheet"]['+e+"]"}function Nf(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function j_(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),et(t,"link",a),Fe(t),e.head.appendChild(t))}function Zl(e){return'[src="'+xt(e)+'"]'}function Gn(e){return"script[async]"+e}function Uf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return t.instance=l,Fe(l),l;var n=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Fe(l),et(l,"style",n),nr(l,a.precedence,e),t.instance=l;case"stylesheet":n=Ql(a.href);var r=e.querySelector(Vn(n));if(r)return t.state.loading|=4,t.instance=r,Fe(r),r;l=Nf(a),(n=Ut.get(n))&&Di(l,n),r=(e.ownerDocument||e).createElement("link"),Fe(r);var _=r;return _._p=new Promise(function(v,C){_.onload=v,_.onerror=C}),et(r,"link",l),t.state.loading|=4,nr(r,a.precedence,e),t.instance=r;case"script":return r=Zl(a.src),(n=e.querySelector(Gn(r)))?(t.instance=n,Fe(n),n):(l=a,(n=Ut.get(r))&&(l=m({},a),Ti(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),Fe(n),et(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,nr(l,a.precedence,e));return t.instance}function nr(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,r=n,_=0;_<l.length;_++){var v=l[_];if(v.dataset.precedence===t)r=v;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Di(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ti(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var cr=null;function Mf(e,t,a){if(cr===null){var l=new Map,n=cr=new Map;n.set(a,l)}else n=cr,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[tn]||r[at]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var _=r.getAttribute(t)||"";_=e+_;var v=l.get(_);v?v.push(r):l.set(_,[r])}}return l}function jf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function z_(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function zf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var $n=null;function H_(){}function k_(e,t,a){if($n===null)throw Error(i(475));var l=$n;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=Ql(a.href),r=e.querySelector(Vn(n));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=rr.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=r,Fe(r);return}r=e.ownerDocument||e,a=Nf(a),(n=Ut.get(n))&&Di(a,n),r=r.createElement("link"),Fe(r);var _=r;_._p=new Promise(function(v,C){_.onload=v,_.onerror=C}),et(r,"link",a),t.instance=r}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=rr.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function L_(){if($n===null)throw Error(i(475));var e=$n;return e.stylesheets&&e.count===0&&qi(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&qi(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function rr(){if(this.count--,this.count===0){if(this.stylesheets)qi(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var or=null;function qi(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,or=new Map,t.forEach(Y_,e),or=null,rr.call(e))}function Y_(e,t){if(!(t.state.loading&4)){var a=or.get(e);if(a)var l=a.get(null);else{a=new Map,or.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var _=n[r];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}n=t.instance,_=n.getAttribute("data-precedence"),r=a.get(_)||l,r===l&&a.set(null,n),a.set(_,n),this.count++,l=rr.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Xn={$$typeof:Y,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function B_(e,t,a,l,n,r,_,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Hf(e,t,a,l,n,r,_,v,C,q,L,G){return e=new B_(e,t,a,_,v,C,q,G),t=1,r===!0&&(t|=24),r=yt(3,null,null,t),e.current=r,r.stateNode=e,t=uo(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:l,isDehydrated:a,cache:t},ho(r),e}function kf(e){return e?(e=Al,e):Al}function Lf(e,t,a,l,n,r){n=kf(n),l.context===null?l.context=n:l.pendingContext=n,l=Sa(t),l.payload={element:a},r=r===void 0?null:r,r!==null&&(l.callback=r),a=ba(e,l,t),a!==null&&(bt(a,e,t),bn(a,e,t))}function Yf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ei(e,t){Yf(e,t),(e=e.alternate)&&Yf(e,t)}function Bf(e){if(e.tag===13){var t=Cl(e,67108864);t!==null&&bt(t,e,67108864),Ei(e,67108864)}}var ir=!0;function V_(e,t,a,l){var n=M.T;M.T=null;var r=D.p;try{D.p=2,Oi(e,t,a,l)}finally{D.p=r,M.T=n}}function G_(e,t,a,l){var n=M.T;M.T=null;var r=D.p;try{D.p=8,Oi(e,t,a,l)}finally{D.p=r,M.T=n}}function Oi(e,t,a,l){if(ir){var n=Ni(l);if(n===null)vi(e,t,l,ur,a),Gf(e,l);else if(X_(n,e,t,a,l))l.stopPropagation();else if(Gf(e,l),t&4&&-1<$_.indexOf(e)){for(;n!==null;){var r=dl(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var _=Mt(r.pendingLanes);if(_!==0){var v=r;for(v.pendingLanes|=2,v.entangledLanes|=2;_;){var C=1<<31-Me(_);v.entanglements[1]|=C,_&=~C}Xt(r),(Ce&6)===0&&(Qc=At()+500,kn(0))}}break;case 13:v=Cl(r,2),v!==null&&bt(v,r,2),Fc(),Ei(r,2)}if(r=Ni(l),r===null&&vi(e,t,l,ur,a),r===n)break;n=r}n!==null&&l.stopPropagation()}else vi(e,t,l,null,a)}}function Ni(e){return e=zr(e),Ui(e)}var ur=null;function Ui(e){if(ur=null,e=sl(e),e!==null){var t=o(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ur=e,null}function Vf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wn()){case ec:return 2;case tc:return 8;case ol:case Cr:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Mi=!1,Ma=null,ja=null,za=null,Qn=new Map,Zn=new Map,Ha=[],$_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gf(e,t){switch(e){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Qn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(t.pointerId)}}function Fn(e,t,a,l,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:r,targetContainers:[n]},t!==null&&(t=dl(t),t!==null&&Bf(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function X_(e,t,a,l,n){switch(t){case"focusin":return Ma=Fn(Ma,e,t,a,l,n),!0;case"dragenter":return ja=Fn(ja,e,t,a,l,n),!0;case"mouseover":return za=Fn(za,e,t,a,l,n),!0;case"pointerover":var r=n.pointerId;return Qn.set(r,Fn(Qn.get(r)||null,e,t,a,l,n)),!0;case"gotpointercapture":return r=n.pointerId,Zn.set(r,Fn(Zn.get(r)||null,e,t,a,l,n)),!0}return!1}function $f(e){var t=sl(e.target);if(t!==null){var a=o(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,kp(e.priority,function(){if(a.tag===13){var l=St();l=Rr(l);var n=Cl(a,l);n!==null&&bt(n,a,l),Ei(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ni(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);jr=l,a.target.dispatchEvent(l),jr=null}else return t=dl(a),t!==null&&Bf(t),e.blockedOn=a,!1;t.shift()}return!0}function Xf(e,t,a){sr(e)&&a.delete(t)}function Q_(){Mi=!1,Ma!==null&&sr(Ma)&&(Ma=null),ja!==null&&sr(ja)&&(ja=null),za!==null&&sr(za)&&(za=null),Qn.forEach(Xf),Zn.forEach(Xf)}function dr(e,t){e.blockedOn===t&&(e.blockedOn=null,Mi||(Mi=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Q_)))}var fr=null;function Qf(e){fr!==e&&(fr=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){fr===e&&(fr=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(Ui(l||a)===null)continue;break}var r=dl(a);r!==null&&(e.splice(t,3),t-=3,Uo(r,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Kn(e){function t(C){return dr(C,e)}Ma!==null&&dr(Ma,e),ja!==null&&dr(ja,e),za!==null&&dr(za,e),Qn.forEach(t),Zn.forEach(t);for(var a=0;a<Ha.length;a++){var l=Ha[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ha.length&&(a=Ha[0],a.blockedOn===null);)$f(a),a.blockedOn===null&&Ha.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],r=a[l+1],_=n[ot]||null;if(typeof r=="function")_||Qf(a);else if(_){var v=null;if(r&&r.hasAttribute("formAction")){if(n=r,_=r[ot]||null)v=_.formAction;else if(Ui(n)!==null)continue}else v=_.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),Qf(a)}}}function ji(e){this._internalRoot=e}pr.prototype.render=ji.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,l=St();Lf(a,l,e,t,null,null)},pr.prototype.unmount=ji.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lf(e.current,2,null,e,null,null),Fc(),t[ul]=null}};function pr(e){this._internalRoot=e}pr.prototype.unstable_scheduleHydration=function(e){if(e){var t=iu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ha.length&&t!==0&&t<Ha[a].priority;a++);Ha.splice(a,0,e),a===0&&$f(e)}};var Zf=s.version;if(Zf!=="19.1.1")throw Error(i(527,Zf,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=y(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Z_={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hr.isDisabled&&hr.supportsFiber)try{I=hr.inject(Z_),se=hr}catch{}}return Jn.createRoot=function(e,t){if(!d(e))throw Error(i(299));var a=!1,l="",n=id,r=ud,_=sd,v=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Hf(e,1,!1,null,null,a,l,n,r,_,v,null),e[ul]=t.current,mi(e),new ji(t)},Jn.hydrateRoot=function(e,t,a){if(!d(e))throw Error(i(299));var l=!1,n="",r=id,_=ud,v=sd,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),t=Hf(e,1,!0,t,a??null,l,n,r,_,v,C,q),t.context=kf(null),a=t.current,l=St(),l=Rr(l),n=Sa(l),n.callback=null,ba(a,n,l),a=l,t.current.lanes=a,en(t,a),Xt(t),e[ul]=t.current,mi(e),new pr(t)},Jn.version="19.1.1",Jn}var lp;function cy(){if(lp)return ki.exports;lp=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(s){console.error(s)}}return c(),ki.exports=ny(),ki.exports}var ry=cy();/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function oy({onClose:c}){return g.jsx("div",{className:"modal-overlay",onClick:c,children:g.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[g.jsx("button",{className:"btn btn-back modal-close-btn",onClick:c,children:"X"}),g.jsx("h2",{children:"Game Rules"}),g.jsx("h3",{children:"Objective"}),g.jsx("p",{children:"You play as an artificial intelligence trying to compile your own 3 protocols. To do this, you play command cards on the protocols over several rounds and execute their effects. If you reach a total value of at least 10 with your own command cards on a protocol and exceed the other person's total value in the same row, you may compile the protocol (turn it over). The first person to compile their 3 protocols wins."}),g.jsx("h3",{children:"Game Flow"}),g.jsx("p",{children:"The person who chose a protocol first begins. You always play alternately until one person wins. On your turn, handle the following 6 phases in sequence:"}),g.jsxs("ol",{children:[g.jsx("li",{children:"Start"}),g.jsx("li",{children:"Check Control"}),g.jsx("li",{children:"Check Compile"}),g.jsx("li",{children:"Perform Action"}),g.jsx("li",{children:"Check Hand Limit"}),g.jsx("li",{children:"End"})]}),g.jsx("h3",{children:"Phases in Detail"}),g.jsxs("p",{children:[g.jsx("strong",{children:"1. Start:"}),' Resolve all visible "Start" effects of your face-up command cards in an order of your choice.']}),g.jsxs("p",{children:[g.jsx("strong",{children:"2. Check Control:"})," If the total value of your command cards in at least 2 rows is higher than the total value of the other person's command cards in the corresponding rows, take the control card and place it in front of you."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"3. Check Compile:"})," If you can compile protocols, you must now compile 1 of them. If you can compile multiple protocols, choose 1 of them. If you have compiled, you must skip phase 4 and proceed directly to phase 5."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Compile Action:"}),` If your cards in a row have a total value of 10 or more AND this is higher than the other person's total value in that row, you must compile your protocol in that row. To do this, both of you remove all cards on your side of that row and place them on your respective discard piles. Then, turn your protocol in that row to the "Compiled" side. If you compile this protocol again later, you draw 1 card from the other person's deck as a reward instead. Use it from now on as if it were your own card.`]}),g.jsxs("p",{children:[g.jsx("strong",{children:"4. Perform Action:"}),' Play 1 command card from your hand OR fill your hand. If you have no hand cards, you must perform the "Fill Hand" action. If you have 5 or more hand cards, you may not perform the "Fill Hand" action.']}),g.jsxs("p",{children:[g.jsx("strong",{children:"5. Check Hand Limit:"})," If you have more than 5 command cards in your hand, you must reduce to your hand limit: discard hand cards until you have only 5."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"6. End:"}),' Resolve all visible "End" effects of your face-up command cards in an order of your choice.']}),g.jsx("h3",{children:"Glossary"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Clear Cache:"})," Discard down to 5 cards in hand."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Compile:"})," To delete all cards in a line on both players sides and flip a protocol."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Covered:"})," A card with another card on top of it is covered."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Delete:"})," Move a card from the field to the trash."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Discard:"})," Move a card from hand to the owners trash."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Flip:"})," Change the facing of a card from face-down to face-up, or from face-up to face-down."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Line:"})," The area of play through both protocols. The field is made up of 3 lines, each passing through 2 opposing protocols."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Protocol:"})," The header that dictates which line you are allowed to play cards into."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Rearrange:"})," Change the position of protocols."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Refresh:"})," Draw until you have 5 cards in hand."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Return:"})," Move a card from the field to its owners hand."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Reveal:"})," Publicly share information that was hidden or private without effect, then return it to its previous state."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Shift:"})," Move a card to another line on the same side of the field."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Stack:"})," The cards in a line on one players side."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Trash:"})," Where discarded and deleted cards go. This is reshuffled to reform your deck when need be."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Uncovered:"})," The card at the end of a stack, furthest from the protocol is the uncovered card."]})]})})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function wt({card:c,onMouseDown:s,onMouseEnter:u,onMouseLeave:i,isFaceUp:d,faceDownValue:o=2,isSelected:f,isMultiSelected:h,isTargetable:y,isSourceOfEffect:p,style:m,additionalClassName:S,animationState:w}){const R=({content:F,className:ue})=>g.jsx("div",{className:`card-rule-box ${ue||""}`,dangerouslySetInnerHTML:{__html:F}}),j=(w==null?void 0:w.type)==="playCard"&&w.cardId===c.id?`is-entering-${w.owner}`:"",Q=(w==null?void 0:w.type)==="deleteCard"&&w.cardId===c.id?`is-deleting-${w.owner}`:"",P=(w==null?void 0:w.type)==="drawCard"||(w==null?void 0:w.type)==="discardCard"?w.owner:void 0,Y=P==="player"&&(w==null?void 0:w.type)==="drawCard"&&w.cardIds.includes(c.id),W=P==="player"&&(w==null?void 0:w.type)==="discardCard"&&w.cardIds.includes(c.id),k=["card-component"];return f&&k.push("selected"),h&&k.push("multi-selected"),W&&k.push("is-discarding"),y&&k.push("is-targetable"),p&&k.push("is-source-of-effect"),j&&k.push(j),Q&&k.push(Q),Y&&k.push("is-drawing"),S&&k.push(S),g.jsx("div",{className:k.join(" "),onMouseDown:s,onMouseEnter:u,onMouseLeave:i,role:"button",tabIndex:s?0:-1,style:m,children:g.jsxs("div",{className:`card-inner ${d?"":"is-flipped"}`,children:[g.jsxs("div",{className:"card-face card-front",children:[g.jsxs("div",{className:"card-header",children:[g.jsx("span",{className:"card-protocol",children:c.protocol}),g.jsx("span",{className:"card-value",children:c.value})]}),g.jsxs("div",{className:"card-body",children:[g.jsx(R,{content:c.top,className:"card-rule-top"}),g.jsx(R,{content:c.middle,className:"card-rule-middle"}),g.jsx(R,{content:c.bottom,className:"card-rule-bottom"})]})]}),g.jsx("div",{className:"card-face card-back",children:g.jsx("div",{className:"card-back-value",children:o})})]})})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const da=[{protocol:"Apathy",value:0,top:"Your total value in this line is increased by 1 for each face-down card in this line.",middle:"",bottom:"",keywords:{}},{protocol:"Apathy",value:1,top:"",middle:"Flip all other face-up cards in this line.",bottom:"",keywords:{flip:!0}},{protocol:"Apathy",value:2,top:"Ignore all middle commands of cards in this line.",middle:"",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, flip this card.</div>",keywords:{flip:!0}},{protocol:"Apathy",value:3,top:"",middle:"Flip 1 of your opponent's face-up cards.",bottom:"",keywords:{flip:!0}},{protocol:"Apathy",value:4,top:"",middle:"You may flip 1 of your face-up covered cards.",bottom:"",keywords:{flip:!0}},{protocol:"Apathy",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Darkness",value:0,top:"",middle:"Draw 3 cards. Shift 1 of your opponent's covered cards.",bottom:"",keywords:{draw:!0,shift:!0}},{protocol:"Darkness",value:1,top:"",middle:"Flip 1 of your opponent's cards. You may shift that card.",bottom:"",keywords:{flip:!0,shift:!0}},{protocol:"Darkness",value:2,top:"All face-down cards in this stack have a value of 4.",middle:"You may flip 1 covered card in this line.",bottom:"",keywords:{flip:!0}},{protocol:"Darkness",value:3,top:"",middle:"Play 1 card face-down in another line.",bottom:"",keywords:{play:!0}},{protocol:"Darkness",value:4,top:"",middle:"Shift 1 face-down card.",bottom:"",keywords:{shift:!0}},{protocol:"Darkness",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Death",value:0,top:"",middle:"Delete 1 card from each other line.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:1,top:"<div><span class='emphasis'>Start:</span> You may draw 1 card. If you do, delete 1 other card, then delete this card.</div>",middle:"",bottom:"",keywords:{draw:!0,delete:!0}},{protocol:"Death",value:2,top:"",middle:"Delete all cards in 1 line with values of 1 or 2.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:3,top:"",middle:"Delete 1 face-down card.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:4,top:"",middle:"Delete a card with a value of 0 or 1.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Fire",value:0,top:"",middle:"Flip 1 other card. Draw 2 cards.",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, draw 1 card and flip 1 other card.</div>",keywords:{draw:!0,flip:!0}},{protocol:"Fire",value:1,top:"",middle:"Discard 1 card. If you do, delete 1 card.",bottom:"",keywords:{delete:!0,discard:!0}},{protocol:"Fire",value:2,top:"",middle:"Discard 1 card. If you do, return 1 card.",bottom:"",keywords:{discard:!0,return:!0}},{protocol:"Fire",value:3,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> You may discard 1 card. If you do, flip 1 card.</div>",keywords:{discard:!0,flip:!0}},{protocol:"Fire",value:4,top:"",middle:"Discard 1 or more cards. Draw the amount discarded plus 1.",bottom:"",keywords:{discard:!0,draw:!0}},{protocol:"Fire",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Gravity",value:0,top:"",middle:"For every 2 cards in this line, play the top card of your deck face-down under this card.",bottom:"",keywords:{play:!0}},{protocol:"Gravity",value:1,top:"",middle:"Draw 2 cards. Shift 1 card either to or from this line.",bottom:"",keywords:{draw:!0,shift:!0}},{protocol:"Gravity",value:2,top:"",middle:"Flip 1 card. Shift that card to this line.",bottom:"",keywords:{flip:!0,shift:!0}},{protocol:"Gravity",value:4,top:"",middle:"Shift 1 face-down card to this line.",bottom:"",keywords:{shift:!0}},{protocol:"Gravity",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Gravity",value:6,top:"",middle:"Your opponent plays the top card of their deck face-down in this line.",bottom:"",keywords:{play:!0}},{protocol:"Hate",value:0,top:"",middle:"Delete 1 card.",bottom:"",keywords:{delete:!0}},{protocol:"Hate",value:1,top:"",middle:"Discard 3 cards. Delete 1 card. Delete 1 card.",bottom:"",keywords:{delete:!0,discard:!0}},{protocol:"Hate",value:2,top:"",middle:"Delete your highest value card. Delete your opponent's highest value card.",bottom:"",keywords:{delete:!0}},{protocol:"Hate",value:3,top:"<div><span class='emphasis'>After you delete cards:</span> Draw 1 card.</div>",middle:"",bottom:"",keywords:{draw:!0}},{protocol:"Hate",value:4,top:"",middle:"",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, delete the lowest value covered card in this line.</div>",keywords:{delete:!0}},{protocol:"Hate",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Life",value:0,top:"",middle:"Play the top card of your deck face-down in each line where you have a card.",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, delete this card.</div>",keywords:{delete:!0,play:!0}},{protocol:"Life",value:1,top:"",middle:"Flip 1 card. Flip 1 card.",bottom:"",keywords:{flip:!0}},{protocol:"Life",value:2,top:"",middle:"Draw 1 card. You may flip 1 face-down card.",bottom:"",keywords:{draw:!0,flip:!0}},{protocol:"Life",value:3,top:"",middle:"",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, play the top card of your deck face-down in another line.</div>",keywords:{play:!0}},{protocol:"Life",value:4,top:"",middle:"If this card is covering a card, draw 1 card.",bottom:"",keywords:{draw:!0}},{protocol:"Life",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Light",value:0,top:"",middle:"Flip 1 card. Draw cards equal to that card's value.",bottom:"",keywords:{draw:!0,flip:!0}},{protocol:"Light",value:1,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> Draw 1 card.</div>",keywords:{draw:!0}},{protocol:"Light",value:2,top:"",middle:"Draw 2 cards. Reveal 1 face-down card. You may shift or flip that card.",bottom:"",keywords:{draw:!0,flip:!0,reveal:!0,shift:!0}},{protocol:"Light",value:3,top:"",middle:"Shift all face-down cards in this line to another line.",bottom:"",keywords:{shift:!0}},{protocol:"Light",value:4,top:"",middle:"Your opponent reveals their hand.",bottom:"",keywords:{reveal:!0}},{protocol:"Light",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Love",value:1,top:"",middle:"Draw the top card of your opponent's deck.",bottom:"<div><span class='emphasis'>End:</span> You may give 1 card from your hand to your opponent. If you do, draw 2 cards.</div>",keywords:{draw:!0,give:!0}},{protocol:"Love",value:2,top:"",middle:"Your opponent draws 1 card. Refresh.",bottom:"",keywords:{draw:!0,refresh:!0}},{protocol:"Love",value:3,top:"",middle:"Take 1 random card from your opponent's hand. Give 1 card from your hand to your opponent.",bottom:"",keywords:{give:!0,take:!0}},{protocol:"Love",value:4,top:"",middle:"Reveal 1 card from your hand. Flip 1 card.",bottom:"",keywords:{flip:!0,reveal:!0}},{protocol:"Love",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Love",value:6,top:"",middle:"Your opponent draws 2 cards.",bottom:"",keywords:{draw:!0}},{protocol:"Metal",value:0,top:"Your opponent's total value in this line is reduced by 2.",middle:"Flip 1 card.",bottom:"",keywords:{flip:!0}},{protocol:"Metal",value:1,top:"",middle:"Draw 2 cards. Your opponent cannot compile next turn.",bottom:"",keywords:{draw:!0}},{protocol:"Metal",value:2,top:"Your opponent cannot play cards face-down in this line.",middle:"",bottom:"",keywords:{}},{protocol:"Metal",value:3,top:"",middle:"Draw 1 card. Delete all cards in 1 other line with 8 or more cards.",bottom:"",keywords:{delete:!0,draw:!0}},{protocol:"Metal",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Metal",value:6,top:"<div><span class='emphasis'>When this card would be covered or flipped:</span> First, delete this card.</div>",middle:"",bottom:"",keywords:{delete:!0}},{protocol:"Plague",value:0,top:"",middle:"Your opponent discards 1 card.",bottom:"Your opponent cannot play cards in this line.",keywords:{discard:!0}},{protocol:"Plague",value:1,top:"<div><span class='emphasis'>After your opponent discards cards:</span> Draw 1 card.</div>",middle:"Your opponent discards 1 card.",bottom:"",keywords:{discard:!0,draw:!0}},{protocol:"Plague",value:2,top:"",middle:"Dicard 1 or more cards. Your opponent discards the amount of cards discarded plus 1.",bottom:"",keywords:{discard:!0}},{protocol:"Plague",value:3,top:"",middle:"Flip each other face-up card.",bottom:"",keywords:{flip:!0}},{protocol:"Plague",value:4,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> Your opponent deletes 1 of their face-down cards. You may flip this card.</div>",keywords:{delete:!0,flip:!0}},{protocol:"Plague",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Psychic",value:0,top:"",middle:"Draw 2 cards. Your opponent discards 2 cards, then reveals their hand.",bottom:"",keywords:{discard:!0,draw:!0,reveal:!0}},{protocol:"Psychic",value:1,top:"Your opponent can only play cards face-down.",middle:"",bottom:"<div><span class='emphasis'>Start:</span> Flip this card.</div>",keywords:{flip:!0}},{protocol:"Psychic",value:2,top:"",middle:"Your opponent discards 2 cards. Rearrange their protocols.",bottom:"",keywords:{discard:!0,rearrange:!0}},{protocol:"Psychic",value:3,top:"",middle:"Your opponent discards 1 card. Shift 1 of their cards.",bottom:"",keywords:{discard:!0,shift:!0}},{protocol:"Psychic",value:4,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> You may return 1 of your opponent's cards. If you do, flip this card.</div>",keywords:{flip:!0,return:!0}},{protocol:"Psychic",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Speed",value:0,top:"",middle:"Play 1 card.",bottom:"",keywords:{play:!0}},{protocol:"Speed",value:1,top:"<div><span class='emphasis'>After you clear cache:</span> Draw 1 card.</div>",middle:"Draw 2 cards.",bottom:"",keywords:{draw:!0}},{protocol:"Speed",value:2,top:"<div><span class='emphasis'>When this card would be deleted by compiling:</span> Shift this card, even if this card is covered.</div>",middle:"",bottom:"",keywords:{shift:!0}},{protocol:"Speed",value:3,top:"",middle:"Shift 1 of your other cards.",bottom:"<div><span class='emphasis'>End:</span> You may shift 1 of your cards. If you do, flip this card.</div>",keywords:{flip:!0,shift:!0}},{protocol:"Speed",value:4,top:"",middle:"Shift 1 of your opponent's face-down cards.",bottom:"",keywords:{shift:!0}},{protocol:"Speed",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Spirit",value:0,top:"",middle:"Refresh. Draw 1 card.",bottom:"Skip your check cache phase.",keywords:{draw:!0,refresh:!0}},{protocol:"Spirit",value:1,top:"You can play cards in any line.",middle:"Draw 2 cards.",bottom:"<div><span class='emphasis'>Start:</span> Either discard 1 card or flip this card.</div>",keywords:{discard:!0,draw:!0,flip:!0}},{protocol:"Spirit",value:2,top:"",middle:"You may flip 1 card.",bottom:"",keywords:{flip:!0}},{protocol:"Spirit",value:3,top:"<div><span class='emphasis'>After you draw cards:</span> You may shift this card, even if this card is covered.</div>",middle:"",bottom:"",keywords:{shift:!0}},{protocol:"Spirit",value:4,top:"",middle:"Swap the positions of 2 of your protocols",bottom:"",keywords:{swap:!0}},{protocol:"Spirit",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Water",value:0,top:"",middle:"Flip 1 other card. Flip this card.",bottom:"",keywords:{flip:!0}},{protocol:"Water",value:1,top:"",middle:"Play the top card of your deck face-down in each other line.",bottom:"",keywords:{play:!0}},{protocol:"Water",value:2,top:"",middle:"Draw 2 cards. Rearrange your protocols.",bottom:"",keywords:{draw:!0,rearrange:!0}},{protocol:"Water",value:3,top:"",middle:"Return all cards with a value of 2 in 1 line.",bottom:"",keywords:{return:!0}},{protocol:"Water",value:4,top:"",middle:"Return 1 of your cards.",bottom:"",keywords:{return:!0}},{protocol:"Water",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}}],iy=new Set(da.map(c=>c.protocol)),Fi=Array.from(iy).sort();/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function uy(c){const s=[];for(const u of c){const i=da.filter(d=>d.protocol===u);s.push(...i)}return s}function Sr(c){const s=[...c];for(let u=s.length-1;u>0;u--){const i=Math.floor(Math.random()*(u+1));[s[u],s[i]]=[s[i],s[u]]}return s}function np({onNavigate:c,difficulty:s,setDifficulty:u}){const[i,d]=K.useState(!1),[o,f]=K.useState(null),[h,y]=K.useState(null),[p,m]=K.useState(null),[S,w]=K.useState([]);return K.useEffect(()=>{const R=new Set;for(;R.size<2&&R.size<da.length;)R.add(Math.floor(Math.random()*da.length));const O=Array.from(R).map(j=>da[j]);O.length>0&&(m(O[0]),y(O[0])),O.length>1&&f(O[1]),w(Sr(da))},[]),g.jsxs("div",{className:"screen main-menu",children:[i&&g.jsx(oy,{onClose:()=>d(!1)}),g.jsx("h1",{children:"COMPILE: MAIN 1"}),g.jsxs("div",{className:"main-menu-layout",children:[g.jsx("div",{className:"main-menu-preview decorative-card",children:h&&g.jsx(wt,{card:{...h,id:"preview",isFaceUp:!0},isFaceUp:!0})}),g.jsxs("div",{className:"main-menu-actions-container",children:[g.jsxs("div",{className:"main-menu-start-group",children:[g.jsxs("div",{className:"difficulty-selector",children:[g.jsx("h3",{className:"difficulty-title",children:"Difficulty"}),g.jsxs("div",{className:"difficulty-options",children:[g.jsx("button",{className:`btn ${s==="easy"?"active":""}`,onClick:()=>u("easy"),children:"Easy"}),g.jsx("button",{className:`btn ${s==="normal"?"active":""}`,onClick:()=>u("normal"),children:"Normal"}),g.jsx("button",{className:`btn ${s==="hard"?"active":""}`,onClick:()=>u("hard"),children:"Hard"})]})]}),g.jsx("button",{className:"btn btn-start",onClick:()=>c("ProtocolSelection"),children:"Start Game"})]}),g.jsxs("div",{className:"main-menu-other-actions",children:[g.jsx("button",{className:"btn",onClick:()=>c("CardLibrary"),children:"Cards"}),g.jsx("button",{className:"btn",onClick:()=>d(!0),children:"Rules"})]})]}),g.jsx("div",{className:"decorative-card decorative-card-right",children:o&&g.jsx(wt,{card:{...o,id:"deco-2",isFaceUp:!0},isFaceUp:!0})})]}),g.jsx("div",{className:"card-ticker-container",onMouseLeave:()=>y(p),children:g.jsxs("div",{className:"card-ticker-track",children:[S.map((R,O)=>g.jsx(wt,{card:{...R,id:`ticker-1-${O}`,isFaceUp:!0},isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>y(R)},`ticker-1-${O}`)),S.map((R,O)=>g.jsx(wt,{card:{...R,id:`ticker-2-${O}`,isFaceUp:!0},isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>y(R)},`ticker-2-${O}`))]})})]})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function xp({title:c,onBack:s}){return g.jsxs("header",{className:"app-header",children:[g.jsx("h2",{children:c}),s&&g.jsx("button",{className:"btn btn-back",onClick:s,children:"Back"})]})}const _r=[{player:"Player",picks:1},{player:"Opponent",picks:2},{player:"Player",picks:2},{player:"Opponent",picks:1}];function sy({onBack:c,onStartGame:s}){const[u,i]=K.useState(0),[d,o]=K.useState([]),[f,h]=K.useState([]),[y,p]=K.useState([]),[m,S]=K.useState(!1),[w,R]=K.useState(null),[O,j]=K.useState(null),H=_r[u],Q=(H==null?void 0:H.player)==="Player",P=(H==null?void 0:H.player)==="Opponent",Y=K.useMemo(()=>new Set([...d,...f]),[d,f]),W=K.useMemo(()=>y.map(te=>({name:te,cards:da.filter(le=>le.protocol===te).sort((le,re)=>le.value-re.value)})),[y]),k=te=>{!Q||m||p(le=>{if(le.includes(te))return le.filter(re=>re!==te);if(le.length<H.picks)return[...le,te];if(le.length===H.picks){const re=le.slice(1);return re.push(te),re}return le})},F=async()=>{if(!Q||m||y.length!==H.picks)return;S(!0);const te=[...y];p([]);for(const le of te)o(re=>[...re,le]),await new Promise(re=>setTimeout(re,300));S(!1),i(le=>le+1)};K.useEffect(()=>{P&&!m&&u<_r.length&&(async()=>{S(!0),await new Promise(Re=>setTimeout(Re,100));const le=[],re=Fi.filter(Re=>!Y.has(Re)),ge=[],je=le.filter(Re=>re.includes(Re));for(let Re=0;Re<H.picks;Re++)if(je.length>0){const _e=je.shift();ge.push(_e);const M=re.indexOf(_e);M>-1&&re.splice(M,1)}else if(re.length>0){const _e=Math.floor(Math.random()*re.length);ge.push(re.splice(_e,1)[0])}for(const Re of ge)await new Promise(_e=>setTimeout(_e,1e3)),R(Re),await new Promise(_e=>setTimeout(_e,1e3)),R(null),h(_e=>[..._e,Re]);S(!1),i(Re=>Re+1)})()},[u,P,m,Y,H]),K.useEffect(()=>{u>=_r.length&&!m&&setTimeout(()=>{s(d,f)},1e3)},[u,m,s,d,f]);const ue=te=>{let le="protocol-card";return y.includes(te)&&(le+=" selected"),Y.has(te)&&(le+=" chosen"),w===te&&(le+=" is-scanning"),le},fe=()=>m&&P?"Opponent is selecting protocols...":(H==null?void 0:H.player)==="Player"?`Player, select ${H.picks} protocol(s). (${y.length}/${H.picks})`:u>=_r.length?"Finalizing selections...":"Waiting for Opponent...";return g.jsxs("div",{className:"screen protocol-selection-screen",children:[g.jsx(xp,{title:"Protocol Selection",onBack:c}),g.jsxs("div",{className:"protocol-selection-layout",children:[g.jsxs("div",{className:"protocol-selection-sidebar",children:[g.jsxs("div",{className:"player-protocols-area",children:[g.jsx("h3",{children:"Your Protocols"}),d.map(te=>g.jsx("div",{className:"protocol-display-card player",children:te},te))]}),g.jsx("div",{className:"protocol-preview-area",children:O?g.jsx(wt,{card:{...O,id:"preview",isFaceUp:!0},isFaceUp:!0}):g.jsx("p",{children:W.length>0?"Hover over a card below to see details.":"Select a protocol to see its cards."})})]}),g.jsxs("div",{className:"protocol-grid-container",children:[g.jsx("p",{children:fe()}),g.jsx("div",{className:"protocol-grid",children:Fi.map(te=>g.jsx("div",{className:ue(te),onClick:()=>k(te),role:"button","aria-disabled":Y.has(te)||!Q||m,tabIndex:!Y.has(te)&&Q&&!m?0:-1,onKeyPress:le=>le.key==="Enter"&&k(te),children:te},te))}),Q&&g.jsx("button",{className:"btn",onClick:F,disabled:m||y.length!==(H==null?void 0:H.picks),children:"Confirm Selection"})]}),g.jsxs("div",{className:"opponent-protocols-area",children:[g.jsx("h3",{children:"Opponent Protocols"}),f.map(te=>g.jsx("div",{className:"protocol-display-card opponent",children:te},te))]})]}),g.jsx("div",{className:"selected-protocol-cards-container",children:W.length>0&&[...W].reverse().map(te=>g.jsx("div",{className:"protocol-card-row",children:te.cards.map(le=>g.jsx(wt,{card:{...le,id:`selection-${le.protocol}-${le.value}`,isFaceUp:!0},isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>j(le),onMouseLeave:()=>j(null)},`${te.name}-${le.value}`))},te.name))})]})}const tt=[];for(let c=0;c<256;++c)tt.push((c+256).toString(16).slice(1));function dy(c,s=0){return(tt[c[s+0]]+tt[c[s+1]]+tt[c[s+2]]+tt[c[s+3]]+"-"+tt[c[s+4]]+tt[c[s+5]]+"-"+tt[c[s+6]]+tt[c[s+7]]+"-"+tt[c[s+8]]+tt[c[s+9]]+"-"+tt[c[s+10]]+tt[c[s+11]]+tt[c[s+12]]+tt[c[s+13]]+tt[c[s+14]]+tt[c[s+15]]).toLowerCase()}let Vi;const fy=new Uint8Array(16);function py(){if(!Vi){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Vi=crypto.getRandomValues.bind(crypto)}return Vi(fy)}const hy=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),cp={randomUUID:hy};function Qt(c,s,u){var d;if(cp.randomUUID&&!c)return cp.randomUUID();c=c||{};const i=c.random??((d=c.rng)==null?void 0:d.call(c))??py();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,dy(i)}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const $=(c,s,u)=>({...c,log:[...c.log,{player:s,message:u}]});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function fa(c,s,u){let i=[...c],d=[...s],o=[],f=!1;for(let h=0;h<u;h++){if(i.length===0){if(d.length===0)break;i=Sr(d),d=[],f=!0}o.push(i.shift())}return{drawnCards:o,remainingDeck:i,newDiscard:d,reshuffled:f}}function au(c,s){const u=c[s];let i=c;const d=u.lanes.flat().filter(o=>o.protocol==="Spirit"&&o.value===3&&o.isFaceUp);if(d.length>0)for(const o of d)i=$(i,s,"Spirit-3 triggers after drawing: You may shift this card."),i.queuedActions=[...i.queuedActions||[],{type:"prompt_shift_for_spirit_3",sourceCardId:o.id,optional:!0}];return i}function Oe(c,s,u){const i=c[s],{drawnCards:d,remainingDeck:o,newDiscard:f,reshuffled:h}=fa(i.deck,i.discard,u);if(d.length===0)return c;const y=d.map(w=>({...w,id:Qt(),isFaceUp:!0})),p=y.map(w=>w.id),m={...i,deck:o,discard:f,hand:[...i.hand,...y]};let S={...c,[s]:m};return p.length>0&&(S.animationState={type:"drawCard",owner:s,cardIds:p}),h&&(S=$(S,s,`${s==="player"?"Player":"Opponent"}'s deck is empty. Discard pile has been reshuffled into the deck.`)),d.length>0&&(S=au(S,s)),S}function Dp(c,s){const i=5-c[s].hand.length;if(i<=0)return c;const d=s==="player"?"Player":"Opponent";let o=Oe(c,s,i);return $(o,s,`${d} refreshes their hand, drawing ${i} card(s).`)}function Lt(c,s){const u={...s},i=d=>d.map(o=>o.map(f=>c.has(f.id)?{...f,isFaceUp:!f.isFaceUp}:f));return u.player.lanes=i(u.player.lanes),u.opponent.lanes=i(u.opponent.lanes),pt(u)}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const rp=c=>{const s=Sr(uy(c)),{drawnCards:u,remainingDeck:i}=fa(s,[],5);return{protocols:c,deck:i,hand:u.map(d=>({...d,id:Qt(),isFaceUp:!0})),lanes:[[],[],[]],discard:[],compiled:[!1,!1,!1],laneValues:[0,0,0],cannotCompile:!1}},_y=(c,s)=>{const u=rp(c),i=rp(s);return $({player:u,opponent:i,turn:"player",phase:"start",controlCardHolder:null,winner:null,log:[],actionRequired:null,queuedActions:[],animationState:null,compilableLanes:[],processedStartEffectIds:[],processedEndEffectIds:[],lastPlayedCardId:void 0},"player","Game Started.")},mr=(c,s)=>c.isFaceUp?c.value:s.some(i=>i.isFaceUp&&i.protocol==="Darkness"&&i.value===2)?4:2,op=c=>{let s=0;for(const u of c)u.isFaceUp?s+=u.value:s+=2;return Math.max(0,s)};function yy(c,s,u){let i=[...s],d=[...u];for(let o=0;o<3;o++)c.opponent.lanes[o].some(f=>f.isFaceUp&&f.protocol==="Metal"&&f.value===0)&&(i[o]=Math.max(0,i[o]-2)),c.player.lanes[o].some(f=>f.isFaceUp&&f.protocol==="Metal"&&f.value===0)&&(d[o]=Math.max(0,d[o]-2));for(let o=0;o<3;o++){for(const f of c.player.lanes[o])if(f.isFaceUp)switch(`${f.protocol}-${f.value}`){case"Apathy-0":{const h=c.player.lanes[o].filter(y=>!y.isFaceUp).length;i[o]+=h;break}case"Darkness-2":{const h=c.player.lanes[o].filter(y=>!y.isFaceUp).length;i[o]+=h*2;break}}for(const f of c.opponent.lanes[o])if(f.isFaceUp)switch(`${f.protocol}-${f.value}`){case"Apathy-0":{const h=c.opponent.lanes[o].filter(y=>!y.isFaceUp).length;d[o]+=h;break}case"Darkness-2":{const h=c.opponent.lanes[o].filter(y=>!y.isFaceUp).length;d[o]+=h*2;break}}}return{finalPlayerValues:i,finalOpponentValues:d}}const pt=c=>{const s=c.player.lanes.map(op),u=c.opponent.lanes.map(op),{finalPlayerValues:i,finalOpponentValues:d}=yy(c,s,u);return{...c,player:{...c.player,laneValues:i},opponent:{...c.opponent,laneValues:d}}},Tp=(c,s)=>{const u=[],i=c[s],d=c[s==="player"?"opponent":"player"];if(!i.cannotCompile)for(let o=0;o<3;o++){const f=i.laneValues[o],h=d.laneValues[o];f>=10&&f>h&&u.push(o)}return u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const my=(c,s,u,i)=>{const d=i==="player"?"opponent":"player",o=u[i].lanes[s],f=u[d].lanes[s],h=new Set;if(o.filter(y=>y.id!==c.id&&y.isFaceUp).forEach(y=>h.add(y.id)),f.filter(y=>y.isFaceUp).forEach(y=>h.add(y.id)),h.size>0){let y={...u};return y=$(y,i,`Apathy-1: Flip ${h.size} card(s) face-down in the line.`),{newState:Lt(h,y)}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const vy=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};return o[d].lanes.flat().filter(h=>h.isFaceUp).length>0&&(o.actionRequired={type:"select_opponent_face_up_card_to_flip",count:1,sourceCardId:c.id}),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const gy=(c,s,u,i)=>{let d={...u};return d[i].lanes.flatMap(f=>f.filter((h,y)=>h.isFaceUp&&y<f.length-1)).length>0&&(d.actionRequired={type:"select_own_face_up_covered_card_to_flip",count:1,optional:!0,sourceCardId:c.id}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const rt=(c,s,u,i)=>{let d={...u};return d[i].hand.length>0&&(d.actionRequired={type:"discard",player:i,count:1,sourceCardId:c.id}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Sy=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o=Oe(u,i,3);return o=$(o,i,"Darkness-0: Draw 3 cards."),o[d].lanes.flatMap(h=>h.filter((y,p)=>p<h.length-1)).length>0&&(o=$(o,i,"Darkness-0: Prompts to shift 1 of opponent's covered cards."),o.actionRequired={type:"select_opponent_covered_card_to_shift",sourceCardId:c.id}),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const by=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};return o[d].lanes.flat().length>0&&(o.actionRequired={type:"select_opponent_card_to_flip",sourceCardId:c.id}),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const wy=(c,s,u,i)=>{let d={...u};return d[i].lanes[s].filter((f,h,y)=>h<y.length-1).length>0&&(d.actionRequired={type:"select_own_covered_card_in_lane_to_flip",laneIndex:s,sourceCardId:c.id,optional:!0}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Cy=(c,s,u,i)=>{let d={...u};return d[i].hand.length>0&&(d.actionRequired={type:"select_card_from_hand_to_play",disallowedLaneIndex:s,sourceCardId:c.id,isFaceDown:!0}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ay=(c,s,u,i)=>{let d={...u};return[...d.player.lanes.flat(),...d.opponent.lanes.flat()].filter(f=>!f.isFaceUp).length>0&&(d=$(d,i,"Darkness-4: Prompts to shift 1 face-down card."),d.actionRequired={type:"select_face_down_card_to_shift_for_darkness_4",sourceCardId:c.id}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ry=(c,s,u)=>{const i=["player","opponent"],d=[];for(const S of i){const w=u[S].lanes[s];for(let R=0;R<w.length;R++)d.push({card:w[R],owner:S})}if(d.length===0)return{newState:u};const o=d.reduce((S,w)=>{const R=O=>O.card.isFaceUp?O.card.value:u[O.owner].lanes[s].some(H=>H.isFaceUp&&H.protocol==="Darkness"&&H.value===2)?4:2;return R(w)<R(S)?w:S});let f={...u};const h=`${c.protocol}-${c.value}`,y=`${o.card.protocol}-${o.card.value}`,p=o.owner==="player"?"Player's":"Opponent's",m=u.turn;return f=$(f,m,`${h} effect triggers, deleting the lowest value covered card (${p} ${y}).`),{newState:f,animationRequests:[{type:"delete",cardId:o.card.id,owner:o.owner}]}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const xy=(c,s,u)=>{const i=u.turn,d=`${c.protocol}-${c.value}`;let o=$(u,i,`${d} On-Cover: Draw 1 card.`);return o=Oe(o,i,1),[...o.player.lanes.flat(),...o.opponent.lanes.flat()].filter(h=>h.id!==c.id).length>0?(o=$(o,i,`${d} On-Cover: Prompts to flip another card.`),o.actionRequired={type:"select_any_other_card_to_flip",sourceCardId:c.id,draws:0}):o=$(o,i,`${d} On-Cover: No other cards to flip.`),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Dy=(c,s,u)=>{const i=u.turn;return u[i].deck.length>0||u[i].discard.length>0?{newState:{...u,actionRequired:{type:"select_lane_for_life_3_play",sourceCardId:c.id,disallowedLaneIndex:s}}}:{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ty=(c,s,u)=>{const i=u.turn,d=`${c.protocol}-${c.value}`;let o=$(u,i,`${d} effect triggers: flipping itself face-down.`);return o=Lt(new Set([c.id]),o),{newState:o}},qy=(c,s,u)=>{const i=["player","opponent"];let d=null;for(const y of i)if(u[y].lanes[s].some(p=>p.id===c.id)){d=y;break}if(!d)return{newState:u};const o=u.turn,f=`${c.protocol}-${c.value}`;return{newState:$(u,o,`${f} effect triggers: deleting itself.`),animationRequests:[{type:"delete",cardId:c.id,owner:d}]}},Ey=(c,s,u)=>{const i=["player","opponent"];let d=null;for(const y of i)if(u[y].lanes[s].some(p=>p.id===c.id)){d=y;break}if(!d)return{newState:u};const o=u.turn,f=`${c.protocol}-${c.value}`;return{newState:$(u,o,`${f} effect triggers on cover: deleting itself.`),animationRequests:[{type:"delete",cardId:c.id,owner:d}]}},In={"Apathy-2":Ty,"Hate-4":Ry,"Fire-0":xy,"Life-0":qy,"Life-3":Dy,"Metal-6":Ey};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Oy=(c,s,u,i)=>{let d={...u};const o={...d[i]},f=[];for(let R=0;R<3;R++)d[i].lanes[R].length>0&&f.push(R);if(f.length===0)return{newState:d};const h=f.map(R=>{const O=d[i].lanes[R];return O.length>0?{card:O[O.length-1],laneIndex:R}:null}).filter(R=>R!==null),{drawnCards:y,remainingDeck:p,newDiscard:m}=fa(o.deck,o.discard,f.length);if(y.length===0)return{newState:d};const S=[...o.lanes];for(let R=0;R<y.length;R++){const O=f[R],j={...y[R],id:Qt(),isFaceUp:!1};S[O]=[...S[O],j]}d[i]={...o,lanes:S,deck:p,discard:m},d=$(d,i,`Life-0: Plays ${y.length} card(s) face-down.`);let w={newState:d};for(const{card:R,laneIndex:O}of h){const j=`${R.protocol}-${R.value}`,H=In[j];if(H){const Q=H(R,O,w.newState);if(w.newState=Q.newState,Q.animationRequests&&(w.animationRequests=[...w.animationRequests||[],...Q.animationRequests]),w.newState.actionRequired)break}}return w};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ny=(c,s,u,i)=>{if([...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0){let o={...u};return o=$(o,i,"Life-1: Prompts to flip 2 cards."),o.actionRequired={type:"select_any_card_to_flip",count:2,sourceCardId:c.id},{newState:o}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Uy=(c,s,u,i)=>{let d=Oe(u,i,1);return d=$(d,i,"Life-2: Draw 1 card."),[...d.player.lanes.flat(),...d.opponent.lanes.flat()].filter(f=>!f.isFaceUp).length>0&&(d.actionRequired={type:"select_any_face_down_card_to_flip_optional",sourceCardId:c.id,optional:!0}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const My=(c,s,u,i)=>{if(u[i].lanes[s].length>1){let o=Oe(u,i,1);return o=$(o,i,"Life-4: Card is covering another, draw 1 card."),{newState:o}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const jy=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};const f={...o[d]},h={...o[i]},{drawnCards:y,remainingDeck:p,newDiscard:m}=fa(f.deck,f.discard,1);if(y.length>0){const S={...y[0],id:Qt(),isFaceUp:!0};h.hand=[...h.hand,S],f.deck=p,f.discard=m,o={...o,[i]:h,[d]:f},o=$(o,i,`Love-1: ${i==="player"?"Player":"Opponent"} draws the top card of the opponent's deck.`),o=au(o,i)}return{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const zy=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};return o=$(o,i,"Love-2: Opponent draws 1 card."),o=Oe(o,d,1),o=Dp(o,i),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Hy=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};const f={...o[d]},h={...o[i]};if(f.hand.length===0)return o=$(o,i,"Love-3: Opponent has no cards to take."),{newState:o};const y=Math.floor(Math.random()*f.hand.length),p=f.hand.splice(y,1)[0];h.hand.push(p),o={...o,[i]:h,[d]:f};const m=i==="player"?"Player":"Opponent",S=i==="player"?`${p.protocol}-${p.value}`:"a random card";return o=$(o,i,`Love-3: ${m} takes ${S} from the opponent.`),o.actionRequired={type:"select_card_from_hand_to_give",sourceCardId:c.id,sourceEffect:"love_3"},{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const ky=(c,s,u,i)=>{let d={...u};return d[i].hand.length>0&&(d.actionRequired={type:"select_card_from_hand_to_reveal",sourceCardId:c.id}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ly=(c,s,u,i)=>{let o=Oe(u,i==="player"?"opponent":"player",2);return o=$(o,i,"Love-6: Opponent draws 2 cards."),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Yy=(c,s,u,i)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0?{newState:{...u,actionRequired:{type:"select_any_card_to_flip",count:1,sourceCardId:c.id}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const By=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};return o=Oe(o,i,2),o=$(o,i,"Metal-1: Draw 2 cards."),o[d].cannotCompile=!0,o=$(o,i,"Metal-1: Opponent cannot compile next turn."),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Vy=(c,s,u,i)=>{let d=Oe(u,i,1);d=$(d,i,"Metal-3: Draw 1 card.");const o=[0,1,2].filter(h=>h!==s);let f=!1;for(const h of o)if(d.player.lanes[h].length+d.opponent.lanes[h].length>=8){f=!0;break}return f&&(d.actionRequired={type:"select_lane_for_metal_3_delete",sourceCardId:c.id,disallowedLaneIndex:s}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Gy=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};return o[d].hand.length>0&&(o.actionRequired={type:"discard",player:d,count:1,sourceCardId:c.id}),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const $y=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};return o[d].hand.length>0&&(o.actionRequired={type:"discard",player:d,count:1,sourceCardId:c.id}),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Xy=(c,s,u,i)=>{let d={...u};return d[i].hand.length>0&&(i==="player"?d.actionRequired={type:"plague_2_player_discard",sourceCardId:c.id}:d.actionRequired={type:"plague_2_opponent_discard",sourceCardId:c.id}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Qy=(c,s,u,i)=>{const d=[...u.player.lanes.flat(),...u.opponent.lanes.flat()],o=new Set(d.filter(f=>f.id!==c.id&&f.isFaceUp).map(f=>f.id));if(o.size>0){let f={...u};return f=$(f,i,`Plague-3: Flip ${o.size} card(s) face-down.`),{newState:Lt(o,u)}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Zy=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o=Oe(u,i,2);o=$(o,i,"Psychic-0: Draw 2 cards.");const f=o[d].hand.length;return f>0&&(o.actionRequired={type:"discard",player:d,count:Math.min(2,f),sourceCardId:c.id},o.queuedActions=[...o.queuedActions||[],{type:"reveal_opponent_hand",sourceCardId:c.id}]),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Fy=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};const f=o[d].hand.length,h={type:"prompt_rearrange_protocols",sourceCardId:c.id,target:d};return f>0?(o.actionRequired={type:"discard",player:d,count:Math.min(2,f),sourceCardId:c.id},o.queuedActions=[...o.queuedActions||[],h]):o.actionRequired=h,{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ky=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};const f=o[d].hand.length,h={type:"select_any_opponent_card_to_shift",sourceCardId:c.id};return f>0?(o.actionRequired={type:"discard",player:d,count:1,sourceCardId:c.id},o.queuedActions=[...o.queuedActions||[],h]):o[d].lanes.flat().length>0&&(o.actionRequired=h),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Py=(c,s,u,i)=>{let d={...u};return d[i].hand.length>0&&(d=$(d,i,"Speed-0: Play another card."),d.actionRequired={type:"select_card_from_hand_to_play",disallowedLaneIndex:-1,sourceCardId:c.id}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Jy=(c,s,u,i)=>{let d=Oe(u,i,2);return d=$(d,i,"Speed-1: Draw 2 cards."),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Iy=(c,s,u,i)=>u[i].lanes.flat().filter(o=>o.id!==c.id).length>0?{newState:{...u,actionRequired:{type:"select_own_other_card_to_shift",sourceCardId:c.id}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Wy=(c,s,u,i)=>u[i==="player"?"opponent":"player"].lanes.flat().filter(f=>!f.isFaceUp).length>0?{newState:{...u,actionRequired:{type:"select_opponent_face_down_card_to_shift",sourceCardId:c.id}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const em=(c,s,u,i)=>{let d={...u};return d=Dp(d,i),d=Oe(d,i,1),d=$(d,i,"Spirit-0: Draw 1 card."),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const tm=(c,s,u,i)=>{let d=Oe(u,i,2);return d=$(d,i,"Spirit-1: Draw 2 cards."),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const am=(c,s,u,i)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0?{newState:{...u,actionRequired:{type:"select_any_card_to_flip_optional",sourceCardId:c.id,optional:!0}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const lm=(c,s,u,i)=>({newState:{...u,actionRequired:{type:"prompt_swap_protocols",sourceCardId:c.id}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const nm=(c,s,u,i)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(f=>f.id!==c.id).length>0?{newState:{...u,actionRequired:{type:"select_cards_to_delete",count:1,sourceCardId:c.id,disallowedIds:[c.id]}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const cm=(c,s,u,i)=>{let d={...u};const o=d[i],f=Math.min(3,o.hand.length);return f>0?d.actionRequired={type:"select_cards_from_hand_to_discard_for_hate_1",count:f,sourceCardId:c.id}:d.actionRequired={type:"select_cards_to_delete",count:2,sourceCardId:c.id,disallowedIds:[c.id]},{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const rm=(c,s,u,i)=>{const o=[i,i==="player"?"opponent":"player"],f=[];let h=u;for(const y of o){const p=u[y].lanes.flat();if(p.length>0){const m=p.reduce((O,j)=>{const H=O.isFaceUp?O.value:2;return(j.isFaceUp?j.value:2)>H?j:O});f.push({type:"delete",cardId:m.id,owner:y});const S=y===i?"Your":"Opponent's",w=m.isFaceUp?`${m.protocol}-${m.value}`:"a face-down card",R=`Hate-2: Deleting ${S} highest value card (${w}).`;h=$(h,i,R)}}return{newState:h,animationRequests:f}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const om=(c,s,u,i)=>{const f=[0,1,2].filter(h=>h!==s).filter(h=>u.player.lanes[h].length>0||u.opponent.lanes[h].length>0).length;return f>0?{newState:{...u,actionRequired:{type:"select_card_from_other_lanes_to_delete",sourceCardId:c.id,disallowedLaneIndex:s,lanesSelected:[],count:f}}}:{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const im=(c,s,u,i)=>({newState:{...u,actionRequired:{type:"select_lane_for_death_2",sourceCardId:c.id}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const um=(c,s,u,i)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(o=>!o.isFaceUp).length>0?{newState:{...u,actionRequired:{type:"select_face_down_card_to_delete",sourceCardId:c.id}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const sm=(c,s,u,i)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(o=>o.value===0||o.value===1).length>0?{newState:{...u,actionRequired:{type:"select_low_value_card_to_delete",sourceCardId:c.id}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const dm=(c,s,u,i)=>{if([...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(o=>o.id!==c.id).length>0)return{newState:{...u,actionRequired:{type:"select_any_other_card_to_flip",sourceCardId:c.id,draws:2}}};{let o=$(u,i,"Fire-0: No other cards to flip, drawing 2 cards.");return o=Oe(o,i,2),{newState:o}}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const fm=(c,s,u,i)=>{let d={...u};return d[i].hand.length>0&&(d.actionRequired={type:"discard",player:i,count:1,sourceCardId:c.id,sourceEffect:"fire_1"}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const pm=(c,s,u,i)=>{let d={...u};return d[i].hand.length>0&&(d.actionRequired={type:"discard",player:i,count:1,sourceCardId:c.id,sourceEffect:"fire_2"}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const hm=(c,s,u,i)=>u[i].hand.length>0?{newState:{...u,actionRequired:{type:"select_cards_from_hand_to_discard_for_fire_4",sourceCardId:c.id}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const _m=(c,s,u,i)=>{const d=i==="player"?"opponent":"player",o=u[i].lanes[s].length,f=u[d].lanes[s].length,h=o+f,y=Math.floor(h/2);if(y===0)return{newState:u};let p={...u};const m={...p[i]},{drawnCards:S,remainingDeck:w,newDiscard:R}=fa(m.deck,m.discard,y);if(S.length===0)return{newState:p};const O=S.map(Q=>({...Q,id:Qt(),isFaceUp:!1})),j=[...m.lanes[s]];j.splice(j.length-1,0,...O);const H=[...m.lanes];return H[s]=j,p[i]={...m,lanes:H,deck:w,discard:R},p=$(p,i,`Gravity-0: Plays ${S.length} card(s) face-down under itself.`),{newState:p}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const ym=(c,s,u,i)=>{let d=Oe(u,i,2);return d=$(d,i,"Gravity-1: Draw 2 cards."),[...d.player.lanes.flat(),...d.opponent.lanes.flat()].length>0&&(d.actionRequired={type:"select_card_to_shift_for_gravity_1",sourceCardId:c.id,sourceLaneIndex:s}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const mm=(c,s,u,i)=>{let d={...u};return[...d.player.lanes.flat(),...d.opponent.lanes.flat()].length>0&&(d.actionRequired={type:"select_card_to_flip_and_shift_for_gravity_2",sourceCardId:c.id,targetLaneIndex:s}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const vm=(c,s,u,i)=>{let d={...u};return[...d.player.lanes.flat(),...d.opponent.lanes.flat()].filter(f=>!f.isFaceUp).length>0&&(d.actionRequired={type:"select_face_down_card_to_shift_for_gravity_4",sourceCardId:c.id,targetLaneIndex:s}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const gm=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};const f={...o[d]},h=f.lanes[s],y=h.length>0?h[h.length-1]:null,{drawnCards:p,remainingDeck:m,newDiscard:S}=fa(f.deck,f.discard,1);if(p.length>0){const w={...p[0],id:Qt(),isFaceUp:!1},R=[...f.lanes];R[s]=[...R[s],w],o[d]={...f,lanes:R,deck:m,discard:S};const O=o[d].protocols[s];o=$(o,i,`Gravity-6: Opponent plays the top card of their deck face-down into Protocol ${O}.`);let j={newState:o};if(y){const H=`${y.protocol}-${y.value}`,Q=In[H];if(Q){const P=Q(y,s,j.newState);j.newState=P.newState,P.animationRequests&&(j.animationRequests=[...j.animationRequests||[],...P.animationRequests])}}return j}return{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Sm=(c,s,u,i)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0?{newState:{...u,actionRequired:{type:"select_card_to_flip_for_light_0",sourceCardId:c.id}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const bm=(c,s,u,i)=>{let d=Oe(u,i,2);return d=$(d,i,"Light-2: Draw 2 cards."),[...d.player.lanes.flat(),...d.opponent.lanes.flat()].filter(f=>!f.isFaceUp).length>0&&(d.actionRequired={type:"select_face_down_card_to_reveal_for_light_2",sourceCardId:c.id}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const wm=(c,s,u,i)=>{let d={...u};return[...d.player.lanes[s],...d.opponent.lanes[s]].filter(f=>!f.isFaceUp).length>0&&(d.actionRequired={type:"select_lane_to_shift_cards_for_light_3",sourceCardId:c.id,sourceLaneIndex:s}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Cm=(c,s,u,i)=>{const d=i==="player"?"opponent":"player";let o={...u};const f={...o[d]};return f.hand.length>0&&(f.hand=f.hand.map(h=>({...h,isRevealed:!0})),o[d]=f,o=$(o,i,"Light-4: Opponent reveals their hand.")),{newState:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Am=(c,s,u,i)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(o=>o.id!==c.id).length>0?{newState:{...u,actionRequired:{type:"select_any_other_card_to_flip_for_water_0",sourceCardId:c.id}}}:{newState:Lt(new Set([c.id]),u)};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Rm=(c,s,u,i)=>{let d={...u};const o={...d[i]},f=[0,1,2].filter(R=>R!==s);if(f.length===0)return{newState:d};const h=f.map(R=>{const O=d[i].lanes[R];return O.length>0?{card:O[O.length-1],laneIndex:R}:null}).filter(R=>R!==null),{drawnCards:y,remainingDeck:p,newDiscard:m}=fa(o.deck,o.discard,f.length);if(y.length===0)return{newState:d};const S=[...o.lanes];for(let R=0;R<y.length;R++){const O=f[R],j={...y[R],id:Qt(),isFaceUp:!1};S[O]=[...S[O],j]}d[i]={...o,lanes:S,deck:p,discard:m},d=$(d,i,`Water-1: Plays ${y.length} card(s) face-down in other lines.`);let w={newState:d};for(const{card:R,laneIndex:O}of h){const j=`${R.protocol}-${R.value}`,H=In[j];if(H){const Q=H(R,O,w.newState);if(w.newState=Q.newState,Q.animationRequests&&(w.animationRequests=[...w.animationRequests||[],...Q.animationRequests]),w.newState.actionRequired)break}}return w};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const xm=(c,s,u,i)=>{let d=Oe(u,i,2);return d=$(d,i,"Water-2: Draw 2 cards."),d.actionRequired={type:"prompt_rearrange_protocols",sourceCardId:c.id,target:i},{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Dm=(c,s,u,i)=>({newState:{...u,actionRequired:{type:"select_lane_for_water_3",sourceCardId:c.id}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Tm=(c,s,u,i)=>({newState:{...u,actionRequired:{type:"select_own_card_to_return_for_water_4",sourceCardId:c.id}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const qm={"Apathy-1":my,"Apathy-3":vy,"Apathy-4":gy,"Apathy-5":rt,"Darkness-0":Sy,"Darkness-1":by,"Darkness-2":wy,"Darkness-3":Cy,"Darkness-4":Ay,"Darkness-5":rt,"Death-0":om,"Death-2":im,"Death-3":um,"Death-4":sm,"Death-5":rt,"Fire-0":dm,"Fire-1":fm,"Fire-2":pm,"Fire-4":hm,"Fire-5":rt,"Gravity-0":_m,"Gravity-1":ym,"Gravity-2":mm,"Gravity-4":vm,"Gravity-5":rt,"Gravity-6":gm,"Hate-0":nm,"Hate-1":cm,"Hate-2":rm,"Hate-5":rt,"Life-0":Oy,"Life-1":Ny,"Life-2":Uy,"Life-4":My,"Life-5":rt,"Light-0":Sm,"Light-2":bm,"Light-3":wm,"Light-4":Cm,"Light-5":rt,"Love-1":jy,"Love-2":zy,"Love-3":Hy,"Love-4":ky,"Love-5":rt,"Love-6":Ly,"Metal-0":Yy,"Metal-1":By,"Metal-3":Vy,"Metal-5":rt,"Plague-0":Gy,"Plague-1":$y,"Plague-2":Xy,"Plague-3":Qy,"Plague-5":rt,"Psychic-0":Zy,"Psychic-2":Fy,"Psychic-3":Ky,"Psychic-5":rt,"Speed-0":Py,"Speed-1":Jy,"Speed-3":Iy,"Speed-4":Wy,"Speed-5":rt,"Spirit-0":em,"Spirit-1":tm,"Spirit-2":am,"Spirit-4":lm,"Spirit-5":rt,"Water-0":Am,"Water-1":Rm,"Water-2":xm,"Water-3":Dm,"Water-4":Tm,"Water-5":rt};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Em=(c,s)=>({newState:{...s,actionRequired:{type:"prompt_death_1_effect",sourceCardId:c.id,optional:!0}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Om=(c,s)=>{const u=s.turn,i=`${c.protocol}-${c.value}`;let d=$(s,u,`${i} Start Phase: Flipping itself.`);return d=Lt(new Set([c.id]),d),d.animationState={type:"flipCard",cardId:c.id},{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Nm=(c,s)=>({newState:{...s,actionRequired:{type:"prompt_spirit_1_start",sourceCardId:c.id}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Um={"Death-1":Em,"Psychic-1":Om,"Spirit-1":Nm};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Mm=(c,s)=>{const u=s.turn==="player"?"opponent":"player";return s[u].lanes.flat().filter(d=>!d.isFaceUp).length>0?{newState:{...s,actionRequired:{type:"plague_4_opponent_delete",sourceCardId:c.id}}}:{newState:{...s,actionRequired:{type:"plague_4_player_flip_optional",sourceCardId:c.id,optional:!0}}}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const jm=(c,s)=>{let u=Oe(s,s.turn,1);return u=$(u,s.turn,"Light-1 End Phase: Draw 1 card."),{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const zm=(c,s)=>{const u=s.turn;return s[u].hand.length>0?{newState:{...s,actionRequired:{type:"prompt_fire_3_discard",sourceCardId:c.id,optional:!0}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Hm=(c,s)=>{const u=s.turn;return s[u].lanes.flat().length>0?{newState:{...s,actionRequired:{type:"prompt_shift_for_speed_3",sourceCardId:c.id,optional:!0}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const km=(c,s)=>{const u=s.turn;return s[u].hand.length>0?{newState:{...s,actionRequired:{type:"prompt_give_card_for_love_1",sourceCardId:c.id,optional:!0}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Lm=(c,s)=>{const u=s.turn==="player"?"opponent":"player";return s[u].lanes.flat().length>0?{newState:{...s,actionRequired:{type:"prompt_return_for_psychic_4",sourceCardId:c.id,optional:!0}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ym={"Plague-4":Mm,"Light-1":jm,"Fire-3":zm,"Speed-3":Hm,"Love-1":km,"Psychic-4":Lm};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function lu(c,s,u,i){const d=u[i].lanes[s];if(!d.find(w=>w.id===c.id))return{newState:u};if(!(d.length>0&&d[d.length-1].id===c.id))return{newState:u};const h=i==="player"?"opponent":"player",y=u[i].lanes[s].some(w=>w.isFaceUp&&w.protocol==="Apathy"&&w.value===2&&w.id!==c.id),p=u[h].lanes[s].some(w=>w.isFaceUp&&w.protocol==="Apathy"&&w.value===2);if(y||p)return{newState:u};const m=`${c.protocol}-${c.value}`,S=qm[m];if(S){const w=S(c,s,u,i),R=pt(w.newState);return{...w,newState:R}}return{newState:u}}function Bm(c,s,u){if(!c.isFaceUp)return{newState:u};const i=`${c.protocol}-${c.value}`,d=In[i];if(d){const o=d(c,s,u),f=pt(o.newState);return{...o,newState:f}}return{newState:u}}function qp(c){const s=c.turn;let u={...c};const i=u.processedStartEffectIds||[],d=u[s].lanes.map(o=>o.length>0?o[o.length-1]:null).filter(o=>o!==null&&o.isFaceUp&&(o.top.includes("'emphasis'>Start:")||o.bottom.includes("'emphasis'>Start:"))&&!i.includes(o.id));for(const o of d){const f=`${o.protocol}-${o.value}`,h=Um[f];if(h){const y=h(o,u);if(u=pt(y.newState),u.processedStartEffectIds=[...u.processedStartEffectIds||[],o.id],u.actionRequired)return{newState:u}}}return{newState:u}}function Vm(c){const s=c.turn;let u={...c};const i=u.processedEndEffectIds||[],d=u[s].lanes.map(o=>o.length>0?o[o.length-1]:null).filter(o=>o!==null&&o.isFaceUp&&o.bottom.includes("'emphasis'>End:")&&!i.includes(o.id));for(const o of d){const f=`${o.protocol}-${o.value}`,h=Ym[f];if(h){const y=h(o,u);if(u=pt(y.newState),u.processedEndEffectIds=[...u.processedEndEffectIds||[],o.id],u.actionRequired)return{newState:u}}}return{newState:u}}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function Ue(c,s){if(!s)return null;for(const u of["player","opponent"])for(const i of c[u].lanes){const d=i.find(o=>o.id===s);if(d)return{card:d,owner:u}}return null}function ip(c,s,u,i){var h;if(!u||!i)return c;let d={...c};const o=(h=Ue(d,i))==null?void 0:h.card,f=o?`${o.protocol}-${o.value}`:"A card effect";switch(u){case"fire_1":d=$(d,s,`${f}: Discard successful. Prompting to delete 1 card.`),d.actionRequired={type:"select_cards_to_delete",count:1,sourceCardId:i,disallowedIds:[i]};break;case"fire_2":d=$(d,s,`${f}: Discard successful. Prompting to return 1 card.`),d.actionRequired={type:"select_card_to_return",sourceCardId:i};break;case"fire_3":d=$(d,s,`${f}: Discard successful. Prompting to flip 1 card.`),d.actionRequired={type:"select_card_to_flip_for_fire_3",sourceCardId:i};break}return d}function ft(c,s,u=null){const i=Ue(c,s);if(!i)return c;const{card:d,owner:o}=i,f=c.turn,h=f==="player"?"Player":"Opponent",y=o==="player"?"Player's":"Opponent's",p=d.isFaceUp?"face-down":"face-up",m=d.isFaceUp?`${d.protocol}-${d.value}`:"a face-down card";let S=$(c,f,`${h} flips ${y} ${m} ${p}.`);return S=Lt(new Set([s]),S),S.animationState={type:"flipCard",cardId:s},S.actionRequired=u,S}function Ki(c,s){const u=Ue(c,s);if(!u)return c;const{card:i,owner:d}=u;let o={...c};const f={...o[d]};f.lanes=f.lanes.map(S=>S.filter(w=>w.id!==s)),f.hand=[...f.hand,{...i,isFaceUp:!0,isRevealed:!1}],o[d]=f;const h=o.turn,y=h==="player"?"Player":"Opponent",p=d==="player"?"Player's":"Opponent's",m=`${i.protocol}-${i.value}`;return o=$(o,h,`${y} returns ${p} ${m} to their hand.`),o.actionRequired=null,pt(o)}function Fl(c,s,u,i,d){let o={...c};const f={...o[u]},h=f.lanes.flat().find(O=>O.id===s);if(!h)return c;let y=-1;if(f.lanes=f.lanes.map((O,j)=>O.some(H=>H.id===s)?(y=j,O.filter(H=>H.id!==s)):O),y===-1)return c;const p=f.lanes[i].length>0?f.lanes[i][f.lanes[i].length-1]:null;f.lanes[i]=[...f.lanes[i],h],o[u]=f;const m=d==="player"?"Player":"Opponent",S=u==="player"?"Player's":"Opponent's",w=h.isFaceUp?`${h.protocol}-${h.value}`:"a card",R=o[u].protocols[i];if(o=$(o,d,`${m} shifts ${S} ${w} to Protocol ${R}.`),o.actionRequired=null,o=pt(o),p){const O=`${p.protocol}-${p.value}`,j=In[O];j&&(o=j(p,i,o).newState)}return o}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Gm=(c,s)=>{if(c[s].lanes.flat().some(d=>d.isFaceUp&&d.protocol==="Speed"&&d.value===1)){let d={...c};return d=$(d,s,"Speed-1 triggers after clearing cache: Draw 1 card."),d=Oe(d,s,1),d}return c},Kl=c=>{if(c.winner)return c;const s=c.turn;let u={...c};switch(c.phase){case"start":return u=qp(u).newState,u.actionRequired?u:{...u,phase:"control"};case"control":return{...u,phase:"compile"};case"compile":{const i=Tp(u,s);return i.length>0?{...u,compilableLanes:i}:{...u,phase:"action",compilableLanes:[]}}case"action":return{...u,phase:"hand_limit"};case"hand_limit":{const i=u[s];return i.lanes.some(f=>f.length>0&&f[f.length-1].isFaceUp&&f[f.length-1].protocol==="Spirit"&&f[f.length-1].value===0)?{...$(u,s,"Spirit-0: Skipping Check Cache phase."),phase:"end"}:i.hand.length>5?{...u,actionRequired:{type:"discard",player:s,count:i.hand.length-5}}:{...Gm(u,s),phase:"end"}}case"end":{const i={...u};u=Vm(u).newState;const d=i.actionRequired,o=u.actionRequired;if(o&&o!==d)return u;const f=s==="player"?"opponent":"player",h={...u[s],cannotCompile:!1};return{...u,[s]:h,turn:f,phase:"start",processedStartEffectIds:[],processedEndEffectIds:[]}}}return c},Ep=c=>{if(c.winner||c.actionRequired&&c.actionRequired.type==="discard"&&c.actionRequired.player!==c.turn)return c;if(c._interruptedTurn){const i=c._interruptedTurn;let d={...c};return delete d._interruptedTurn,d.turn=i,d}if(c.queuedActions&&c.queuedActions.length>0){const i=[...c.queuedActions],d=i.shift();return{...c,actionRequired:d,queuedActions:i}}if(c.queuedEffect){const{card:i,laneIndex:d}=c.queuedEffect,o={...c,queuedEffect:void 0},f=Ue(o,i.id);if(f){const{card:h,owner:y}=f,{newState:p}=lu(h,d,o,y);if(p.actionRequired)return p;c=p}else console.error("Queued effect card not found on board!")}let s={...c,phase:"hand_limit",compilableLanes:[]};const u=c.turn;for(;s.turn===u&&!s.winner;){const i=s.actionRequired,d=s.phase;s=Kl(s);const o=s.actionRequired;if(o&&o!==i)break;if(s.phase===d&&s.turn===u){console.error("Game is stuck in a phase loop:",s.phase);break}}return s},nu=c=>{if(c.winner)return c;let s={...c};const u=s.turn;for(;s.turn===u&&!s.actionRequired&&!s.winner;){const i=s.phase;if(i==="action")break;if(i==="compile"){const o=Tp(s,u);if(o.length>0){s={...s,compilableLanes:o};break}}const d=s.phase;if(s=Kl(s),d===s.phase&&!s.actionRequired){console.error("Game is stuck in an automatic phase loop:",d);break}}return s},yr=c=>{let s={...c,actionRequired:null};const u=qp(s).newState;if(u.actionRequired)return u;let i=u;return i=Kl({...i,phase:"control"}),i.actionRequired||(i=Kl(i)),i},Op=c=>{if(c.winner)return c;let s={...c,phase:"start"};return s=Kl(s),s.actionRequired?s:nu(s)},up=Object.freeze(Object.defineProperty({__proto__:null,advancePhase:Kl,continueTurnAfterStartPhaseAction:yr,continueTurnProgression:nu,processEndOfAction:Ep,processStartOfTurn:Op},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ya=(c,s)=>{if(c[s].lanes.flat().some(d=>d.isFaceUp&&d.protocol==="Hate"&&d.value===3)){let d={...c};return d=$(d,s,"Hate-3 triggers: Draw 1 card."),d=Oe(d,s,1),d}return c};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function $m(c,s,u){const i=Ue(c,s);if(i&&i.card.protocol==="Metal"&&i.card.value===6){$(c,c.turn,"Metal-6 effect triggers on flip: deleting itself.");const d=(o,f)=>{let h=Ya(o,c.turn);if(u&&"count"in u&&u.count>1){const y=u.count-1;return h.actionRequired={...u,count:y},h}if(h.actionRequired=null,h.queuedActions&&h.queuedActions.length>0){const y=[...h.queuedActions],p=y.shift();return{...h,actionRequired:p,queuedActions:y}}return f(h)};return{nextState:{...c,actionRequired:null},requiresAnimation:{animationRequests:[{type:"delete",cardId:s,owner:i.owner}],onCompleteCallback:d},requiresTurnEnd:!1}}return null}const Np=(c,s)=>{var f;if(!c.actionRequired)return{nextState:c};let u={...c},i=!0,d=null;const o=$m(c,s,c.actionRequired);if(o)return o;switch(c.actionRequired.type){case"select_opponent_face_up_card_to_flip":case"select_own_face_up_covered_card_to_flip":u=ft(c,s);break;case"select_opponent_card_to_flip":{u=ft(c,s,{type:"shift_flipped_card_optional",cardId:s,sourceCardId:c.actionRequired.sourceCardId,optional:!0}),i=!1;break}case"select_own_covered_card_in_lane_to_flip":u=ft(c,s);break;case"shift_flipped_card_optional":case"select_opponent_covered_card_to_shift":case"select_face_down_card_to_shift_for_darkness_4":case"select_own_other_card_to_shift":case"select_opponent_face_down_card_to_shift":case"select_any_opponent_card_to_shift":{const h=Ue(c,s);if(h){const{owner:y}=h;let p=-1;for(let m=0;m<c[y].lanes.length;m++)if(c[y].lanes[m].some(S=>S.id===s)){p=m;break}if(p!==-1){const m={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:y,originalLaneIndex:p,sourceCardId:c.actionRequired.sourceCardId,actor:c.turn};u.actionRequired=m}}i=!1;break}case"select_own_card_to_shift_for_speed_3":{const h=Ue(c,s);if(h){const{owner:y}=h;let p=-1;for(let m=0;m<c[y].lanes.length;m++)if(c[y].lanes[m].some(S=>S.id===s)){p=m;break}if(p!==-1){const m={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:y,originalLaneIndex:p,sourceCardId:c.actionRequired.sourceCardId,actor:c.turn,sourceEffect:"speed_3_end"};u.actionRequired=m}}i=!1;break}case"select_card_to_delete_for_death_1":{const{sourceCardId:h}=c.actionRequired,y=Ue(c,s),p=Ue(c,h);if(!y||!p)return{nextState:c};const m=c.turn,S=m==="player"?"Player":"Opponent",w=y.owner==="player"?"Player's":"Opponent's",R=y.card.isFaceUp?`${y.card.protocol}-${y.card.value}`:"a face-down card";u=$(u,m,`Death-1: ${S} deletes ${w} ${R} and the Death-1 card itself.`),u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:y.owner},{type:"delete",cardId:h,owner:p.owner}],onCompleteCallback:(O,j)=>{let H=Ya(O,m);if(H=Ya(H,m),H.actionRequired=null,H.queuedActions&&H.queuedActions.length>0){const Q=[...H.queuedActions],P=Q.shift();return{...H,actionRequired:P,queuedActions:Q}}return j(H)}},i=!1;break}case"select_cards_to_delete":case"select_face_down_card_to_delete":case"select_low_value_card_to_delete":{const h=Ue(c,s);if(!h)return{nextState:c};const y=c.turn==="player"?"Player":"Opponent",p=h.owner==="player"?"Player's":"Opponent's",m=h.card.isFaceUp?`${h.card.protocol}-${h.card.value}`:"a face-down card",S=Ue(c,c.actionRequired.sourceCardId),w=S?`${S.card.protocol}-${S.card.value}`:"a card effect";u=$(u,c.turn,`${w}: ${y} deletes ${p} ${m}.`),u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:h.owner}],onCompleteCallback:(R,O)=>{var Q;const j=c.turn;let H=Ya(R,j);if(((Q=c.actionRequired)==null?void 0:Q.type)==="select_cards_to_delete"){const P=c.actionRequired.count-1;if(P>0)return H.actionRequired={...c.actionRequired,count:P,disallowedIds:[...c.actionRequired.disallowedIds,s]},H}if(H.actionRequired=null,H.queuedActions&&H.queuedActions.length>0){const P=[...H.queuedActions],Y=P.shift();return{...H,actionRequired:Y,queuedActions:P}}return O(H)}},i=!1;break}case"select_card_from_other_lanes_to_delete":{const h=Ue(c,s);if(!h)return{nextState:c};let y=-1;for(let O=0;O<c[h.owner].lanes.length;O++)if(c[h.owner].lanes[O].some(j=>j.id===s)){y=O;break}if(y===-1)return{nextState:c};const p=c.turn==="player"?"Player":"Opponent",m=h.owner==="player"?"Player's":"Opponent's",S=h.card.isFaceUp?`${h.card.protocol}-${h.card.value}`:"a face-down card",w=Ue(c,c.actionRequired.sourceCardId),R=w?`${w.card.protocol}-${w.card.value}`:"a card effect";u=$(u,c.turn,`${R}: ${p} deletes ${m} ${S}.`),u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:h.owner}],onCompleteCallback:(O,j)=>{let H=Ya(O,c.turn);const Q=c.actionRequired;if((Q==null?void 0:Q.type)!=="select_card_from_other_lanes_to_delete")return j(H);const P=Q.count-1;if(P>0)return{...H,actionRequired:{...Q,lanesSelected:[...Q.lanesSelected,y],count:P}};{let Y={...H,actionRequired:null};if(Y.queuedActions&&Y.queuedActions.length>0){const W=[...Y.queuedActions],k=W.shift();return{...Y,actionRequired:k,queuedActions:W}}return j(Y)}}},i=!1;break}case"plague_4_opponent_delete":{const h=Ue(c,s);if(!h)return{nextState:c};const y=c.turn==="player"?"opponent":"player";if(h.owner===y&&!h.card.isFaceUp){const p=y==="player"?"Player":"Opponent",m=`${h.card.protocol}-${h.card.value}`;u=$(u,y,`Plague-4: ${p} deletes their face-down card (${m}).`),u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:h.owner}],onCompleteCallback:(S,w)=>({...S,actionRequired:{type:"plague_4_player_flip_optional",sourceCardId:c.actionRequired.sourceCardId,optional:!0}})}}i=!1;break}case"select_any_other_card_to_flip":{const{draws:h,sourceCardId:y}=c.actionRequired;if(u=ft(c,s),h>0){const p=Ue(u,y),m=p?`${p.card.protocol}-${p.card.value}`:"a card effect";u=$(u,u.turn,`${m}: Draw ${h} card(s).`),u=Oe(u,u.turn,h)}break}case"select_card_to_return":case"select_opponent_card_to_return":{if(u=Ki(c,s),c.actionRequired.type==="select_opponent_card_to_return"&&c.actionRequired.sourceCardId){const h=c.actionRequired.sourceCardId;u=$(u,c.turn,"Psychic-4: Flipping itself."),u=Lt(new Set([h]),u),u.animationState={type:"flipCard",cardId:h}}break}case"select_card_to_flip_for_fire_3":u=ft(c,s);break;case"select_card_to_shift_for_gravity_1":{const{sourceLaneIndex:h,sourceCardId:y}=c.actionRequired,p=Ue(c,s);if(!p)return{nextState:c};let m=-1;for(let S=0;S<c[p.owner].lanes.length;S++)if(c[p.owner].lanes[S].some(w=>w.id===s)){m=S;break}m===h?(u.actionRequired={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:p.owner,originalLaneIndex:h,sourceCardId:y,actor:c.turn},i=!1):u=Fl(c,s,p.owner,h,c.turn);break}case"select_card_to_flip_and_shift_for_gravity_2":{const{targetLaneIndex:h}=c.actionRequired,y=Ue(c,s);if(!y)return{nextState:c};let p=ft(c,s);u=Fl(p,s,y.owner,h,c.turn),u.actionRequired=null;break}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:h}=c.actionRequired,y=Ue(c,s);if(!y||y.card.isFaceUp)return{nextState:c};u=Fl(c,s,y.owner,h,c.turn);break}case"select_any_card_to_flip":{const h=c.actionRequired.count-1;let y=null;h>0&&(y={...c.actionRequired,count:h}),u=ft(c,s,y),u.actionRequired||u.queuedActions&&u.queuedActions.length>0?i=!1:i=h<=0;break}case"select_any_card_to_flip_optional":case"select_any_face_down_card_to_flip_optional":u=ft(c,s);break;case"select_card_to_flip_for_light_0":{if(!((f=Ue(c,s))==null?void 0:f.card))return{nextState:c};const y=ft(c,s),p=Ue(y,s).card,m=p.isFaceUp?p.value:2;u=Oe(y,c.turn,m),u=$(u,c.turn,`Light-0: Drawing ${m} card(s).`);break}case"select_face_down_card_to_reveal_for_light_2":{u=ft(c,s,{type:"prompt_shift_or_flip_for_light_2",sourceCardId:c.actionRequired.sourceCardId,revealedCardId:s,optional:!0}),i=!1;break}case"select_any_other_card_to_flip_for_water_0":{const h=ft(c,s),y=c.actionRequired.sourceCardId;u=ft(h,y),u=$(u,c.turn,"Water-0: Flips itself.");break}case"select_own_card_to_return_for_water_4":{const h=Ue(c,s);h&&h.owner===c.turn&&(u=Ki(c,s));break}default:return{nextState:c}}return(u.actionRequired||u.queuedActions&&u.queuedActions.length>0)&&(i=!1),{nextState:u,requiresAnimation:d,requiresTurnEnd:i}},sp=(c,s)=>{const u=c.actionRequired;return(u==null?void 0:u.type)==="select_opponent_card_to_flip"?ft(c,s,{type:"shift_flipped_card_optional",cardId:s,sourceCardId:u.sourceCardId,optional:!0}):ft(c,s)},dp=(c,s)=>Ki(c,s);/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Pi=(c,s,u,i,d)=>{const f={...c[d]}.hand.find(Y=>Y.id===s);if(!f)return{newState:c};if(c[d==="player"?"opponent":"player"].lanes[u].some(Y=>Y.isFaceUp&&Y.protocol==="Plague"&&Y.value===0))return{newState:c};let p={newState:c};const m=c[d].lanes[u];if(m.length>0){const Y=m[m.length-1];p=Bm(Y,u,c)}const S=p.newState,w={...S[d]};w.hand=w.hand.filter(Y=>Y.id!==s);const R=[...w.lanes],O={...f,isFaceUp:i,isRevealed:!1};R[u]=[...R[u],O],w.lanes=R;let j={...S,[d]:w};j.lastPlayedCardId=O.id,j=pt(j);const H=d==="player"?"Player":"Opponent",Q=j[d].protocols[u];let P;if(d==="opponent"&&!i)P=`${H} plays a face-down card into Protocol ${Q}.`;else{const Y=`${f.protocol}-${f.value}`;P=`${H} plays ${Y}`,i||(P+=" face-down"),P+=` into Protocol ${Q}.`}if(j=$(j,d,P),S.actionRequired)return i&&(j.queuedEffect={card:O,laneIndex:u}),{newState:j,animationRequests:p.animationRequests};{if(d==="opponent")return i&&(j.queuedEffect={card:O,laneIndex:u}),{newState:j,animationRequests:p.animationRequests};let Y={newState:j};i&&(Y=lu(O,u,j,d));const W=[...p.animationRequests||[],...Y.animationRequests||[]];return{newState:Y.newState,animationRequests:W.length>0?W:void 0}}},fp=(c,s)=>{const u=c[s];if(u.hand.length>=5)return c;const i=5-u.hand.length;if(i<=0)return c;const{drawnCards:d,remainingDeck:o,newDiscard:f,reshuffled:h}=fa(u.deck,u.discard,i);if(d.length===0)return c;const y=d.map(R=>({...R,id:Qt(),isFaceUp:!0})),p=y.map(R=>R.id),m={...u,deck:o,discard:f,hand:[...u.hand,...y]};let S={...c,[s]:m,animationState:{type:"drawCard",owner:s,cardIds:p}};return h&&(S=$(S,s,`${s==="player"?"Player":"Opponent"}'s deck is empty. Discard pile has been reshuffled into the deck.`)),S=$(S,s,`${s==="player"?"Player":"Opponent"} fills their hand, drawing ${i} card(s).`),S=au(S,s),S};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const cu=(c,s)=>{if(!c.actionRequired)return{nextState:c};let u={...c},i=null;switch(c.actionRequired.type){case"select_lane_for_shift":{const{cardToShiftId:d,cardOwner:o,actor:f,sourceEffect:h}=c.actionRequired;if(u=Fl(c,d,o,s,f),h==="speed_3_end"){const y=c.actionRequired.sourceCardId;u=$(u,f,"Speed-3: Flipping itself after shifting a card."),u=Lt(new Set([y]),u),u.animationState={type:"flipCard",cardId:y}}break}case"shift_flipped_card_optional":{const d=c.actionRequired.cardId,o=c.turn==="player"?"opponent":"player";u=Fl(c,d,o,s,c.turn);break}case"select_lane_for_play":{const{cardInHandId:d,isFaceDown:o}=c.actionRequired,f=c.turn,h=c[f].hand.find(m=>m.id===d);if(!h){console.error("Card for play not found in hand"),u.actionRequired=null;break}let y;typeof o=="boolean"?y=!o:y=c[f].lanes.flat().some(S=>S.isFaceUp&&S.protocol==="Spirit"&&S.value===1)||h.protocol===c[f].protocols[s];const{newState:p}=Pi(c,d,s,y,f);u=p,u.actionRequired=null;break}case"select_lane_for_death_2":{const d=c.turn,o=d==="player"?"Player":"Opponent",f=c.player.protocols[s];u=$(u,d,`Death-2: ${o} targets Protocol ${f}.`);const h=[],y=[];for(const p of["player","opponent"]){const m=c[p],S=m.lanes[s].some(w=>w.isFaceUp&&w.protocol==="Darkness"&&w.value===2)?4:2;for(const w of m.lanes[s]){const R=w.isFaceUp?w.value:S;if(R===1||R===2){h.push({type:"delete",cardId:w.id,owner:p});const O=p==="player"?"Player's":"Opponent's",j=w.isFaceUp?`${w.protocol}-${w.value}`:"a face-down card";y.push(`${O} ${j}`)}}}if(y.length>0){const p=Ue(c,c.actionRequired.sourceCardId),m=p?`${p.card.protocol}-${p.card.value}`:"Death-2";u=$(u,d,`${m}: Deleting ${y.join(", ")}.`)}u.actionRequired=null,h.length>0&&(i={animationRequests:h,onCompleteCallback:(p,m)=>{let S=Ya(p,c.turn);if(S.queuedActions&&S.queuedActions.length>0){const w=[...S.queuedActions],R=w.shift();return{...S,actionRequired:R,queuedActions:w}}return m(S)}});break}case"select_lane_for_metal_3_delete":{const d=c.turn,o=d==="player"?"Player":"Opponent",f=c.player.protocols[s];u=$(u,d,`Metal-3: ${o} targets Protocol ${f} for deletion.`);const h=[];for(const y of["player","opponent"])for(const p of c[y].lanes[s])h.push({type:"delete",cardId:p.id,owner:y});u.actionRequired=null,h.length>0&&(i={animationRequests:h,onCompleteCallback:(y,p)=>{let m=y;for(let S=0;S<h.length;S++)m=Ya(m,c.turn);if(m.queuedActions&&m.queuedActions.length>0){const S=[...m.queuedActions],w=S.shift();return{...m,actionRequired:w,queuedActions:S}}return p(m)}});break}case"select_lane_for_life_3_play":{const d=c.turn,o={...c[d]},{drawnCards:f,remainingDeck:h,newDiscard:y}=fa(o.deck,o.discard,1);if(f.length>0){const p={...f[0],id:Qt(),isFaceUp:!1},m=[...o.lanes];m[s]=[...m[s],p];const S={...o,lanes:m,deck:h,discard:y};u={...c,[d]:S,actionRequired:null},u=$(u,d,"Life-3 On-Cover: Plays a card face-down.")}else u.actionRequired=null;break}case"select_lane_to_shift_revealed_card_for_light_2":{const{revealedCardId:d}=c.actionRequired,o=Ue(c,d);o&&(u=Fl(c,d,o.owner,s,c.turn));break}case"select_lane_to_shift_cards_for_light_3":{const{sourceLaneIndex:d}=c.actionRequired,o=c.turn,f=c.player.lanes[d].filter(S=>!S.isFaceUp),h=c.opponent.lanes[d].filter(S=>!S.isFaceUp),y=c.player.lanes.map((S,w)=>w===d?S.filter(R=>R.isFaceUp):w===s?[...S,...f]:S),p=c.opponent.lanes.map((S,w)=>w===d?S.filter(R=>R.isFaceUp):w===s?[...S,...h]:S);u={...c,player:{...c.player,lanes:y},opponent:{...c.opponent,lanes:p},actionRequired:null};const m=f.length+h.length;if(m>0){const S=c[o].protocols[d],w=c[o].protocols[s];u=$(u,o,`Light-3: Shifts ${m} face-down card(s) from Protocol ${S} to Protocol ${w}.`)}break}case"select_lane_for_water_3":{const d=c.turn,o=d==="player"?"opponent":"player",f={...c[d]},h={...c[o]},y=f.lanes[s].filter(R=>mr(R,f.lanes[s])===2),p=h.lanes[s].filter(R=>mr(R,h.lanes[s])===2);if(y.length===0&&p.length===0){u={...c,actionRequired:null};break}const m=new Set(y.map(R=>R.id)),S=new Set(p.map(R=>R.id));f.lanes[s]=f.lanes[s].filter(R=>!m.has(R.id)),h.lanes[s]=h.lanes[s].filter(R=>!S.has(R.id)),f.hand.push(...y),h.hand.push(...p),u={...c,[d]:f,[o]:h,actionRequired:null};const w=y.length+p.length;if(w>0){const R=d==="player"?"Player":"Opponent",O=Ue(c,c.actionRequired.sourceCardId),j=O?`${O.card.protocol}-${O.card.value}`:"a card effect";u=$(u,d,`${j}: ${R} returns ${w} card(s) with value 2.`)}break}default:return{nextState:c}}if(!i&&u.actionRequired===null&&u.queuedActions&&u.queuedActions.length>0){const d=[...u.queuedActions],o=d.shift();u={...u,actionRequired:o,queuedActions:d}}return{nextState:pt(u),requiresAnimation:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Gi=(c,s)=>{const u=s==="player"?"opponent":"player";if(c[u].lanes.flat().some(o=>o.isFaceUp&&o.protocol==="Plague"&&o.value===1)){let o={...c};return o=$(o,u,"Plague-1 triggers after opponent discards: Draw 1 card."),o=Oe(o,u,1),o}return c};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const cl=(c,s,u)=>{var O,j,H;const i=c[u],d=new Set(s),o=i.hand.filter(Q=>d.has(Q.id));if(o.length===0)return c;const f=i.hand.filter(Q=>!d.has(Q.id)),h=[...i.discard,...o.map(({id:Q,isFaceUp:P,...Y})=>Y)],y=((O=c.animationState)==null?void 0:O.type)==="discardCard"&&((j=c.animationState.originalAction)==null?void 0:j.type)==="discard"?c.animationState.originalAction:((H=c.actionRequired)==null?void 0:H.type)==="discard"?c.actionRequired:null;let p={...c,[u]:{...i,hand:f,discard:h},actionRequired:null};const m=u==="player"?"Player":"Opponent";let S;if(u==="player"||o.every(Q=>Q.isRevealed)){const Q=o.map(P=>`${P.protocol}-${P.value}`).join(", ");S=`${m} discards ${Q}.`}else{const Q=o.length===1?"card":"cards";S=`${m} discards ${o.length} ${Q}.`}if(p=$(p,u,S),y&&y.player===u){const Q=y.count-s.length;if(Q>0)return p.actionRequired={...y,count:Q},p;{const P=Gi(p,u);return ip(P,u,y.sourceEffect,y.sourceCardId)}}const w=c.actionRequired;if(w&&w.type==="discard"&&w.player===u){const Q=w.count-s.length;if(Q>0)return p.actionRequired={...w,count:Q},p;{const P=Gi(p,u);return ip(P,u,w.sourceEffect,w.sourceCardId)}}return Gi(p,u)},Xm=(c,s)=>{var f;if(((f=c.actionRequired)==null?void 0:f.type)!=="plague_2_player_discard")return c;const u=c.turn,i=u==="player"?"opponent":"player";let d=cl(c,s,u);const o=s.length+1;return d[i].hand.length>0?d.actionRequired={type:"discard",player:i,count:Math.min(o,d[i].hand.length),sourceCardId:c.actionRequired.sourceCardId}:d.actionRequired=null,d},Up=(c,s)=>{var f;if(((f=c.actionRequired)==null?void 0:f.type)!=="plague_2_opponent_discard")return c;const u="opponent",i="player";let d=cl(c,s,u);const o=s.length+1;return d[i].hand.length>0?d.actionRequired={type:"discard",player:i,count:Math.min(o,d[i].hand.length),sourceCardId:c.actionRequired.sourceCardId}:d.actionRequired=null,d},pp=(c,s)=>{var o;if(((o=c.actionRequired)==null?void 0:o.type)!=="select_cards_from_hand_to_discard_for_fire_4")return c;const u=c.turn;let i=cl(c,s,u);const d=s.length+1;return i=$(i,u,`Fire-4: Drawing ${d} card(s).`),i=Oe(i,u,d),i},$i=(c,s)=>{var o;if(((o=c.actionRequired)==null?void 0:o.type)!=="select_cards_from_hand_to_discard_for_hate_1")return c;const u=c.turn,{sourceCardId:i}=c.actionRequired;let d=cl(c,s,u);return d.actionRequired={type:"select_cards_to_delete",count:2,sourceCardId:i,disallowedIds:[i]},d};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const hp=(c,s)=>{var o;if(((o=c.actionRequired)==null?void 0:o.type)!=="prompt_death_1_effect")return c;const u=c.turn,{sourceCardId:i}=c.actionRequired;let d={...c};return s?(d=$(d,u,"Death-1: Player chooses to draw and delete."),d=Oe(d,u,1),d.actionRequired={type:"select_card_to_delete_for_death_1",sourceCardId:i}):(d=$(d,u,"Death-1: Player skips the effect."),d.actionRequired=null),d},Xi=(c,s)=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="prompt_give_card_for_love_1")return c;const u=c.turn;let i={...c};return s?(i=$(i,u,"Love-1 End: Player chooses to give 1 card to draw 2."),i.actionRequired={type:"select_card_from_hand_to_give",sourceCardId:c.actionRequired.sourceCardId,sourceEffect:"love_1_end"}):(i=$(i,u,"Love-1 End: Player skips the effect."),i.actionRequired=null),i},_p=(c,s,u)=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="plague_4_player_flip_optional")return c;let i={...c,actionRequired:null};if(s){const{sourceCardId:o}=c.actionRequired;i=$(i,u,`Plague-4: ${u==="player"?"Player":"Opponent"} chooses to flip the card.`),i=Lt(new Set([o]),i),i.animationState={type:"flipCard",cardId:o}}else i=$(i,u,`Plague-4: ${u==="player"?"Player":"Opponent"} skips flipping the card.`);return i},yp=(c,s)=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="prompt_fire_3_discard")return c;const u=c.turn;let i={...c};return s?(i=$(i,u,"Fire-3 End: Player chooses to discard 1 to flip 1."),i.actionRequired={type:"discard",player:u,count:1,sourceCardId:c.actionRequired.sourceCardId,sourceEffect:"fire_3"}):(i=$(i,u,"Fire-3 End: Player skips the effect."),i.actionRequired=null),i},mp=(c,s)=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="prompt_shift_for_speed_3")return c;const u=c.turn;let i={...c};return s?(i=$(i,u,"Speed-3 End: Player chooses to shift a card."),i.actionRequired={type:"select_own_card_to_shift_for_speed_3",sourceCardId:c.actionRequired.sourceCardId}):(i=$(i,u,"Speed-3 End: Player skips the shift."),i.actionRequired=null),i},Qi=(c,s)=>{var f;if(((f=c.actionRequired)==null?void 0:f.type)!=="prompt_shift_or_flip_for_light_2")return c;const u=c.turn,{sourceCardId:i,revealedCardId:d}=c.actionRequired;let o={...c};switch(s){case"shift":o=$(o,u,"Light-2: Player chooses to shift the revealed card."),o.actionRequired={type:"select_lane_to_shift_revealed_card_for_light_2",sourceCardId:i,revealedCardId:d};break;case"flip":o=$(o,u,"Light-2: Player chooses to flip the card back face-down."),o=Lt(new Set([d]),o),o.animationState={type:"flipCard",cardId:d},o.actionRequired=null;break;case"skip":o=$(o,u,"Light-2: Player chooses to do nothing with the revealed card."),o.actionRequired=null;break}return o},vp=(c,s)=>{var p;if(((p=c.actionRequired)==null?void 0:p.type)!=="prompt_rearrange_protocols")return c;const{target:u}=c.actionRequired;let i={...c};const d={...i[u]},o={};d.protocols.forEach((m,S)=>{o[m]=d.compiled[S]});const f=s.map(m=>o[m]);d.protocols=s,d.compiled=f,i[u]=d,i.actionRequired=null;const h=c.turn==="player"?"Player":"Opponent",y=u==="player"?"Player":"Opponent";return i=$(i,c.turn,`${h} rearranges ${y}'s protocols.`),pt(i)},gp=(c,s)=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="prompt_return_for_psychic_4")return c;const u=c.turn;let i={...c};return s?(i=$(i,u,"Psychic-4 End: Player chooses to return an opponent's card."),i.actionRequired={type:"select_opponent_card_to_return",sourceCardId:c.actionRequired.sourceCardId}):(i=$(i,u,"Psychic-4 End: Player skips the effect."),i.actionRequired=null),i},Sp=(c,s)=>{var o;if(((o=c.actionRequired)==null?void 0:o.type)!=="prompt_spirit_1_start")return c;const u=c.turn,{sourceCardId:i}=c.actionRequired;let d={...c};return s==="discard"?(d=$(d,u,"Spirit-1 Start: Player chooses to discard 1 card."),d.actionRequired={type:"discard",player:u,count:1,sourceCardId:i,sourceEffect:"spirit_1_start"}):(d=$(d,u,"Spirit-1 Start: Player chooses to flip the card."),d=Lt(new Set([i]),d),d.animationState={type:"flipCard",cardId:i},d.actionRequired=null),d},bp=(c,s)=>{var o;if(((o=c.actionRequired)==null?void 0:o.type)!=="prompt_shift_for_spirit_3")return c;const u=c.turn,{sourceCardId:i}=c.actionRequired;let d={...c};if(s){const f=Ue(d,i);if(f){const{owner:h,card:y}=f;let p=-1;for(let m=0;m<d[h].lanes.length;m++)if(d[h].lanes[m].some(S=>S.id===y.id)){p=m;break}p!==-1&&(d=$(d,u,"Spirit-3 Trigger: Player chooses to shift the card."),d.actionRequired={type:"select_lane_for_shift",cardToShiftId:i,cardOwner:h,originalLaneIndex:p,sourceCardId:i,actor:u,sourceEffect:"speed_3_end"})}}else d=$(d,u,"Spirit-3 Trigger: Player skips the shift."),d.actionRequired=null;return d},wp=(c,s)=>{var p;if(((p=c.actionRequired)==null?void 0:p.type)!=="prompt_swap_protocols")return c;const u=c.turn,i={...c[u]},[d,o]=s.sort((m,S)=>m-S),f=[...i.protocols],h=[...i.compiled];[f[d],f[o]]=[f[o],f[d]],[h[d],h[o]]=[h[o],h[d]],i.protocols=f,i.compiled=h;let y={...c,[u]:i,actionRequired:null};return y=$(y,u,`${u==="player"?"Player":"Opponent"} swaps protocols ${f[o]} and ${f[d]}.`),pt(y)};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ji=(c,s,u)=>{const i=c.turn,d=i==="player"?"opponent":"player";let o={...c};const f={...o[i]},h={...o[d]},y=f.compiled[s],p=[],m=[],S=f.lanes[s].filter(k=>k.protocol==="Speed"&&k.value===2?(p.push(k),!1):!0),w=h.lanes[s].filter(k=>k.protocol==="Speed"&&k.value===2?(m.push(k),!1):!0);f.discard=[...f.discard,...S.map(({id:k,isFaceUp:F,...ue})=>ue)],h.discard=[...h.discard,...w.map(({id:k,isFaceUp:F,...ue})=>ue)];const R=[...f.lanes];R[s]=p,f.lanes=R;const O=[...h.lanes];O[s]=m,h.lanes=O;const j=[...f.compiled];j[s]=!0,f.compiled=j,o={...o,[i]:f,[d]:h};const H=i==="player"?"Player":"Opponent",Q=f.protocols[s];o=$(o,i,`${H} compiles Protocol ${Q}!`),y&&(o=$(o,i,`${H} draws 1 card from the opponent's deck as a re-compile reward.`),o=Oe(o,i,1)),o=pt(o),f.compiled.every(k=>k===!0)&&(o.winner=i,u(i));const Y=S.length+w.length;for(let k=0;k<Y;k++)o=Ya(o,i);const W=[...o.queuedActions];for(const k of p)o=$(o,i,"Speed-2 survives compilation and must be shifted."),W.push({type:"select_lane_for_shift",cardToShiftId:k.id,cardOwner:i,originalLaneIndex:s,sourceCardId:k.id,actor:i});for(const k of m)o=$(o,d,"Speed-2 survives compilation and must be shifted."),W.push({type:"select_lane_for_shift",cardToShiftId:k.id,cardOwner:d,originalLaneIndex:s,sourceCardId:k.id,actor:d});return m.length>0?(o._interruptedTurn=i,o.turn=d,o.actionRequired=W.shift()):W.length>0&&(o.actionRequired=W.shift()),o.queuedActions=W,o},Qm=(c,s)=>{var o;if(((o=c.actionRequired)==null?void 0:o.type)!=="select_card_from_hand_to_play")return c;const{disallowedLaneIndex:u,sourceCardId:i,isFaceDown:d}=c.actionRequired;return{...c,actionRequired:{type:"select_lane_for_play",cardInHandId:s,disallowedLaneIndex:u,sourceCardId:i,isFaceDown:d}}},Cp=c=>{if(!c.actionRequired||!("optional"in c.actionRequired)||!c.actionRequired.optional)return c;const s=c.turn,u=s==="player"?"Player":"Opponent";let i={...c,actionRequired:null};return i=$(i,s,`${u} skips the optional action.`),i},Ap=c=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="reveal_opponent_hand")return c;const s=c.turn==="player"?"opponent":"player";let u={...c};const i={...u[s]};if(i.hand.length>0){i.hand=i.hand.map(h=>({...h,isRevealed:!0})),u[s]=i;const o=Ue(u,c.actionRequired.sourceCardId),f=o?`${o.card.protocol}-${o.card.value}`:"A card effect";u=$(u,c.turn,`${f}: Opponent reveals their hand.`)}return u.actionRequired=null,u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Zi=(c,s)=>{if(!c.actionRequired)return c;const{actionRequired:u}=c,i=c.turn,d=i==="player"?"opponent":"player";switch(u.type){case"select_card_from_hand_to_give":{const o=c[i].hand.find(S=>S.id===s);if(!o)return c;let f={...c};const h={...f[i]},y={...f[d]};h.hand=h.hand.filter(S=>S.id!==s),y.hand=[...y.hand,o],f={...f,[i]:h,[d]:y};const p=i==="player"?"Player":"Opponent",m=`${o.protocol}-${o.value}`;return f=$(f,i,`${p} gives ${m} to the opponent.`),u.sourceEffect==="love_1_end"&&(f=$(f,i,`Love-1: ${p} draws 2 cards.`),f=Oe(f,i,2)),f.actionRequired=null,f}case"select_card_from_hand_to_reveal":{const o=c[i].hand.find(S=>S.id===s);if(!o)return c;let f={...c};const h={...f[i]},y=h.hand.map(S=>S.id===s?{...S,isRevealed:!0}:S);h.hand=y,f={...f,[i]:h};const p=i==="player"?"Player":"Opponent",m=`${o.protocol}-${o.value}`;return f=$(f,i,`Love-4: ${p} reveals ${m} from their hand.`),f.actionRequired={type:"select_any_card_to_flip",count:1,sourceCardId:u.sourceCardId},f}default:return c}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Zm=c=>{const{opponent:s,player:u}=c;if(s.hand.length===0)return null;for(let f=0;f<3;f++)if(!s.compiled[f]&&(s.laneValues[f]===8||s.laneValues[f]===9))return{cardId:s.hand[0].id,laneIndex:f,isFaceUp:!1};const d=[...s.hand].sort((f,h)=>h.value-f.value)[0];for(let f=0;f<3;f++)if(d.protocol===s.protocols[f])return{cardId:d.id,laneIndex:f,isFaceUp:!0};const o=Math.floor(Math.random()*3);return{cardId:d.id,laneIndex:o,isFaceUp:!1}},Fm=(c,s)=>{switch(s.type){case"discard":return{type:"discardCards",cardIds:[...c.opponent.hand].sort((o,f)=>o.value-f.value).slice(0,s.count).map(o=>o.id)};case"select_cards_to_delete":case"select_face_down_card_to_delete":case"select_card_from_other_lanes_to_delete":case"select_card_to_delete_for_death_1":case"plague_4_opponent_delete":{const o="disallowedIds"in s&&s.disallowedIds?s.disallowedIds:[],f=c.player.lanes.flat().filter(y=>!o.includes(y.id));if(f.length>0)return{type:"deleteCard",cardId:f[0].id};const h=c.opponent.lanes.flat().filter(y=>!o.includes(y.id));return h.length>0?{type:"deleteCard",cardId:h[0].id}:{type:"skip"}}case"select_low_value_card_to_delete":{const o=[...c.player.lanes.flat(),...c.opponent.lanes.flat()].filter(f=>f.isFaceUp&&(f.value===0||f.value===1));return o.length>0?{type:"deleteCard",cardId:o[0].id}:{type:"skip"}}case"select_opponent_face_up_card_to_flip":{const o=c.player.lanes.flat().filter(f=>f.isFaceUp);return o.length>0?{type:"flipCard",cardId:o[Math.floor(Math.random()*o.length)].id}:{type:"skip"}}case"select_opponent_card_to_flip":{const o=c.player.lanes.flat();return o.length>0?{type:"flipCard",cardId:o[Math.floor(Math.random()*o.length)].id}:{type:"skip"}}case"select_own_face_up_covered_card_to_flip":case"select_any_other_card_to_flip":case"select_any_card_to_flip":case"select_any_face_down_card_to_flip_optional":case"select_any_card_to_flip_optional":case"select_card_to_flip_for_fire_3":case"select_card_to_flip_for_light_0":case"select_face_down_card_to_reveal_for_light_2":case"select_any_other_card_to_flip_for_water_0":{const o=[...c.player.lanes.flat(),...c.opponent.lanes.flat()];return o.length>0?{type:"flipCard",cardId:o[0].id}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_own_covered_card_in_lane_to_flip":{const{laneIndex:o}=s,h=c.opponent.lanes[o].filter((y,p,m)=>p<m.length-1);return h.length>0?{type:"flipCard",cardId:h[0].id}:{type:"skip"}}case"select_card_to_return":case"select_opponent_card_to_return":{const o=[...c.player.lanes.flat(),...c.opponent.lanes.flat()];return o.length>0?{type:"returnCard",cardId:o[0].id}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_own_card_to_return_for_water_4":{const o=c.opponent.lanes.flat();return o.length>0?{type:"returnCard",cardId:o[Math.floor(Math.random()*o.length)].id}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_card_to_shift_for_gravity_1":{const o=[...c.player.lanes.flat(),...c.opponent.lanes.flat()];return o.length>0?{type:"deleteCard",cardId:o[Math.floor(Math.random()*o.length)].id}:{type:"skip"}}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:o}=s,f=[];for(const h of["player","opponent"])for(let y=0;y<c[h].lanes.length;y++)if(y!==o)for(const p of c[h].lanes[y])p.isFaceUp||f.push(p);return f.length>0?{type:"deleteCard",cardId:f[Math.floor(Math.random()*f.length)].id}:{type:"skip"}}case"select_lane_for_shift":case"shift_flipped_card_optional":case"select_lane_for_play":case"select_lane_for_death_2":case"select_lane_for_life_3_play":case"select_lane_to_shift_revealed_card_for_light_2":case"select_lane_to_shift_cards_for_light_3":case"select_lane_for_metal_3_delete":case"select_lane_for_water_3":{let o=[0,1,2];return"disallowedLaneIndex"in s&&s.disallowedLaneIndex!==void 0&&(o=o.filter(f=>f!==s.disallowedLaneIndex)),"originalLaneIndex"in s&&s.originalLaneIndex!==void 0&&(o=o.filter(f=>f!==s.originalLaneIndex)),o.length>0?{type:"selectLane",laneIndex:o[0]}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"prompt_death_1_effect":return{type:"resolveDeath1Prompt",accept:Math.random()>.7};case"prompt_give_card_for_love_1":return{type:"resolveLove1Prompt",accept:!1};case"plague_4_player_flip_optional":return{type:"resolvePlague4Flip",accept:!1};case"prompt_fire_3_discard":return{type:"resolveFire3Prompt",accept:!1};case"prompt_shift_for_speed_3":return{type:"resolveSpeed3Prompt",accept:!1};case"prompt_shift_for_spirit_3":return{type:"resolveSpirit3Prompt",accept:!1};case"prompt_return_for_psychic_4":return{type:"resolvePsychic4Prompt",accept:!1};case"prompt_spirit_1_start":return{type:"resolveSpirit1Prompt",choice:"flip"};case"prompt_shift_or_flip_for_light_2":return{type:"resolveLight2Prompt",choice:"skip"};case"plague_2_opponent_discard":return c.opponent.hand.length>0?{type:"resolvePlague2Discard",cardIds:[c.opponent.hand[0].id]}:{type:"skip"};case"select_cards_from_hand_to_discard_for_fire_4":return c.opponent.hand.length>0?{type:"resolveFire4Discard",cardIds:[c.opponent.hand[0].id]}:{type:"skip"};case"select_cards_from_hand_to_discard_for_hate_1":return c.opponent.hand.length>0?{type:"resolveHate1Discard",cardIds:c.opponent.hand.slice(0,s.count).map(o=>o.id)}:{type:"skip"};case"select_card_from_hand_to_play":if(c.opponent.hand.length>0){const o=c.opponent.hand[0],f=[0,1,2].filter(h=>h!==s.disallowedLaneIndex);return{type:"playCard",cardId:o.id,laneIndex:f[0],isFaceUp:!1}}return{type:"skip"};case"select_card_from_hand_to_give":return c.opponent.hand.length>0?{type:"giveCard",cardId:c.opponent.hand[0].id}:{type:"skip"};case"select_card_from_hand_to_reveal":return c.opponent.hand.length>0?{type:"revealCard",cardId:c.opponent.hand[0].id}:{type:"skip"};case"prompt_rearrange_protocols":return{type:"rearrangeProtocols",newOrder:Sr([...c[s.target].protocols])};case"prompt_swap_protocols":return{type:"skip"};case"select_own_other_card_to_shift":{const o=c.opponent.lanes.flat().find(f=>f.id!==s.sourceCardId);return o?{type:"deleteCard",cardId:o.id}:{type:"skip"}}case"select_opponent_covered_card_to_shift":{const o=[];for(const f of c.player.lanes)for(let h=0;h<f.length-1;h++)o.push(f[h]);return o.length>0?{type:"deleteCard",cardId:o[Math.floor(Math.random()*o.length)].id}:{type:"skip"}}}return{type:"skip"}},Mp=(c,s)=>{if(s)return Fm(c,s);if(c.phase==="compile"&&c.compilableLanes.length>0)return{type:"compile",laneIndex:c.compilableLanes[0]};if(c.phase==="action"){const u=Zm(c);return u?{type:"playCard",...u}:{type:"fillHand"}}return{type:"fillHand"}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ii=["delete","flip","shift","return","discard"],Wi=c=>{let s=c.value;return Ii.some(u=>c.keywords[u])&&(s+=4),c.keywords.draw&&(s+=3),c.keywords.play&&(s+=5),s},Km=c=>{const{opponent:s,player:u}=c,i=[];for(const d of s.hand)for(let o=0;o<3;o++){if(s.compiled[o])continue;if(d.protocol===s.protocols[o]){let m=0;const S=d.value,w=s.laneValues[o]+S;w>=8&&w<10&&(m+=100),u.laneValues[o]>=8&&Ii.some(O=>d.keywords[O])&&(m+=150),m+=Wi(d),i.push({move:{type:"playCard",cardId:d.id,laneIndex:o,isFaceUp:!0},score:m})}let h=0;const y=2;s.laneValues[o]+y>=10&&s.laneValues[o]>=8&&(h+=200),h+=y,i.push({move:{type:"playCard",cardId:d.id,laneIndex:o,isFaceUp:!1},score:h})}if(s.hand.length<5){const o=s.hand.some(f=>Ii.some(h=>f.keywords[h]))?1:4;i.push({move:{type:"fillHand"},score:o})}return i.length===0?{type:"fillHand"}:(i.sort((d,o)=>o.score-d.score),i[0].move)},Pm=(c,s)=>{switch(s.type){case"discard":return{type:"discardCards",cardIds:[...c.opponent.hand].sort((h,y)=>Wi(h)-Wi(y)).slice(0,s.count).map(h=>h.id)};case"select_cards_to_delete":case"select_card_to_delete_for_death_1":{const h=s.type==="select_cards_to_delete"?s.disallowedIds:s.type==="select_card_to_delete_for_death_1"?[s.sourceCardId]:[],y=[];if(c.player.lanes.forEach(m=>{m.forEach(S=>{h.includes(S.id)||y.push({card:S,lane:m})})}),y.length>0)return{type:"deleteCard",cardId:y.reduce((S,w)=>{const R=mr(S.card,S.lane);return mr(w.card,w.lane)>R?w:S}).card.id};const p=c.opponent.lanes.flat();return p.length>0?{type:"deleteCard",cardId:p.reduce((S,w)=>w.value<S.value?w:S).id}:{type:"skip"}}case"select_face_down_card_to_delete":{const h=c.player.laneValues.map((p,m)=>({value:p,index:m})).sort((p,m)=>m.value-p.value);for(const p of h){const m=c.player.lanes[p.index].find(S=>!S.isFaceUp);if(m)return{type:"deleteCard",cardId:m.id}}const y=c.opponent.laneValues.map((p,m)=>({value:p,index:m})).sort((p,m)=>p.value-m.value);for(const p of y){const m=c.opponent.lanes[p.index].find(S=>!S.isFaceUp);if(m)return{type:"deleteCard",cardId:m.id}}return{type:"skip"}}case"plague_4_opponent_delete":{const h=c.opponent.laneValues.map((p,m)=>({diff:p-c.player.laneValues[m],index:m})).sort((p,m)=>p.diff-m.diff);for(const p of h){const m=c.opponent.lanes[p.index].find(S=>!S.isFaceUp);if(m)return{type:"deleteCard",cardId:m.id}}const y=c.opponent.lanes.flat().find(p=>!p.isFaceUp);return y?{type:"deleteCard",cardId:y.id}:{type:"skip"}}case"select_low_value_card_to_delete":{const h=[...c.player.lanes.flat(),...c.opponent.lanes.flat()].filter(y=>y.isFaceUp&&(y.value===0||y.value===1));return h.length>0?(h.sort((y,p)=>{const m=c.player.lanes.flat().some(w=>w.id===y.id),S=c.player.lanes.flat().some(w=>w.id===p.id);return m&&!S?-1:!m&&S?1:p.value-y.value}),{type:"deleteCard",cardId:h[0].id}):{type:"skip"}}case"select_opponent_face_up_card_to_flip":{const h=c.player.lanes.flat().filter(y=>y.isFaceUp);return h.length>0?{type:"flipCard",cardId:h.reduce((p,m)=>p.value>m.value?p:m).id}:{type:"skip"}}case"select_opponent_card_to_flip":{const h=c.player.lanes.flat().filter(p=>p.isFaceUp);if(h.length>0)return{type:"flipCard",cardId:h.reduce((m,S)=>m.value>S.value?m:S).id};const y=c.player.lanes.flat().filter(p=>!p.isFaceUp);return y.length>0?{type:"flipCard",cardId:y[Math.floor(Math.random()*y.length)].id}:{type:"skip"}}case"select_own_covered_card_in_lane_to_flip":{const{laneIndex:h}=s,m=c.opponent.lanes[h].filter((S,w,R)=>w<R.length-1).find(S=>!S.isFaceUp);return m?{type:"flipCard",cardId:m.id}:{type:"skip"}}case"select_own_card_to_return_for_water_4":{const h=c.opponent.lanes.flat();return h.length>0?(h.sort((y,p)=>y.value-p.value),{type:"returnCard",cardId:h[0].id}):{type:"skip"}}case"prompt_rearrange_protocols":return{type:"rearrangeProtocols",newOrder:c[s.target].protocols.map((h,y)=>({protocol:h,value:c[s.target].laneValues[y]})).sort((h,y)=>y.value-h.value).map(h=>h.protocol)};case"select_card_to_shift_for_gravity_1":{const{sourceLaneIndex:h}=s,y=c.opponent.lanes.flat(),p=c.opponent.lanes[h],m=y.filter(S=>!p.find(w=>w.id===S.id));return m.length>0?(m.sort((S,w)=>w.value-S.value),{type:"deleteCard",cardId:m[0].id}):p.length>0?(p.sort((S,w)=>S.value-w.value),{type:"deleteCard",cardId:p[0].id}):{type:"skip"}}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:h}=s,y=[];for(let m=0;m<c.player.lanes.length;m++)m!==h&&c.player.lanes[m].forEach(S=>{S.isFaceUp||y.push(S)});if(y.length>0)return{type:"deleteCard",cardId:y[0].id};const p=[];for(let m=0;m<c.opponent.lanes.length;m++)m!==h&&c.opponent.lanes[m].forEach(S=>{S.isFaceUp||p.push(S)});return p.length>0?{type:"deleteCard",cardId:p[0].id}:{type:"skip"}}case"select_lane_for_shift":{const{cardOwner:h,originalLaneIndex:y}=s;return{type:"selectLane",laneIndex:c[h].laneValues.map((m,S)=>({value:m,index:S})).filter(m=>m.index!==y).sort((m,S)=>m.value-S.value)[0].index}}case"prompt_death_1_effect":return{type:"resolveDeath1Prompt",accept:!0};case"prompt_give_card_for_love_1":return{type:"resolveLove1Prompt",accept:!0};case"plague_4_player_flip_optional":return{type:"resolvePlague4Flip",accept:!0};case"prompt_fire_3_discard":return{type:"resolveFire3Prompt",accept:c.opponent.hand.length>2};case"prompt_shift_for_speed_3":return{type:"resolveSpeed3Prompt",accept:!0};case"prompt_shift_for_spirit_3":return{type:"resolveSpirit3Prompt",accept:!0};case"prompt_return_for_psychic_4":return{type:"resolvePsychic4Prompt",accept:!0};case"prompt_spirit_1_start":return{type:"resolveSpirit1Prompt",choice:"flip"};case"prompt_shift_or_flip_for_light_2":return{type:"resolveLight2Prompt",choice:"shift"};case"select_opponent_covered_card_to_shift":{const h=[];for(const y of c.player.lanes)for(let p=0;p<y.length-1;p++)h.push(y[p]);return h.length>0?(h.sort((y,p)=>y.isFaceUp&&!p.isFaceUp?-1:!y.isFaceUp&&p.isFaceUp?1:y.isFaceUp&&p.isFaceUp?p.value-y.value:0),{type:"deleteCard",cardId:h[0].id}):{type:"skip"}}default:const f=Mp(c,s);return f||{type:"skip"}}},jp=(c,s)=>s?Pm(c,s):c.phase==="compile"&&c.compilableLanes.length>0?{type:"compile",laneIndex:c.compilableLanes.reduce((i,d)=>c.opponent.laneValues[i]>c.opponent.laneValues[d]?i:d)}:c.phase==="action"?Km(c):{type:"fillHand"};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const zp=["delete","flip","shift","return","discard"],La=c=>{let s=10-c.value;return zp.some(u=>c.keywords[u])&&(s+=5),c.keywords.draw&&(s+=3),c.keywords.play&&(s+=6),s},kt=(c,s,u)=>{let i;for(const o of u[s].lanes)if(o.some(f=>f.id===c.id)){i=o;break}if(!i)return 0;if(!c.isFaceUp)return i.some(f=>f.isFaceUp&&f.protocol==="Darkness"&&f.value===2)?4:2;let d=c.value*2;return c.top.length>0&&(d+=5),(c.bottom.includes("Start:")||c.bottom.includes("End:"))&&(d+=6),c.bottom.includes("covered:")&&(d+=4),d},Jm=c=>{const{opponent:s,player:u}=c,i=[],d=u.laneValues.map((f,h)=>u.compiled[h]?0:f>=10?3:f>=8?2:f>=6?1:0),o=u.lanes.flat().filter(f=>f.isFaceUp).sort((f,h)=>kt(h,"player",c)-kt(f,"player",c))[0];for(const f of s.hand)for(let h=0;h<3;h++){if(s.compiled[h])continue;const y=La(f);if(f.protocol===s.protocols[h]){let R=y,O=`Play ${f.protocol}-${f.value} face-up in lane ${h}.`;const j=f.value,H=s.laneValues[h]+j;R+=j,H>=10&&H>u.laneValues[h]?R+=200:H>=8&&(R+=100),R+=H-u.laneValues[h],zp.some(P=>f.keywords[P])&&(d[h]>0&&(R+=150*d[h],O+=` [DEFENSIVE: Disrupts player threat level ${d[h]}]`),o&&(f.keywords.flip||f.keywords.delete)&&(R+=kt(o,"player",c)*2,O+=` [PROACTIVE: Targets strongest card ${o.protocol}-${o.value}]`)),i.push({move:{type:"playCard",cardId:f.id,laneIndex:h,isFaceUp:!0},score:R,description:O})}let p=0,m=`Play ${f.protocol}-${f.value} face-down in lane ${h}.`;const w=s.laneValues[h]+2;w>=10&&w>u.laneValues[h]&&s.laneValues[h]>=8?(p+=250,m+=" [WINNING MOVE: Sets up compile]"):s.laneValues[h]>=6?(p+=20*s.laneValues[h],m+=" [Secures strong lane]"):p+=1,i.push({move:{type:"playCard",cardId:f.id,laneIndex:h,isFaceUp:!1},score:p,description:m})}if(s.hand.length<5){let f=1;s.hand.reduce((y,p)=>y+La(p),0)/(s.hand.length||1)<8&&(f=5),s.hand.length===0&&(f=500),i.push({move:{type:"fillHand"},score:f,description:"Fill hand."})}return i.length===0?{type:"fillHand"}:(i.sort((f,h)=>h.score-f.score),i[0].move)},Im=(c,s)=>{const{player:u,opponent:i}=c;switch(s.type){case"discard":return{type:"discardCards",cardIds:[...i.hand].sort((y,p)=>La(y)-La(p)).slice(0,s.count).map(y=>y.id)};case"select_cards_to_delete":case"select_card_to_delete_for_death_1":{const y=s.type==="select_cards_to_delete"?s.disallowedIds:s.type==="select_card_to_delete_for_death_1"?[s.sourceCardId]:[],p=u.lanes.flat().filter(m=>!y.includes(m.id));return p.length>0?{type:"deleteCard",cardId:p.sort((S,w)=>kt(w,"player",c)-kt(S,"player",c))[0].id}:{type:"skip"}}case"select_low_value_card_to_delete":{const y=[...c.player.lanes.flat(),...c.opponent.lanes.flat()].filter(p=>p.isFaceUp&&(p.value===0||p.value===1));return y.length>0?(y.sort((p,m)=>{const S=c.player.lanes.flat().some(R=>R.id===p.id),w=c.player.lanes.flat().some(R=>R.id===m.id);return S&&!w?-1:!S&&w?1:kt(m,S?"player":"opponent",c)-kt(p,w?"player":"opponent",c)}),{type:"deleteCard",cardId:y[0].id}):{type:"skip"}}case"select_opponent_face_up_card_to_flip":{const y=u.lanes.flat().filter(p=>p.isFaceUp);return y.length>0?{type:"flipCard",cardId:y.sort((m,S)=>kt(S,"player",c)-kt(m,"player",c))[0].id}:{type:"skip"}}case"select_opponent_card_to_flip":{const y=u.lanes.flat().filter(m=>m.isFaceUp);if(y.length>0)return{type:"flipCard",cardId:y.sort((S,w)=>kt(w,"player",c)-kt(S,"player",c))[0].id};const p=u.lanes.flat().filter(m=>!m.isFaceUp);if(p.length>0){const m=c.player.laneValues.map((S,w)=>({value:S,index:w}));m.sort((S,w)=>w.value-S.value);for(const S of m){const w=c.player.lanes[S.index].filter(R=>!R.isFaceUp);if(w.length>0)return{type:"flipCard",cardId:w[0].id}}return{type:"flipCard",cardId:p[0].id}}return{type:"skip"}}case"select_own_covered_card_in_lane_to_flip":{const{laneIndex:y}=s,S=c.opponent.lanes[y].filter((w,R,O)=>R<O.length-1).find(w=>!w.isFaceUp);return S?{type:"flipCard",cardId:S.id}:{type:"skip"}}case"select_own_card_to_return_for_water_4":{const y=i.lanes.flat();if(y.length>0){const p=y.map(m=>{let S=10-m.value;return(m.keywords.delete||m.keywords.play||m.keywords.draw||m.keywords.flip)&&(S+=5),{card:m,score:S}});return p.sort((m,S)=>S.score-m.score),{type:"returnCard",cardId:p[0].card.id}}return{type:"skip"}}case"select_lane_for_shift":return{type:"selectLane",laneIndex:0};case"prompt_rearrange_protocols":return{type:"rearrangeProtocols",newOrder:c[s.target].protocols.map((y,p)=>({protocol:y,valueDifference:c.opponent.laneValues[p]-c.player.laneValues[p]})).sort((y,p)=>p.valueDifference-y.valueDifference).map(y=>y.protocol)};case"select_card_to_shift_for_gravity_1":{const p=c.opponent.lanes.flat().filter(S=>!c.opponent.lanes[s.sourceLaneIndex].some(w=>w.id===S.id));if(p.length>0)return p.sort((S,w)=>La(w)-La(S)),{type:"deleteCard",cardId:p[0].id};const m=c.opponent.lanes[s.sourceLaneIndex];return m.length>0?(m.sort((S,w)=>La(S)-La(w)),{type:"deleteCard",cardId:m[0].id}):{type:"skip"}}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:y}=s;let p=null,m=-1;for(let w=0;w<c.player.lanes.length;w++){if(w===y)continue;const R=c.player.laneValues[w];if(R>m){const O=c.player.lanes[w].find(j=>!j.isFaceUp);O&&(m=R,p=O)}}if(p)return{type:"deleteCard",cardId:p.id};const S=[];for(let w=0;w<c.opponent.lanes.length;w++)w!==y&&c.opponent.lanes[w].forEach(R=>{R.isFaceUp||S.push(R)});return S.length>0?{type:"deleteCard",cardId:S[0].id}:{type:"skip"}}case"prompt_death_1_effect":return{type:"resolveDeath1Prompt",accept:!0};case"prompt_give_card_for_love_1":return{type:"resolveLove1Prompt",accept:!0};case"plague_4_player_flip_optional":return{type:"resolvePlague4Flip",accept:!0};case"prompt_fire_3_discard":return{type:"resolveFire3Prompt",accept:c.opponent.hand.length>1};case"prompt_shift_for_speed_3":return{type:"resolveSpeed3Prompt",accept:!0};case"prompt_shift_for_spirit_3":return{type:"resolveSpirit3Prompt",accept:!0};case"prompt_return_for_psychic_4":return{type:"resolvePsychic4Prompt",accept:!0};case"prompt_spirit_1_start":return{type:"resolveSpirit1Prompt",choice:"flip"};case"prompt_shift_or_flip_for_light_2":return{type:"resolveLight2Prompt",choice:"shift"};case"select_opponent_covered_card_to_shift":{const y=[];for(let p=0;p<c.player.lanes.length;p++){const m=c.player.lanes[p];for(let S=0;S<m.length-1;S++)y.push({card:m[S],laneIndex:p})}return y.length>0?(y.sort((p,m)=>{const S=c.player.laneValues[p.laneIndex],w=c.player.laneValues[m.laneIndex];return S!==w?w-S:p.card.isFaceUp&&!m.card.isFaceUp?-1:!p.card.isFaceUp&&m.card.isFaceUp?1:p.card.isFaceUp&&m.card.isFaceUp?m.card.value-p.card.value:0}),{type:"deleteCard",cardId:y[0].card.id}):{type:"skip"}}default:const h=jp(c,s);return h||{type:"skip"}}},Wm=(c,s)=>s?Im(c,s):c.phase==="compile"&&c.compilableLanes.length>0?{type:"compile",laneIndex:c.compilableLanes.reduce((i,d)=>{const o=c.opponent.laneValues[i]-c.player.laneValues[i],f=c.opponent.laneValues[d]-c.player.laneValues[d];return o>f?i:d})}:c.phase==="action"?Jm(c):{type:"fillHand"};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const vr=(c,s,u)=>{switch(u){case"normal":return jp(c,s);case"hard":return Wm(c,s);default:return Mp(c,s)}},ev=(c,s,u,i,d,o)=>{s(f=>{const h=f.actionRequired;if(!h||!(h.type==="discard"&&h.player==="opponent"||h.type==="select_lane_for_shift"&&h.actor==="opponent"||h.type==="plague_4_opponent_delete"||h.type==="reveal_opponent_hand"))return f;const p=vr(f,h,u);if(p.type==="discardCards"&&h.type==="discard"){const S=i.discardCards(f,p.cardIds,"opponent");return S.actionRequired?S:d.processEndOfAction(S)}if(p.type==="selectLane"&&h.type==="select_lane_for_shift"){const{nextState:S}=cu(f,p.laneIndex);return d.processEndOfAction(S)}if(p.type==="deleteCard"&&h.type==="plague_4_opponent_delete"&&f.actionRequired){const S=f.actionRequired.sourceCardId,w={...f,actionRequired:null};return o([{type:"delete",cardId:p.cardId,owner:"opponent"}],()=>s(R=>({...R,actionRequired:{type:"plague_4_player_flip_optional",sourceCardId:S,optional:!0}}))),w}if(h.type==="reveal_opponent_hand"){const S=i.revealOpponentHand(f);return d.processEndOfAction(S)}console.warn(`AI has no logic for mandatory action during player turn, clearing it: ${h.type}`);const m={...f,actionRequired:null};return d.processEndOfAction(m)})},tv=(c,s,u,i,d,o)=>{const f=vr(c,c.actionRequired,u),h=c.actionRequired;if(f.type==="skip"){const p=i.skipAction(c);return c.phase==="start"?o.continueTurnAfterStartPhaseAction(p):o.processEndOfAction(p)}if(f.type==="resolveDeath1Prompt"&&h.type==="prompt_death_1_effect"){const p=i.resolveDeath1Prompt(c,f.accept);return p.actionRequired?p:o.continueTurnAfterStartPhaseAction(p)}if(f.type==="resolveLove1Prompt"&&h.type==="prompt_give_card_for_love_1"){const p=i.resolveLove1Prompt(c,f.accept);return p.actionRequired?p:o.processEndOfAction(p)}if(f.type==="resolvePlague2Discard"&&h.type==="plague_2_opponent_discard")return Up(c,f.cardIds);if(f.type==="resolvePlague4Flip"&&h.type==="plague_4_player_flip_optional")return i.resolvePlague4Flip(c,f.accept,"opponent");if(f.type==="resolveFire3Prompt"&&h.type==="prompt_fire_3_discard"){const p=i.resolveFire3Prompt(c,f.accept);return p.actionRequired?p:o.processEndOfAction(p)}if(f.type==="resolveSpeed3Prompt"&&h.type==="prompt_shift_for_speed_3"){const p=i.resolveSpeed3Prompt(c,f.accept);return p.actionRequired?p:o.processEndOfAction(p)}if(f.type==="resolvePsychic4Prompt"&&h.type==="prompt_return_for_psychic_4"){const p=i.resolvePsychic4Prompt(c,f.accept);return p.actionRequired?p:o.processEndOfAction(p)}if(f.type==="resolveSpirit1Prompt"&&h.type==="prompt_spirit_1_start"){const p=i.resolveSpirit1Prompt(c,f.choice);return p.actionRequired?p:o.continueTurnAfterStartPhaseAction(p)}if(f.type==="resolveSpirit3Prompt"&&h.type==="prompt_shift_for_spirit_3"){const p=i.resolveSpirit3Prompt(c,f.accept);return p.actionRequired?p:o.processEndOfAction(p)}if(f.type==="resolveSwapProtocols"&&h.type==="prompt_swap_protocols"){const p=i.resolveSwapProtocols(c,f.indices);return o.processEndOfAction(p)}if(f.type==="resolveFire4Discard"&&h.type==="select_cards_from_hand_to_discard_for_fire_4"){const p=i.resolveFire4Discard(c,f.cardIds);return o.processEndOfAction(p)}if(f.type==="resolveHate1Discard"&&h.type==="select_cards_from_hand_to_discard_for_hate_1")return i.resolveHate1Discard(c,f.cardIds);if(f.type==="resolveLight2Prompt"&&h.type==="prompt_shift_or_flip_for_light_2"){const p=i.resolveLight2Prompt(c,f.choice);return p.actionRequired?p:o.processEndOfAction(p)}if(f.type==="rearrangeProtocols"&&h.type==="prompt_rearrange_protocols"){const p=i.resolveRearrangeProtocols(c,f.newOrder);return o.processEndOfAction(p)}if(f.type==="selectLane"&&(h.type==="select_lane_for_shift"||h.type==="select_lane_for_death_2"||h.type==="select_lane_for_play"||h.type==="select_lane_for_water_3"||h.type==="select_lane_for_metal_3_delete")){const{nextState:p,requiresAnimation:m}=cu(c,f.laneIndex);if(m){const{animationRequests:S,onCompleteCallback:w}=m;return d(S,()=>{s(R=>w(R,O=>c.phase==="start"?o.continueTurnAfterStartPhaseAction(O):o.processEndOfAction(O)))}),p}return o.processEndOfAction(p)}if(f.type==="flipCard"||f.type==="deleteCard"||f.type==="returnCard"){const{nextState:p,requiresAnimation:m,requiresTurnEnd:S}=Np(c,f.cardId);if(m){const{animationRequests:w,onCompleteCallback:R}=m;return d(w,()=>{s(O=>R(O,j=>j.actionRequired?(gr(j,s,u,i,d,o),j):j.phase==="start"?o.continueTurnAfterStartPhaseAction(j):o.processEndOfAction(j)))}),p}return S?o.processEndOfAction(p):p}if(f.type==="playCard"&&h.type==="select_card_from_hand_to_play"){const{cardId:p,laneIndex:m,isFaceUp:S}=f,{newState:w,animationRequests:R}=i.playCard({...c,actionRequired:null},p,m,S,"opponent"),O={...w,animationState:{type:"playCard",cardId:p,owner:"opponent"}};return setTimeout(()=>{s(j=>{let H={...j,animationState:null};return R&&R.length>0?(d(R,()=>s(Q=>o.processEndOfAction(Q))),H):H.actionRequired?(gr(H,s,u,i,d,o),H):o.processEndOfAction(H)})},500),O}if(f.type==="discardCards"&&h.type==="discard"){const p=i.discardCards(c,f.cardIds,"opponent");return p.actionRequired?p:o.processEndOfAction(p)}if(f.type==="giveCard"&&h.type==="select_card_from_hand_to_give"){const p=i.resolveActionWithHandCard(c,f.cardId);return p.actionRequired?p:o.processEndOfAction(p)}if(f.type==="revealCard"&&h.type==="select_card_from_hand_to_reveal")return i.resolveActionWithHandCard(c,f.cardId);console.warn(`AI has no logic for mandatory action, clearing it: ${h.type}`);const y={...c,actionRequired:null};return o.processEndOfAction(y)},gr=(c,s,u,i,d,o)=>{s(f=>{if(f.turn!=="opponent"||f.winner||f.animationState)return f;if(f.actionRequired){const y=f.actionRequired;if(y.type==="discard"&&y.player==="player"||y.type==="select_lane_for_shift"&&y.actor==="player"||y.type==="plague_2_player_discard"||y.type==="plague_4_opponent_delete")return f}let h={...f};if(h.actionRequired&&h.actionRequired.type==="reveal_opponent_hand"){const y=i.revealOpponentHand(h);return o.processEndOfAction(y)}if(h.phase==="start"&&(h=o.processStartOfTurn(h)),h.actionRequired)return tv(h,s,u,i,d,o);if(h.phase==="compile"&&h.compilableLanes.length>0){const y=vr(h,null,u);if(y.type==="compile"){const p=y.laneIndex;return setTimeout(()=>{s(m=>{const S=Ji(m,p,()=>{});return o.processEndOfAction(S)})},1e3),{...h,animationState:{type:"compile",laneIndex:p},compilableLanes:[]}}}if(h.phase==="action"){const y=vr(h,null,u);if(y.type==="fillHand"){const p=i.fillHand(h,"opponent");return o.processEndOfAction(p)}if(y.type==="playCard"){const{newState:p,animationRequests:m}=i.playCard(h,y.cardId,y.laneIndex,y.isFaceUp,"opponent"),S={...p,animationState:{type:"playCard",cardId:y.cardId,owner:"opponent"}};return setTimeout(()=>{const w=()=>{s(R=>{let O={...R},j={newState:O};if(O.queuedEffect){const{card:Q,laneIndex:P}=O.queuedEffect;j=lu(Q,P,O,"opponent"),j.newState.queuedEffect=void 0}const H=j.newState;return H.actionRequired?gr(H,s,u,i,d,o):s(o.processEndOfAction(H)),H})};s(R=>{const O={...R,animationState:null};return m&&m.length>0?d(m,w):w(),O})},500),S}}return o.processEndOfAction(h)})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function av(c,s){let u=null,i=null;const d=["player","opponent"];for(const m of d){for(const S of c[m].lanes){const w=S.find(R=>R.id===s);if(w){u=m,i=w;break}}if(u)break}if(!u||!i)return console.error("Card to delete not found on board:",s),c;const o={...c},f={...o[u]};f.lanes=f.lanes.map(m=>m.filter(S=>S.id!==s));const{id:h,isFaceUp:y,...p}=i;return f.discard=[...f.discard,p],o[u]=f,o}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const lv=(c,s,u,i)=>{const[d,o]=K.useState(()=>{const D=_y(c,s);return pt(D)}),[f,h]=K.useState(null),y=K.useCallback(D=>{switch(D){case"start":return yr;case"end":return nu;case"action":case"hand_limit":case"compile":case"control":default:return Ep}},[]),p=K.useCallback((D,U)=>{if(D.length===0){U();return}const[V,...b]=D;o(z=>({...z,animationState:{type:"deleteCard",cardId:V.cardId,owner:V.owner}})),setTimeout(()=>{o(z=>{const Z=av(z,V.cardId);return{...pt(Z),animationState:null}}),b.length>0?p(b,U):U()},500)},[]),m=(D,U)=>{if(!f||d.turn!=="player"||d.phase!=="action")return;const V=f;h(null),o(b=>{const z=y(b.phase),{newState:Z,animationRequests:X}=Pi(b,V,D,U,"player"),J={...Z,animationState:{type:"playCard",cardId:V,owner:"player"}};return setTimeout(()=>{o(ye=>{let ne={...ye,animationState:null};return X&&X.length>0?(p(X,()=>o(Be=>Be.actionRequired?Be:z(Be))),ne):ne.actionRequired?ne:z(ne)})},500),J})},S=()=>{d.turn!=="player"||d.phase!=="action"||d.actionRequired||o(D=>{const U=y(D.phase),V=fp(D,"player");return U(V)})},w=K.useCallback(D=>{o(U=>{var V;return((V=U.actionRequired)==null?void 0:V.type)!=="discard"?U:{...U,animationState:{type:"discardCard",owner:"player",cardIds:[D],originalAction:U.actionRequired}}})},[]),R=K.useCallback(D=>{o(U=>{if(U.winner||U.phase!=="compile")return U;const V=y(U.phase),b={...U,animationState:{type:"compile",laneIndex:D},compilableLanes:[]};return setTimeout(()=>{o(z=>{const Z=Ji(z,D,u);return{...V(Z),animationState:null}})},1e3),b})},[u,y]),O=D=>{o(U=>{const V=y(U.phase),{nextState:b,requiresAnimation:z,requiresTurnEnd:Z}=Np(U,D);return z?(p(z.animationRequests,()=>{o(X=>z.onCompleteCallback(X,V))}),b):b.actionRequired?b:Z?V(b):b})},j=D=>{o(U=>{const V=y(U.phase),{nextState:b,requiresAnimation:z}=cu(U,D);return z?(p(z.animationRequests,()=>{o(Z=>{const X=z.onCompleteCallback(Z,J=>J);return X.actionRequired?X:V(X)})}),b):b.actionRequired?b:V(b)})},H=D=>{o(U=>{const V=y(U.phase),b=Zi(U,D);return b.actionRequired?b:V(b)})},Q=D=>{o(U=>Qm(U,D))},P=()=>{o(D=>{var b,z;const U=y(D.phase);let V={...D,animationState:null};return((b=V.actionRequired)==null?void 0:b.type)==="prompt_shift_or_flip_for_light_2"?V=Qi(V,"skip"):V=Cp(V),((z=V.actionRequired)==null?void 0:z.type)==="plague_4_player_flip_optional"?V:U(V)})},Y=K.useCallback(D=>{o(U=>{y(U.phase);const V=hp(U,D);return V.actionRequired?V:yr(V)})},[y]),W=K.useCallback(D=>{o(U=>{const V=y(U.phase),b=Xi(U,D);return D?b:V(b)})},[y]),k=K.useCallback(D=>{o(U=>{var V;return((V=U.actionRequired)==null?void 0:V.type)!=="plague_2_player_discard"?U:{...U,animationState:{type:"discardCard",owner:"player",cardIds:D,originalAction:U.actionRequired}}})},[]),F=K.useCallback(D=>{o(U=>{const V=y(U.phase),b=_p(U,D,"player");return V(b)})},[y]),ue=K.useCallback(D=>{o(U=>{const V=y(U.phase),b=yp(U,D);return D?b:V(b)})},[y]),fe=K.useCallback(D=>{o(U=>{const V=y(U.phase),b=mp(U,D);return D?b:V(b)})},[y]),te=K.useCallback(D=>{o(U=>{var V;return((V=U.actionRequired)==null?void 0:V.type)!=="select_cards_from_hand_to_discard_for_fire_4"?U:{...U,animationState:{type:"discardCard",owner:"player",cardIds:D,originalAction:U.actionRequired}}})},[]),le=K.useCallback(D=>{o(U=>{var V;return((V=U.actionRequired)==null?void 0:V.type)!=="select_cards_from_hand_to_discard_for_hate_1"?U:{...U,animationState:{type:"discardCard",owner:"player",cardIds:D,originalAction:U.actionRequired}}})},[]),re=K.useCallback(D=>{o(U=>{const V=y(U.phase),b=Qi(U,D);return b.actionRequired?b:V(b)})},[y]),ge=K.useCallback(D=>{o(U=>{const V=y(U.phase),b=vp(U,D);return V(b)})},[y]),je=K.useCallback(D=>{o(U=>{const V=y(U.phase),b=gp(U,D);return D?b:V(b)})},[y]),Re=K.useCallback(D=>{o(U=>{y(U.phase);const V=Sp(U,D);return V.actionRequired?V:yr(V)})},[y]),_e=K.useCallback(D=>{o(U=>{const V=y(U.phase),b=bp(U,D);return b.actionRequired?b:V(b)})},[y]),M=K.useCallback(D=>{o(U=>{const V=y(U.phase),b=wp(U,D);return V(b)})},[y]);return K.useEffect(()=>{const D=d.animationState;if(!D)return;let U=0,V=!1;if(D.type==="flipCard"?(U=600,V=!0):D.type==="drawCard"?(U=1e3,V=!0):D.type==="discardCard"&&(U=800,V=!0),V){const b=setTimeout(()=>{o(z=>({...z,animationState:null}))},U);return()=>clearTimeout(b)}},[d.animationState]),K.useEffect(()=>{const D=d.animationState;if((D==null?void 0:D.type)==="discardCard"&&D.owner==="player"){const U=setTimeout(()=>{o(V=>{const b=V.animationState;if((b==null?void 0:b.type)!=="discardCard"||!b.originalAction)return V;const{cardIds:z,originalAction:Z}=b,X=y(V.phase);let J;return Z.type==="plague_2_player_discard"?J=Xm(V,z):Z.type==="select_cards_from_hand_to_discard_for_fire_4"?J=pp(V,z):Z.type==="select_cards_from_hand_to_discard_for_hate_1"?J=$i(V,z):J=cl(V,z,"player"),J.animationState=null,J.actionRequired?J:X(J)})},500);return()=>clearTimeout(U)}},[d.animationState,y]),K.useEffect(()=>{if(d.turn==="opponent"&&!d.winner&&!d.animationState){const D=setTimeout(()=>{gr(d,o,i,{compileLane:(U,V)=>Ji(U,V,u),playCard:Pi,fillHand:fp,discardCards:cl,flipCard:sp,deleteCard:(U,V)=>({newState:U,animationRequests:[{type:"delete",cardId:V,owner:"opponent"}]}),returnCard:dp,skipAction:Cp,resolveDeath1Prompt:hp,resolveLove1Prompt:Xi,resolvePlague4Flip:(U,V)=>_p(U,V,"opponent"),resolvePlague2Discard:Up,resolveFire3Prompt:yp,resolveSpeed3Prompt:mp,resolveFire4Discard:pp,resolveHate1Discard:$i,resolveLight2Prompt:Qi,resolveRearrangeProtocols:vp,resolveActionWithHandCard:Zi,resolvePsychic4Prompt:gp,resolveSpirit1Prompt:Sp,resolveSpirit3Prompt:bp,resolveSwapProtocols:wp,revealOpponentHand:Ap},p,up)},1500);return()=>clearTimeout(D)}},[d.turn,d.winner,d.animationState,i,u,p,d.actionRequired]),K.useEffect(()=>{const D=d.actionRequired;if(d.turn==="player"&&!d.animationState&&D&&(D.type==="discard"&&D.player==="opponent"||D.type==="select_lane_for_shift"&&D.actor==="opponent"||D.type==="plague_4_opponent_delete"||D.type==="reveal_opponent_hand")){const V=setTimeout(()=>{ev(d,o,i,{discardCards:cl,flipCard:sp,returnCard:dp,deleteCard:(b,z)=>({newState:b,animationRequests:[{type:"delete",cardId:z,owner:"opponent"}]}),resolveActionWithHandCard:Zi,resolveLove1Prompt:Xi,resolveHate1Discard:$i,revealOpponentHand:Ap},up,p)},1500);return()=>clearTimeout(V)}},[d.actionRequired,d.turn,d.animationState,i,p]),K.useEffect(()=>{o(D=>D.turn==="player"&&D.phase==="start"&&!D.actionRequired?Op(D):D)},[d.turn,d.phase]),{gameState:d,selectedCard:f,setSelectedCard:h,playSelectedCard:m,fillHand:S,discardCardFromHand:w,compileLane:R,resolveActionWithCard:O,resolveActionWithLane:j,selectHandCardForAction:Q,skipAction:P,resolvePlague2Discard:k,resolveActionWithHandCard:H,resolvePlague4Flip:F,resolveFire3Prompt:ue,resolveFire4Discard:te,resolveHate1Discard:le,resolveLight2Prompt:re,resolveRearrangeProtocols:ge,resolveSpeed3Prompt:fe,resolveDeath1Prompt:Y,resolveLove1Prompt:W,resolvePsychic4Prompt:je,resolveSpirit1Prompt:Re,resolveSpirit3Prompt:_e,resolveSwapProtocols:M}},Rp=({cards:c,isPlayable:s,isCompilable:u,isShiftTarget:i,isEffectTarget:d,isMatching:o,onLaneMouseDown:f,onCardMouseDown:h,onCardMouseEnter:y,onCardMouseLeave:p,owner:m,animationState:S,isCardTargetable:w,faceDownValue:R,sourceCardId:O})=>{const j=["lane"];return s&&j.push("playable"),o&&j.push("matching-protocol"),u&&j.push("compilable"),i&&j.push("shift-target"),d&&j.push("effect-target"),g.jsx("div",{className:j.join(" "),onMouseDown:f,children:g.jsx("div",{className:"lane-stack",children:c.map((H,Q)=>g.jsx(wt,{card:H,isFaceUp:H.isFaceUp,style:{"--i":Q},onMouseDown:P=>{P.stopPropagation(),h(H)},onMouseEnter:()=>y(H),onMouseLeave:()=>p(H),animationState:S,isTargetable:w(H),isSourceOfEffect:H.id===O,faceDownValue:R},H.id))})})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const eu=(c,s)=>{const{actionRequired:u}=s;if(!u)return!1;let i=null,d=-1,o=[];for(const f of["player","opponent"]){for(let h=0;h<s[f].lanes.length;h++)if(s[f].lanes[h].some(y=>y.id===c.id)){i=f,d=h,o=s[f].lanes[h];break}if(i)break}if(!i)return!1;switch(u.type){case"select_opponent_face_up_card_to_flip":return i==="opponent"&&c.isFaceUp;case"select_own_face_up_covered_card_to_flip":{const f=o.findIndex(h=>h.id===c.id);return i==="player"&&c.isFaceUp&&f<o.length-1}case"select_opponent_covered_card_to_shift":{const f=o.findIndex(y=>y.id===c.id),h=s.turn==="player"?"opponent":"player";return i===h&&f<o.length-1}case"select_opponent_card_to_flip":return i==="opponent";case"shift_flipped_card_optional":return c.id===u.cardId;case"select_own_covered_card_in_lane_to_flip":{const f=o.findIndex(h=>h.id===c.id);return i==="player"&&d===u.laneIndex&&f<o.length-1}case"select_face_down_card_to_shift_for_darkness_4":return!c.isFaceUp;case"select_cards_to_delete":return!u.disallowedIds.includes(c.id);case"select_card_to_delete_for_death_1":return c.id!==u.sourceCardId;case"select_face_down_card_to_delete":return!c.isFaceUp;case"select_low_value_card_to_delete":return c.isFaceUp&&(c.value===0||c.value===1);case"select_card_from_other_lanes_to_delete":{const{disallowedLaneIndex:f,lanesSelected:h}=u;return d!==f&&!h.includes(d)}case"plague_4_opponent_delete":return(s.turn==="player"?"opponent":"player")==="player"?i==="player"&&!c.isFaceUp:!1;case"select_any_other_card_to_flip":return c.id!==u.sourceCardId;case"select_card_to_return":return!0;case"select_card_to_flip_for_fire_3":return!0;case"select_card_to_shift_for_gravity_1":return!0;case"select_card_to_flip_and_shift_for_gravity_2":return!0;case"select_face_down_card_to_shift_for_gravity_4":return!c.isFaceUp&&d!==u.targetLaneIndex;case"select_any_card_to_flip":case"select_any_card_to_flip_optional":return!0;case"select_any_face_down_card_to_flip_optional":return!c.isFaceUp;case"select_card_to_flip_for_light_0":return!0;case"select_face_down_card_to_reveal_for_light_2":return!c.isFaceUp;case"select_any_other_card_to_flip_for_water_0":return c.id!==u.sourceCardId;case"select_own_card_to_return_for_water_4":return i===s.turn;case"select_own_other_card_to_shift":return i===s.turn&&c.id!==u.sourceCardId;case"select_own_card_to_shift_for_speed_3":return i===s.turn;case"select_opponent_face_down_card_to_shift":return i!==s.turn&&!c.isFaceUp;case"select_any_opponent_card_to_shift":return i!==s.turn;case"select_opponent_card_to_return":return i==="opponent";default:return!1}},nv=({gameState:c,onLaneMouseDown:s,onCardMouseDown:u,onCardMouseEnter:i,onCardMouseLeave:d,onOpponentHandCardMouseEnter:o,onOpponentHandCardMouseLeave:f,selectedCardId:h,sourceCardId:y})=>{const{player:p,opponent:m,animationState:S,phase:w,turn:R,compilableLanes:O,actionRequired:j}=c,H=k=>{const F=w==="compile"&&!j&&O.includes(k),ue=R==="player",fe=w==="action"&&!j&&h,te=(j==null?void 0:j.type)==="select_lane_for_play";if(!ue||!fe&&!te)return{isPlayable:!1,isMatching:!1,isCompilable:F};let le;if(fe?le=p.hand.find(D=>D.id===h):te&&(le=p.hand.find(D=>D.id===j.cardInHandId)),!le)return{isPlayable:!1,isMatching:!1,isCompilable:F};if(te&&k===j.disallowedLaneIndex)return{isPlayable:!1,isMatching:!1,isCompilable:F};const re=m.lanes[k];if(re.length>0&&re[re.length-1].isFaceUp&&re[re.length-1].protocol==="Plague"&&re[re.length-1].value===0)return{isPlayable:!1,isMatching:!1,isCompilable:F};const je=m.lanes.flat().some(D=>D.isFaceUp&&D.protocol==="Psychic"&&D.value===1),_e=(p.lanes.flat().some(D=>D.isFaceUp&&D.protocol==="Spirit"&&D.value===1)||le.protocol===p.protocols[k])&&!je;return re.some(D=>D.isFaceUp&&D.protocol==="Metal"&&D.value===2)&&!_e?{isPlayable:!1,isMatching:!1,isCompilable:F}:{isPlayable:!0,isMatching:_e,isCompilable:F}},Q=k=>{if(!j||R!=="player")return!1;switch(j.type){case"select_lane_for_death_2":case"select_lane_for_water_3":return!0;case"select_lane_for_metal_3_delete":return k===j.disallowedLaneIndex?!1:p.lanes[k].length+m.lanes[k].length>=8;default:return!1}},P=(k,F)=>{if(!j||R!=="player")return!1;switch(j.type){case"select_lane_for_shift":return F===j.cardOwner&&k!==j.originalLaneIndex;case"shift_flipped_card_optional":{if(F!=="opponent")return!1;const fe=j.cardId;let te=-1;for(let le=0;le<m.lanes.length;le++)if(m.lanes[le].some(re=>re.id===fe)){te=le;break}return k!==te}case"select_lane_for_life_3_play":return F==="player"&&k!==j.disallowedLaneIndex;case"select_lane_to_shift_revealed_card_for_light_2":return F==="player";case"select_lane_to_shift_cards_for_light_3":return k!==j.sourceLaneIndex;default:return!1}},Y=(k,F,ue)=>{let fe=[k];return F&&fe.push("compiled"),(S==null?void 0:S.type)==="compile"&&S.laneIndex===ue&&fe.push("is-compiling"),fe.join(" ")},W=k=>k.some(ue=>ue.isFaceUp&&ue.protocol==="Darkness"&&ue.value===2)?4:2;return g.jsxs("div",{className:"game-board",children:[g.jsx("div",{className:"opponent-hand-area",children:m.hand.map(k=>g.jsx(wt,{card:k,isFaceUp:k.isRevealed||!1,additionalClassName:"in-hand",onMouseEnter:()=>o(k),onMouseLeave:f},k.id))}),g.jsx("div",{className:`player-side opponent-side ${R==="opponent"?"active-turn":""}`,children:g.jsx("div",{className:"lanes",children:m.lanes.map((k,F)=>{const ue=W(k);return g.jsx(Rp,{cards:k,isPlayable:!1,isCompilable:!1,isShiftTarget:P(F,"opponent"),isEffectTarget:Q(F),onLaneMouseDown:()=>s(F),onCardMouseDown:fe=>u(fe,"opponent",F),onCardMouseEnter:fe=>i(fe,"opponent"),onCardMouseLeave:()=>d(),owner:"opponent",animationState:S,isCardTargetable:fe=>eu(fe,c),faceDownValue:ue,sourceCardId:y},`opp-lane-${F}`)})})}),g.jsxs("div",{className:"protocol-bars-container",children:[g.jsx("div",{className:"protocol-bar opponent-bar",children:m.protocols.map((k,F)=>g.jsxs("div",{className:Y("protocol-display",m.compiled[F],F),children:[g.jsx("span",{className:"protocol-name",children:k}),g.jsx("span",{className:"protocol-value",children:m.laneValues[F]})]},`opp-proto-${k}-${F}`))}),g.jsx("div",{className:"protocol-bar player-bar",children:p.protocols.map((k,F)=>g.jsxs("div",{className:Y("protocol-display",p.compiled[F],F),children:[g.jsx("span",{className:"protocol-name",children:k}),g.jsx("span",{className:"protocol-value",children:p.laneValues[F]})]},`player-proto-${k}-${F}`))})]}),g.jsx("div",{className:`player-side ${R==="player"?"active-turn":""}`,children:g.jsx("div",{className:"lanes",children:p.lanes.map((k,F)=>{const{isPlayable:ue,isMatching:fe,isCompilable:te}=H(F),le=W(k);return g.jsx(Rp,{cards:k,isPlayable:ue,isMatching:fe,isCompilable:te,isShiftTarget:P(F,"player"),isEffectTarget:Q(F),onLaneMouseDown:()=>s(F),onCardMouseDown:re=>u(re,"player",F),onCardMouseEnter:re=>i(re,"player"),onCardMouseLeave:()=>d(),owner:"player",animationState:S,isCardTargetable:re=>eu(re,c),faceDownValue:le,sourceCardId:y},`player-lane-${F}`)})})})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const cv=({gameState:c,onFillHand:s,onSkipAction:u,onResolvePlague2Discard:i,onResolvePlague4Flip:d,onResolveFire3Prompt:o,onResolveSpeed3Prompt:f,onResolveFire4Discard:h,onResolveHate1Discard:y,onResolveLight2Prompt:p,onResolveDeath1Prompt:m,onResolveLove1Prompt:S,onResolvePsychic4Prompt:w,onResolveSpirit1Prompt:R,onResolveSpirit3Prompt:O,selectedCardId:j,multiSelectedCardIds:H})=>{const{phase:Q,turn:P,actionRequired:Y,player:W,compilableLanes:k}=c,F=ge=>{for(const je of["player","opponent"])for(const Re of c[je].lanes){const _e=Re.find(M=>M.id===ge);if(_e)return _e}return null},ue=Y==null?void 0:Y.sourceCardId,fe=ue?F(ue):null,te=P.charAt(0).toUpperCase()+P.slice(1),le=()=>{if(P!=="player")return g.jsx("button",{className:"btn",disabled:!0,children:"Processing..."});if((Y==null?void 0:Y.type)==="prompt_death_1_effect")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>m(!0),children:"Draw & Delete"}),g.jsx("button",{className:"btn btn-back",onClick:()=>m(!1),children:"Skip"})]});if((Y==null?void 0:Y.type)==="prompt_give_card_for_love_1")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>S(!0),children:"Give 1 Card"}),g.jsx("button",{className:"btn btn-back",onClick:()=>S(!1),children:"Skip"})]});if((Y==null?void 0:Y.type)==="prompt_fire_3_discard")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>o(!0),children:"Discard 1 Card"}),g.jsx("button",{className:"btn btn-back",onClick:()=>o(!1),children:"Skip"})]});if((Y==null?void 0:Y.type)==="prompt_shift_for_speed_3")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>f(!0),children:"Shift"}),g.jsx("button",{className:"btn btn-back",onClick:()=>f(!1),children:"Skip"})]});if((Y==null?void 0:Y.type)==="prompt_spirit_1_start")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>R("discard"),children:"Discard 1"}),g.jsx("button",{className:"btn btn-back",onClick:()=>R("flip"),children:"Flip Card"})]});if((Y==null?void 0:Y.type)==="prompt_shift_for_spirit_3")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>O(!0),children:"Shift"}),g.jsx("button",{className:"btn btn-back",onClick:()=>O(!1),children:"Skip"})]});if((Y==null?void 0:Y.type)==="prompt_return_for_psychic_4")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>w(!0),children:"Return Card"}),g.jsx("button",{className:"btn btn-back",onClick:()=>w(!1),children:"Skip"})]});if((Y==null?void 0:Y.type)==="prompt_shift_or_flip_for_light_2")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>p("shift"),children:"Shift"}),g.jsx("button",{className:"btn",onClick:()=>p("flip"),children:"Flip Back"}),g.jsx("button",{className:"btn btn-back",onClick:()=>p("skip"),children:"Skip"})]});if((Y==null?void 0:Y.type)==="plague_2_player_discard"||(Y==null?void 0:Y.type)==="select_cards_from_hand_to_discard_for_fire_4"||(Y==null?void 0:Y.type)==="select_cards_from_hand_to_discard_for_hate_1"){let ge,je=0;return Y.type==="plague_2_player_discard"?(ge=i,je=1):Y.type==="select_cards_from_hand_to_discard_for_fire_4"?(ge=h,je=1):(ge=y,je=Y.count),g.jsxs("button",{className:"btn",onClick:()=>ge(H),disabled:H.length<je,children:["Confirm Discard (",H.length,")"]})}if((Y==null?void 0:Y.type)==="plague_4_player_flip_optional")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>d(!0),children:"Flip Plague-4"}),g.jsx("button",{className:"btn btn-back",onClick:()=>d(!1),children:"Skip"})]});if(Y&&"optional"in Y&&Y.optional)return g.jsx("button",{className:"btn btn-back",onClick:u,children:"Skip Action"});if(Y)return g.jsx("button",{className:"btn",disabled:!0,children:"Action Required"});if(Q==="compile"&&k.length>0)return g.jsx("button",{className:"btn",disabled:!0,children:"Select Lane to Compile"});if(Q==="action"){const ge=W.hand.length<5;return W.hand.length===0?g.jsx("button",{className:"btn",onClick:s,children:"Fill Hand (Required)"}):g.jsx("button",{className:"btn",onClick:s,disabled:!ge||!!j,children:"Fill Hand"})}return g.jsx("button",{className:"btn",disabled:!0,children:"Processing..."})},re=()=>{if(Y)switch(Y.type){case"discard":return Y.player==="player"?`Action: Discard ${Y.count} card(s) from your hand`:"Waiting for Opponent to discard...";case"select_opponent_face_up_card_to_flip":return"Action: Select an opponent's face-up card to flip";case"select_own_face_up_covered_card_to_flip":return"Action: Select one of your face-up, covered cards to flip";case"select_opponent_covered_card_to_shift":return"Action: Select one of your opponent's covered cards to shift";case"select_lane_for_shift":return"Action: Select a new lane for the card";case"select_opponent_card_to_flip":return"Action: Select an opponent's card to flip";case"shift_flipped_card_optional":return"Action: You may shift the card you just flipped. Select a lane or skip.";case"select_own_covered_card_in_lane_to_flip":return"Action: You may flip one of your covered cards in this lane. Select a card or skip.";case"select_card_from_hand_to_play":return"Action: Select a card from your hand to play";case"select_lane_for_play":return"Action: Select another lane to play your card in";case"select_face_down_card_to_shift_for_darkness_4":return"Action: Select any face-down card to shift";case"select_cards_to_delete":return`Action: Select a card to delete (${Y.count} remaining)`;case"select_face_down_card_to_delete":return"Action: Select a face-down card to delete";case"select_low_value_card_to_delete":return"Action: Select a card with value 0 or 1 to delete";case"select_card_from_other_lanes_to_delete":return`Action: Select a card to delete (${Y.count} remaining)`;case"select_lane_for_death_2":return"Action: Select a lane to delete cards with value 1 or 2";case"prompt_death_1_effect":return"Start Phase: Use Death-1 effect?";case"select_card_to_delete_for_death_1":return"Action: Select a card to delete";case"prompt_give_card_for_love_1":return"End Phase: Give 1 card to draw 2?";case"select_card_from_hand_to_give":return"Action: Select a card from your hand to give";case"select_card_from_hand_to_reveal":return"Action: Select a card from your hand to reveal";case"plague_2_player_discard":return"Action: Select 1 or more cards to discard";case"plague_4_opponent_delete":return"Waiting for opponent to delete one of their face-down cards";case"plague_4_player_flip_optional":return"Action: You may flip Plague-4";case"select_any_other_card_to_flip":return"Action: Select any other card to flip";case"select_card_to_return":return"Action: Select a card to return to its owner's hand";case"prompt_fire_3_discard":return"End Phase: Discard 1 card to flip 1 card?";case"select_card_to_flip_for_fire_3":return"Action: Select a card to flip";case"prompt_shift_for_speed_3":return"End Phase: Shift 1 card?";case"select_own_card_to_shift_for_speed_3":case"select_own_other_card_to_shift":return"Action: Select one of your cards to shift";case"select_opponent_face_down_card_to_shift":return"Action: Select an opponent's face-down card to shift";case"prompt_spirit_1_start":return"Start Phase: Discard 1 card or flip Spirit-1?";case"select_any_card_to_flip_optional":return"Action: You may flip one card. Select a card or skip.";case"prompt_shift_for_spirit_3":return"Triggered: You may shift your Spirit-3. Select a lane or skip.";case"prompt_swap_protocols":return"Action: Swap two of your protocols.";case"select_cards_from_hand_to_discard_for_fire_4":return"Action: Select 1 or more cards to discard";case"select_cards_from_hand_to_discard_for_hate_1":return`Action: Select ${Y.count} card(s) to discard for Hate-1`;case"select_any_card_to_flip":return`Action: Select a card to flip (${Y.count} remaining)`;case"select_any_face_down_card_to_flip_optional":return"Action: You may flip a face-down card. Select a card or skip.";case"select_lane_for_life_3_play":return"Action: Select another lane to play a card into";case"select_card_to_flip_for_light_0":return"Action: Select any card to flip";case"select_face_down_card_to_reveal_for_light_2":return"Action: Select a face-down card to reveal";case"prompt_shift_or_flip_for_light_2":return"Action: Choose to shift, flip back, or skip";case"select_lane_to_shift_revealed_card_for_light_2":return"Action: Select a lane to shift the revealed card to";case"select_lane_to_shift_cards_for_light_3":return"Action: Select a lane to shift all face-down cards to";case"select_lane_for_metal_3_delete":return"Action: Select a lane with 8+ cards to delete";case"select_any_other_card_to_flip_for_water_0":return"Action: Select any other card to flip";case"prompt_rearrange_protocols":return"Action: Rearrange protocols";case"select_lane_for_water_3":return"Action: Select a lane to return cards from";case"select_own_card_to_return_for_water_4":return"Action: Select one of your cards to return to your hand";case"prompt_return_for_psychic_4":return"End Phase: Return an opponent's card?";case"select_any_opponent_card_to_shift":return"Action: Select an opponent's card to shift";case"select_opponent_card_to_return":return"Action: Select an opponent's card to return";default:return"Action Required"}return Q==="compile"&&k.length>0?"Phase: Compile":`Phase: ${Q.replace("_"," ")}`};return g.jsxs("div",{className:"phase-controller",children:[g.jsxs("div",{className:"effect-source-info",children:[g.jsxs("span",{children:[te,"'s Turn"]}),Y&&fe&&g.jsxs(g.Fragment,{children:[" | Effect from: ",g.jsxs("span",{children:[fe.protocol,"-",fe.value]})]})]}),g.jsxs("div",{className:"phase-controller-main",children:[g.jsx("div",{className:"phase-info",children:re()}),g.jsx("div",{className:"phase-actions",children:le()})]})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const rv=({gameState:c,turn:s,animationState:u,onPlayerClick:i,onOpponentClick:d})=>{const{player:o,opponent:f}=c,h=y=>{const p=["info-section"];return p.push(y==="player"?"player-info":"opponent-info"),s===y&&p.push("active-turn"),(u==null?void 0:u.type)==="drawCard"&&u.owner===y&&p.push("is-drawing"),(u==null?void 0:u.type)==="discardCard"&&u.owner===y&&p.push("is-discarding"),p.join(" ")};return g.jsxs("div",{className:"game-info-panel",children:[g.jsxs("div",{className:h("opponent"),onClick:d,children:[g.jsx("h3",{children:"Opponent"}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Hand:"}),g.jsx("span",{children:f.hand.length})]}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Deck:"}),g.jsx("span",{children:f.deck.length})]}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Discard:"}),g.jsx("span",{children:f.discard.length})]})]}),g.jsxs("div",{className:h("player"),onClick:i,children:[g.jsx("h3",{children:"Player"}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Hand:"}),g.jsx("span",{children:o.hand.length})]}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Deck:"}),g.jsx("span",{children:o.deck.length})]}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Discard:"}),g.jsx("span",{children:o.discard.length})]})]})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function ov({log:c,onClose:s}){return g.jsx("div",{className:"modal-overlay",onClick:s,children:g.jsxs("div",{className:"modal-content log-modal-content",onClick:u=>u.stopPropagation(),children:[g.jsx("button",{className:"btn btn-back modal-close-btn",onClick:s,children:"X"}),g.jsx("h2",{children:"Game Log"}),g.jsx("ol",{className:"log-list",children:c.map((u,i)=>g.jsx("li",{className:`log-entry log-entry-${u.player}`,children:u.message},i))})]})})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function iv({message:c,player:s}){return g.jsx("div",{className:`toaster toaster-${s}`,children:c})}function uv({gameState:c,targetPlayer:s,onConfirm:u}){const[i,d]=K.useState(c[s].protocols),o=K.useRef(null),f=K.useRef(null),h=c[s],p=c[s==="player"?"opponent":"player"],m=K.useMemo(()=>{const W={};return h.protocols.forEach((k,F)=>{W[k]={value:h.laneValues[F],compiled:h.compiled[F]}}),W},[h.protocols,h.laneValues,h.compiled]),S=(W,k)=>{let F=[W];return k&&F.push("compiled"),F.join(" ")},w=(W,k)=>{o.current=k,W.dataTransfer.effectAllowed="move"},R=(W,k)=>{W.preventDefault(),f.current=k},O=()=>{if(o.current!==null&&f.current!==null&&o.current!==f.current){const W=[...i],k=W.splice(o.current,1)[0];W.splice(f.current,0,k),o.current=null,f.current=null,d(W)}},j=W=>{W.preventDefault()},H=s==="player",Q=H?"Rearrange Your Protocols":"Rearrange Opponent's Protocols",P=g.jsx("div",{className:`protocol-bar ${H?"player-bar":"opponent-bar"}`,onDragOver:j,children:i.map((W,k)=>{const F=m[W];return g.jsxs("div",{className:S("protocol-display rearrange-item",F.compiled),draggable:!0,onDragStart:ue=>w(ue,k),onDragEnter:ue=>R(ue,k),onDragEnd:O,children:[g.jsx("span",{className:"protocol-name",children:W}),g.jsx("span",{className:"protocol-value",children:F.value})]},W)})}),Y=g.jsx("div",{className:`protocol-bar ${H?"opponent-bar":"player-bar"}`,children:p.protocols.map((W,k)=>g.jsxs("div",{className:S("protocol-display",p.compiled[k]),children:[g.jsx("span",{className:"protocol-name",children:W}),g.jsx("span",{className:"protocol-value",children:p.laneValues[k]})]},`other-proto-${W}-${k}`))});return g.jsx("div",{className:"modal-overlay",children:g.jsxs("div",{className:"modal-content rearrange-modal-content",onClick:W=>W.stopPropagation(),children:[g.jsx("h2",{children:Q}),g.jsx("p",{children:"Drag and drop the protocols to reorder them."}),g.jsx("div",{className:"rearrange-board-view",children:g.jsxs("div",{className:"protocol-bars-container",children:[H?Y:P,H?P:Y]})}),g.jsx("div",{className:"rearrange-actions",children:g.jsx("button",{className:"btn",onClick:()=>u(i),children:"Confirm Rearrangement"})})]})})}function sv({gameState:c,onConfirm:s,onCancel:u}){const[i,d]=K.useState([]),o=c.player,f=p=>{i.includes(p)?d(m=>m.filter(S=>S!==p)):i.length<2&&d(m=>[...m,p])},h=()=>{i.length===2&&s(i)},y=p=>{let m=["protocol-display","rearrange-item"];return o.compiled[p]&&m.push("compiled"),i.includes(p)&&m.push("selected"),m.join(" ")};return g.jsx("div",{className:"modal-overlay",children:g.jsxs("div",{className:"modal-content rearrange-modal-content",onClick:p=>p.stopPropagation(),children:[g.jsx("h2",{children:"Swap Protocols"}),g.jsx("p",{children:"Select two of your protocols to swap their positions."}),g.jsx("div",{className:"rearrange-board-view",children:g.jsx("div",{className:"protocol-bars-container",children:g.jsx("div",{className:"protocol-bar player-bar",children:o.protocols.map((p,m)=>g.jsxs("div",{className:y(m),onClick:()=>f(m),children:[g.jsx("span",{className:"protocol-name",children:p}),g.jsx("span",{className:"protocol-value",children:o.laneValues[m]})]},p))})})}),g.jsxs("div",{className:"rearrange-actions",children:[g.jsx("button",{className:"btn",onClick:h,disabled:i.length!==2,children:"Confirm Swap"}),g.jsx("button",{className:"btn btn-back",onClick:u,children:"Cancel"})]})]})})}function dv({player:c,playerState:s,onClose:u}){const i=c.charAt(0).toUpperCase()+c.slice(1),d=(o,f)=>{const h=o.map((y,p)=>({...y,id:`${f}-${y.protocol}-${y.value}-${p}`,isFaceUp:!0}));return g.jsxs(g.Fragment,{children:[g.jsxs("h3",{children:[f," (",h.length,")"]}),g.jsx("div",{className:"debug-card-grid",children:h.length>0?h.map(y=>g.jsx(wt,{card:y,isFaceUp:!0,additionalClassName:"in-hand"},y.id)):g.jsxs("p",{className:"no-cards",children:["No cards in ",f.toLowerCase(),"."]})})]})};return g.jsx("div",{className:"modal-overlay",onClick:u,children:g.jsxs("div",{className:"modal-content debug-modal-content",onClick:o=>o.stopPropagation(),children:[g.jsx("button",{className:"btn btn-back modal-close-btn",onClick:u,children:"X"}),g.jsxs("h2",{children:[i,"'s Info"]}),d(s.deck,"Deck"),d(s.discard,"Discard Pile")]})})}const fv=(c,s)=>{if(!s)return null;for(const u of["player","opponent"])for(const i of c[u].lanes){const d=i.find(o=>o.id===s);if(d)return{card:d,owner:u}}return null};function pv({onBack:c,onEndGame:s,playerProtocols:u,opponentProtocols:i,difficulty:d}){var Wl,ac,lc;const{gameState:o,selectedCard:f,setSelectedCard:h,playSelectedCard:y,fillHand:p,discardCardFromHand:m,compileLane:S,resolveActionWithCard:w,resolveActionWithLane:R,selectHandCardForAction:O,resolveActionWithHandCard:j,skipAction:H,resolveDeath1Prompt:Q,resolveLove1Prompt:P,resolvePlague2Discard:Y,resolvePlague4Flip:W,resolveFire3Prompt:k,resolveFire4Discard:F,resolveHate1Discard:ue,resolveLight2Prompt:fe,resolveRearrangeProtocols:te,resolveSpirit1Prompt:le,resolveSpirit3Prompt:re,resolveSwapProtocols:ge,resolveSpeed3Prompt:je,resolvePsychic4Prompt:Re}=lv(u,i,s,d),[_e,M]=K.useState(null),[D,U]=K.useState([]),[V,b]=K.useState(!1),[z,Z]=K.useState([]),X=K.useRef(o.log.length),[J,ye]=K.useState(!1),[ne,Be]=K.useState(!1),[xe,Ct]=K.useState(null),Pl=K.useMemo(()=>{if(o.lastPlayedCardId){const I=fv(o,o.lastPlayedCardId);if(I){const se=I.owner==="player"||I.card.isFaceUp;return{card:I.card,showContents:se}}}return null},[o.lastPlayedCardId,o.player.lanes,o.opponent.lanes]),Ba=_e||Pl;K.useEffect(()=>{o.log.length>X.current&&o.log.slice(X.current).forEach(se=>{if(se.message!=="Game Started."){const ze={message:se.message,player:se.player,id:Qt()};Z(Me=>[...Me,ze]),setTimeout(()=>{Z(Me=>Me.filter(pa=>pa.id!==ze.id))},5e3)}}),X.current=o.log.length},[o.log]),K.useEffect(()=>{var I,se,ze;((I=o.actionRequired)==null?void 0:I.type)!=="plague_2_player_discard"&&((se=o.actionRequired)==null?void 0:se.type)!=="select_cards_from_hand_to_discard_for_fire_4"&&((ze=o.actionRequired)==null?void 0:ze.type)!=="select_cards_from_hand_to_discard_for_hate_1"&&U([])},[o.actionRequired]),K.useEffect(()=>{var I,se;ye(((I=o.actionRequired)==null?void 0:I.type)==="prompt_rearrange_protocols"&&o.turn==="player"),Be(((se=o.actionRequired)==null?void 0:se.type)==="prompt_swap_protocols"&&o.turn==="player")},[o.actionRequired,o.turn]);const rl=I=>{const{actionRequired:se,turn:ze,phase:Me,compilableLanes:pa,player:Zt,opponent:il}=o,ha=ze==="player"&&se&&["select_lane_for_shift","shift_flipped_card_optional","select_lane_for_play","select_lane_for_death_2","select_lane_for_life_3_play","select_lane_to_shift_revealed_card_for_light_2","select_lane_to_shift_cards_for_light_3","select_lane_for_water_3"].includes(se.type),Ft=ze==="player"&&!se&&Me==="compile"&&pa.includes(I),Mt=il.lanes.flat().some(ht=>ht.isFaceUp&&ht.protocol==="Psychic"&&ht.value===1),_a=f&&Me==="action"&&!se&&Zt.hand.some(ht=>ht.id===f)&&!il.lanes[I].some(ht=>ht.isFaceUp&&ht.protocol==="Plague"&&ht.value===0);if(ha||Ft||_a){if(ha)R(I);else if(Ft)S(I);else if(_a){const ht=Zt.hand.find(Kt=>Kt.id===f),nc=(Zt.lanes.flat().some(Kt=>Kt.isFaceUp&&Kt.protocol==="Spirit"&&Kt.value===1)||ht.protocol===Zt.protocols[I])&&!Mt;y(I,nc),M(null)}}else f&&(h(null),M(null))},Jl=I=>{if(o.actionRequired){if(o.actionRequired.type==="discard"&&o.actionRequired.player==="player"){m(I.id);return}if(o.actionRequired.type==="select_card_from_hand_to_play"){O(I.id);return}if(o.actionRequired.type==="select_card_from_hand_to_give"||o.actionRequired.type==="select_card_from_hand_to_reveal"){j(I.id);return}if(o.actionRequired.type==="plague_2_player_discard"||o.actionRequired.type==="select_cards_from_hand_to_discard_for_fire_4"||o.actionRequired.type==="select_cards_from_hand_to_discard_for_hate_1"){U(se=>se.includes(I.id)?se.filter(ze=>ze!==I.id):[...se,I.id]);return}return}o.turn!=="player"||o.phase!=="action"&&o.phase!=="compile"||(I.id===f?(h(null),M(null)):(h(I.id),M({card:I,showContents:!0})))},Il=(I,se,ze)=>{const{actionRequired:Me,turn:pa,phase:Zt,compilableLanes:il}=o;if(Me&&["select_lane_for_shift","shift_flipped_card_optional","select_lane_for_play","select_lane_for_death_2","select_lane_for_life_3_play","select_lane_to_shift_revealed_card_for_light_2","select_lane_to_shift_cards_for_light_3","select_lane_for_water_3"].includes(Me.type)){const Yt=se==="player"||I.isFaceUp;M({card:I,showContents:Yt});return}const Ft=pa==="player"&&!Me&&f&&Zt==="action",Mt=pa==="player"&&!Me&&Zt==="compile"&&il.includes(ze);if(Ft||Mt){rl(ze);return}if(eu(I,o))w(I.id);else if(f)h(null),M(null);else{const Yt=se==="player"||I.isFaceUp;M({card:I,showContents:Yt})}},br=I=>{f||M({card:I,showContents:!0})},wr=()=>{f||M(null)},At=(I,se)=>{if(!f){const ze=se==="player"||I.isFaceUp;M({card:I,showContents:ze})}},Wn=()=>{f||M(null)},ec=I=>{!f&&!o.actionRequired&&M({card:I,showContents:I.isRevealed||!1})},tc=()=>{if(!Ba)return null;const{card:I,showContents:se}=Ba;return g.jsx(wt,{card:I,isFaceUp:se})},ol=o.turn==="player"&&!o.actionRequired&&o.phase==="compile"&&o.compilableLanes.length>0,Cr=((Wl=o.actionRequired)==null?void 0:Wl.sourceCardId)??null;return g.jsxs("div",{className:"screen game-screen",children:[xe&&g.jsx(dv,{player:xe,playerState:o[xe],onClose:()=>Ct(null)}),J&&((ac=o.actionRequired)==null?void 0:ac.type)==="prompt_rearrange_protocols"&&g.jsx(uv,{gameState:o,targetPlayer:o.actionRequired.target,onConfirm:I=>{te(I),ye(!1)}}),ne&&((lc=o.actionRequired)==null?void 0:lc.type)==="prompt_swap_protocols"&&g.jsx(sv,{gameState:o,onConfirm:I=>{ge(I),Be(!1)},onCancel:()=>{H(),Be(!1)}}),g.jsx("div",{className:"toaster-container",children:z.map(I=>g.jsx(iv,{message:I.message,player:I.player},I.id))}),V&&g.jsx(ov,{log:o.log,onClose:()=>b(!1)}),g.jsx("button",{className:"btn log-button",onClick:()=>b(!0),children:"Log"}),g.jsxs("div",{className:"game-screen-layout",children:[g.jsxs("div",{className:"game-preview-container",children:[g.jsx("h2",{children:"Mainframe"}),g.jsx(rv,{gameState:o,turn:o.turn,animationState:o.animationState,onPlayerClick:()=>Ct("player"),onOpponentClick:()=>Ct("opponent")}),g.jsx("div",{className:"preview-card-area",children:tc()}),g.jsx("button",{className:"btn btn-back",onClick:c,children:"Back"})]}),g.jsxs("div",{className:"game-main-area",children:[ol&&g.jsx("div",{className:"compile-prompt-container",children:g.jsx("h3",{children:"Select a Protocol to Compile"})}),g.jsx(nv,{gameState:o,onLaneMouseDown:rl,selectedCardId:f,onCardMouseDown:Il,onCardMouseEnter:At,onCardMouseLeave:Wn,onOpponentHandCardMouseEnter:ec,onOpponentHandCardMouseLeave:Wn,sourceCardId:Cr}),g.jsxs("div",{className:"player-action-area",children:[g.jsx(cv,{gameState:o,onFillHand:p,onSkipAction:H,onResolveDeath1Prompt:Q,onResolveLove1Prompt:P,onResolvePlague2Discard:Y,onResolvePlague4Flip:W,onResolveFire3Prompt:k,onResolveSpeed3Prompt:je,onResolveFire4Discard:F,onResolveHate1Discard:ue,onResolveLight2Prompt:fe,onResolvePsychic4Prompt:Re,onResolveSpirit1Prompt:le,onResolveSpirit3Prompt:re,selectedCardId:f,multiSelectedCardIds:D}),g.jsx("div",{className:`player-hand-area ${o.actionRequired?"action-required":""}`,children:o.player.hand.map(I=>g.jsx(wt,{card:I,isFaceUp:!0,onMouseDown:()=>Jl(I),onMouseEnter:()=>br(I),onMouseLeave:wr,isSelected:I.id===f,isMultiSelected:D.includes(I.id),animationState:o.animationState,additionalClassName:"in-hand"},I.id))})]})]})]})]})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function hv({onPlayAgain:c,winner:s}){const u=s==="player";return g.jsxs("div",{className:"screen",children:[g.jsx("h1",{children:u?"VICTORY":"DEFEAT"}),g.jsx("p",{children:u?"System compiled successfully.":"Critical error in the mainframe."}),g.jsx("button",{className:"btn",onClick:c,children:"Play Again"})]})}function _v({onBack:c}){const[s,u]=K.useState(da[0]),i=K.useMemo(()=>{const f={};for(const h of da)f[h.protocol]||(f[h.protocol]=[]),f[h.protocol].push(h);for(const h in f)f[h].sort((y,p)=>y.value-p.value);return f},[]),d=f=>{u(f)},o=()=>{if(!s)return null;const f={...s,id:"preview",isFaceUp:!0};return g.jsx(wt,{card:f,isFaceUp:!0})};return g.jsxs("div",{className:"screen card-library-screen",children:[g.jsx(xp,{title:"Card Library",onBack:c}),g.jsxs("div",{className:"card-library-layout",children:[g.jsxs("div",{className:"game-preview-container",children:[g.jsx("h2",{children:"Card Preview"}),g.jsx("div",{className:"preview-card-area",children:o()})]}),g.jsx("div",{className:"card-list-container",children:Fi.map(f=>g.jsxs("div",{className:"protocol-group",children:[g.jsx("h3",{children:f}),g.jsx("div",{className:"protocol-card-grid",children:i[f].map(h=>{const y={...h,id:`${h.protocol}-${h.value}`,isFaceUp:!0};return g.jsx(wt,{card:y,isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>d(h),onMouseDown:()=>d(h)},y.id)})})]},f))})]})]})}function yv(){const[c,s]=K.useState("MainMenu"),[u,i]=K.useState([]),[d,o]=K.useState([]),[f,h]=K.useState(null),[y,p]=K.useState("easy"),m=K.useCallback(()=>{s("MainMenu"),i([]),o([]),h(null)},[]);K.useEffect(()=>{const O=j=>{j.key==="Escape"&&m()};return window.addEventListener("keydown",O),()=>{window.removeEventListener("keydown",O)}},[m]);const S=K.useCallback((O,j)=>{i(O),o(j),s("GameScreen")},[]),w=K.useCallback(O=>{h(O),s("ResultsScreen")},[]),R=()=>{switch(c){case"MainMenu":return g.jsx(np,{onNavigate:O=>s(O),difficulty:y,setDifficulty:p});case"ProtocolSelection":return g.jsx(sy,{onBack:m,onStartGame:S});case"GameScreen":return g.jsx(pv,{onBack:m,onEndGame:w,playerProtocols:u,opponentProtocols:d,difficulty:y});case"ResultsScreen":return g.jsx(hv,{onPlayAgain:m,winner:f});case"CardLibrary":return g.jsx(_v,{onBack:m});default:return g.jsx(np,{onNavigate:O=>s(O),difficulty:y,setDifficulty:p})}};return g.jsx(g.Fragment,{children:R()})}const mv=document.getElementById("root"),vv=ry.createRoot(mv);vv.render(g.jsx(W_.StrictMode,{children:g.jsx(yv,{})}));
