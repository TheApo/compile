(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const i of d)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function u(d){const i={};return d.integrity&&(i.integrity=d.integrity),d.referrerPolicy&&(i.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?i.credentials="include":d.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(d){if(d.ep)return;d.ep=!0;const i=u(d);fetch(d.href,i)}})();function K_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hi={exports:{}},Jn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf;function P_(){if(Qf)return Jn;Qf=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function u(c,d,i){var f=null;if(i!==void 0&&(f=""+i),d.key!==void 0&&(f=""+d.key),"key"in d){i={};for(var h in d)h!=="key"&&(i[h]=d[h])}else i=d;return d=i.ref,{$$typeof:r,type:c,key:f,ref:d!==void 0?d:null,props:i}}return Jn.Fragment=s,Jn.jsx=u,Jn.jsxs=u,Jn}var Zf;function J_(){return Zf||(Zf=1,Hi.exports=P_()),Hi.exports}var v=J_(),ki={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff;function I_(){if(Ff)return de;Ff=1;var r=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),S=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,N={};function O(w,H,Z){this.props=w,this.context=H,this.refs=N,this.updater=Z||R}O.prototype.isReactComponent={},O.prototype.setState=function(w,H){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,H,"setState")},O.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function X(){}X.prototype=O.prototype;function P(w,H,Z){this.props=w,this.context=H,this.refs=N,this.updater=Z||R}var k=P.prototype=new X;k.constructor=P,T(k,O.prototype),k.isPureReactComponent=!0;var I=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function se(w,H,Z,Q,W,ye){return Z=ye.ref,{$$typeof:r,type:w,key:H,ref:Z!==void 0?Z:null,props:ye}}function fe(w,H){return se(w.type,H,void 0,void 0,void 0,w.props)}function te(w){return typeof w=="object"&&w!==null&&w.$$typeof===r}function le(w){var H={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Z){return H[Z]})}var ce=/\/+/g;function ge(w,H){return typeof w=="object"&&w!==null&&w.key!=null?le(""+w.key):H.toString(36)}function Me(){}function xe(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Me,Me):(w.status="pending",w.then(function(H){w.status==="pending"&&(w.status="fulfilled",w.value=H)},function(H){w.status==="pending"&&(w.status="rejected",w.reason=H)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function _e(w,H,Z,Q,W){var ye=typeof w;(ye==="undefined"||ye==="boolean")&&(w=null);var ne=!1;if(w===null)ne=!0;else switch(ye){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(w.$$typeof){case r:case s:ne=!0;break;case m:return ne=w._init,_e(ne(w._payload),H,Z,Q,W)}}if(ne)return W=W(w),ne=Q===""?"."+ge(w,0):Q,I(W)?(Z="",ne!=null&&(Z=ne.replace(ce,"$&/")+"/"),_e(W,H,Z,"",function(Rt){return Rt})):W!=null&&(te(W)&&(W=fe(W,Z+(W.key==null||w&&w.key===W.key?"":(""+W.key).replace(ce,"$&/")+"/")+ne)),H.push(W)),1;ne=0;var Be=Q===""?".":Q+":";if(I(w))for(var De=0;De<w.length;De++)Q=w[De],ye=Be+ge(Q,De),ne+=_e(Q,H,Z,ye,W);else if(De=b(w),typeof De=="function")for(w=De.call(w),De=0;!(Q=w.next()).done;)Q=Q.value,ye=Be+ge(Q,De++),ne+=_e(Q,H,Z,ye,W);else if(ye==="object"){if(typeof w.then=="function")return _e(xe(w),H,Z,Q,W);throw H=String(w),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ne}function z(w,H,Z){if(w==null)return w;var Q=[],W=0;return _e(w,Q,"","",function(ye){return H.call(Z,ye,W++)}),Q}function D(w){if(w._status===-1){var H=w._result;H=H(),H.then(function(Z){(w._status===0||w._status===-1)&&(w._status=1,w._result=Z)},function(Z){(w._status===0||w._status===-1)&&(w._status=2,w._result=Z)}),w._status===-1&&(w._status=0,w._result=H)}if(w._status===1)return w._result.default;throw w._result}var M=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function V(){}return de.Children={map:z,forEach:function(w,H,Z){z(w,function(){H.apply(this,arguments)},Z)},count:function(w){var H=0;return z(w,function(){H++}),H},toArray:function(w){return z(w,function(H){return H})||[]},only:function(w){if(!te(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},de.Component=O,de.Fragment=u,de.Profiler=d,de.PureComponent=P,de.StrictMode=c,de.Suspense=_,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,de.__COMPILER_RUNTIME={__proto__:null,c:function(w){return L.H.useMemoCache(w)}},de.cache=function(w){return function(){return w.apply(null,arguments)}},de.cloneElement=function(w,H,Z){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Q=T({},w.props),W=w.key,ye=void 0;if(H!=null)for(ne in H.ref!==void 0&&(ye=void 0),H.key!==void 0&&(W=""+H.key),H)!F.call(H,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&H.ref===void 0||(Q[ne]=H[ne]);var ne=arguments.length-2;if(ne===1)Q.children=Z;else if(1<ne){for(var Be=Array(ne),De=0;De<ne;De++)Be[De]=arguments[De+2];Q.children=Be}return se(w.type,W,void 0,void 0,ye,Q)},de.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:i,_context:w},w},de.createElement=function(w,H,Z){var Q,W={},ye=null;if(H!=null)for(Q in H.key!==void 0&&(ye=""+H.key),H)F.call(H,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(W[Q]=H[Q]);var ne=arguments.length-2;if(ne===1)W.children=Z;else if(1<ne){for(var Be=Array(ne),De=0;De<ne;De++)Be[De]=arguments[De+2];W.children=Be}if(w&&w.defaultProps)for(Q in ne=w.defaultProps,ne)W[Q]===void 0&&(W[Q]=ne[Q]);return se(w,ye,void 0,void 0,null,W)},de.createRef=function(){return{current:null}},de.forwardRef=function(w){return{$$typeof:h,render:w}},de.isValidElement=te,de.lazy=function(w){return{$$typeof:m,_payload:{_status:-1,_result:w},_init:D}},de.memo=function(w,H){return{$$typeof:p,type:w,compare:H===void 0?null:H}},de.startTransition=function(w){var H=L.T,Z={};L.T=Z;try{var Q=w(),W=L.S;W!==null&&W(Z,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(V,M)}catch(ye){M(ye)}finally{L.T=H}},de.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},de.use=function(w){return L.H.use(w)},de.useActionState=function(w,H,Z){return L.H.useActionState(w,H,Z)},de.useCallback=function(w,H){return L.H.useCallback(w,H)},de.useContext=function(w){return L.H.useContext(w)},de.useDebugValue=function(){},de.useDeferredValue=function(w,H){return L.H.useDeferredValue(w,H)},de.useEffect=function(w,H,Z){var Q=L.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(w,H)},de.useId=function(){return L.H.useId()},de.useImperativeHandle=function(w,H,Z){return L.H.useImperativeHandle(w,H,Z)},de.useInsertionEffect=function(w,H){return L.H.useInsertionEffect(w,H)},de.useLayoutEffect=function(w,H){return L.H.useLayoutEffect(w,H)},de.useMemo=function(w,H){return L.H.useMemo(w,H)},de.useOptimistic=function(w,H){return L.H.useOptimistic(w,H)},de.useReducer=function(w,H,Z){return L.H.useReducer(w,H,Z)},de.useRef=function(w){return L.H.useRef(w)},de.useState=function(w){return L.H.useState(w)},de.useSyncExternalStore=function(w,H,Z){return L.H.useSyncExternalStore(w,H,Z)},de.useTransition=function(){return L.H.useTransition()},de.version="19.1.1",de}var Kf;function Wi(){return Kf||(Kf=1,ki.exports=I_()),ki.exports}var K=Wi();const W_=K_(K);var Li={exports:{}},In={},Yi={exports:{}},Bi={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf;function ey(){return Pf||(Pf=1,(function(r){function s(z,D){var M=z.length;z.push(D);e:for(;0<M;){var V=M-1>>>1,w=z[V];if(0<d(w,D))z[V]=D,z[M]=w,M=V;else break e}}function u(z){return z.length===0?null:z[0]}function c(z){if(z.length===0)return null;var D=z[0],M=z.pop();if(M!==D){z[0]=M;e:for(var V=0,w=z.length,H=w>>>1;V<H;){var Z=2*(V+1)-1,Q=z[Z],W=Z+1,ye=z[W];if(0>d(Q,M))W<w&&0>d(ye,Q)?(z[V]=ye,z[W]=M,V=W):(z[V]=Q,z[Z]=M,V=Z);else if(W<w&&0>d(ye,M))z[V]=ye,z[W]=M,V=W;else break e}}return D}function d(z,D){var M=z.sortIndex-D.sortIndex;return M!==0?M:z.id-D.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var f=Date,h=f.now();r.unstable_now=function(){return f.now()-h}}var _=[],p=[],m=1,S=null,b=3,R=!1,T=!1,N=!1,O=!1,X=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function I(z){for(var D=u(p);D!==null;){if(D.callback===null)c(p);else if(D.startTime<=z)c(p),D.sortIndex=D.expirationTime,s(_,D);else break;D=u(p)}}function L(z){if(N=!1,I(z),!T)if(u(_)!==null)T=!0,F||(F=!0,ge());else{var D=u(p);D!==null&&_e(L,D.startTime-z)}}var F=!1,se=-1,fe=5,te=-1;function le(){return O?!0:!(r.unstable_now()-te<fe)}function ce(){if(O=!1,F){var z=r.unstable_now();te=z;var D=!0;try{e:{T=!1,N&&(N=!1,P(se),se=-1),R=!0;var M=b;try{t:{for(I(z),S=u(_);S!==null&&!(S.expirationTime>z&&le());){var V=S.callback;if(typeof V=="function"){S.callback=null,b=S.priorityLevel;var w=V(S.expirationTime<=z);if(z=r.unstable_now(),typeof w=="function"){S.callback=w,I(z),D=!0;break t}S===u(_)&&c(_),I(z)}else c(_);S=u(_)}if(S!==null)D=!0;else{var H=u(p);H!==null&&_e(L,H.startTime-z),D=!1}}break e}finally{S=null,b=M,R=!1}D=void 0}}finally{D?ge():F=!1}}}var ge;if(typeof k=="function")ge=function(){k(ce)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,xe=Me.port2;Me.port1.onmessage=ce,ge=function(){xe.postMessage(null)}}else ge=function(){X(ce,0)};function _e(z,D){se=X(function(){z(r.unstable_now())},D)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(z){switch(b){case 1:case 2:case 3:var D=3;break;default:D=b}var M=b;b=D;try{return z()}finally{b=M}},r.unstable_requestPaint=function(){O=!0},r.unstable_runWithPriority=function(z,D){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var M=b;b=z;try{return D()}finally{b=M}},r.unstable_scheduleCallback=function(z,D,M){var V=r.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?V+M:V):M=V,z){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=M+w,z={id:m++,callback:D,priorityLevel:z,startTime:M,expirationTime:w,sortIndex:-1},M>V?(z.sortIndex=M,s(p,z),u(_)===null&&z===u(p)&&(N?(P(se),se=-1):N=!0,_e(L,M-V))):(z.sortIndex=w,s(_,z),T||R||(T=!0,F||(F=!0,ge()))),z},r.unstable_shouldYield=le,r.unstable_wrapCallback=function(z){var D=b;return function(){var M=b;b=D;try{return z.apply(this,arguments)}finally{b=M}}}})(Bi)),Bi}var Jf;function ty(){return Jf||(Jf=1,Yi.exports=ey()),Yi.exports}var Vi={exports:{}},rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function ay(){if(If)return rt;If=1;var r=Wi();function s(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var c={d:{f:u,r:function(){throw Error(s(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},d=Symbol.for("react.portal");function i(_,p,m){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:S==null?null:""+S,children:_,containerInfo:p,implementation:m}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,rt.createPortal=function(_,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(s(299));return i(_,p,null,m)},rt.flushSync=function(_){var p=f.T,m=c.p;try{if(f.T=null,c.p=2,_)return _()}finally{f.T=p,c.p=m,c.d.f()}},rt.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,c.d.C(_,p))},rt.prefetchDNS=function(_){typeof _=="string"&&c.d.D(_)},rt.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var m=p.as,S=h(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?c.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:R}):m==="script"&&c.d.X(_,{crossOrigin:S,integrity:b,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rt.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=h(p.as,p.crossOrigin);c.d.M(_,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&c.d.M(_)},rt.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,S=h(m,p.crossOrigin);c.d.L(_,m,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rt.preloadModule=function(_,p){if(typeof _=="string")if(p){var m=h(p.as,p.crossOrigin);c.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else c.d.m(_)},rt.requestFormReset=function(_){c.d.r(_)},rt.unstable_batchedUpdates=function(_,p){return _(p)},rt.useFormState=function(_,p,m){return f.H.useFormState(_,p,m)},rt.useFormStatus=function(){return f.H.useHostTransitionStatus()},rt.version="19.1.1",rt}var Wf;function ly(){if(Wf)return Vi.exports;Wf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),Vi.exports=ay(),Vi.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function ny(){if(ep)return In;ep=1;var r=ty(),s=Wi(),u=ly();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function i(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(i(e)!==e)throw Error(c(188))}function _(e){var t=e.alternate;if(!t){if(t=i(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var o=n.alternate;if(o===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===a)return h(n),e;if(o===l)return h(n),t;o=o.sibling}throw Error(c(188))}if(a.return!==l.return)a=n,l=o;else{for(var y=!1,g=n.child;g;){if(g===a){y=!0,a=n,l=o;break}if(g===l){y=!0,l=n,a=o;break}g=g.sibling}if(!y){for(g=o.child;g;){if(g===a){y=!0,a=o,l=n;break}if(g===l){y=!0,l=o,a=n;break}g=g.sibling}if(!y)throw Error(c(189))}}if(a.alternate!==l)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),k=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function ge(e){return e===null||typeof e!="object"?null:(e=ce&&e[ce]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Me?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case O:return"Profiler";case N:return"StrictMode";case L:return"Suspense";case F:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case k:return(e.displayName||"Context")+".Provider";case P:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return t=e.displayName||null,t!==null?t:xe(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return xe(e(t))}catch{}}return null}var _e=Array.isArray,z=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},V=[],w=-1;function H(e){return{current:e}}function Z(e){0>w||(e.current=V[w],V[w]=null,w--)}function Q(e,t){w++,V[w]=e.current,e.current=t}var W=H(null),ye=H(null),ne=H(null),Be=H(null);function De(e,t){switch(Q(ne,t),Q(ye,e),Q(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Sf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Sf(t),e=bf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(W),Q(W,e)}function Rt(){Z(W),Z(ye),Z(ne)}function Jl(e){e.memoizedState!==null&&Q(Be,e);var t=W.current,a=bf(t,e.type);t!==a&&(Q(ye,e),Q(W,a))}function Ba(e){ye.current===e&&(Z(W),Z(ye)),Be.current===e&&(Z(Be),Qn._currentValue=M)}var cl=Object.prototype.hasOwnProperty,Il=r.unstable_scheduleCallback,Wl=r.unstable_cancelCallback,wc=r.unstable_shouldYield,Cc=r.unstable_requestPaint,At=r.unstable_now,tr=r.unstable_getCurrentPriorityLevel,ar=r.unstable_ImmediatePriority,lr=r.unstable_UserBlockingPriority,ol=r.unstable_NormalPriority,Rc=r.unstable_LowPriority,en=r.unstable_IdlePriority,nr=r.log,rr=r.unstable_setDisableYieldValue,J=null,ue=null;function ze(e){if(typeof nr=="function"&&rr(e),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(J,e)}catch{}}var je=Math.clz32?Math.clz32:il,pa=Math.log,Zt=Math.LN2;function il(e){return e>>>=0,e===0?32:31-(pa(e)/Zt|0)|0}var ha=256,Ft=4194304;function zt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _a(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,o=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var g=l&134217727;return g!==0?(l=g&~o,l!==0?n=zt(l):(y&=g,y!==0?n=zt(y):a||(a=g&~e,a!==0&&(n=zt(a))))):(g=l&~o,g!==0?n=zt(g):y!==0?n=zt(y):a||(a=l&~e,a!==0&&(n=zt(a)))),n===0?0:t!==0&&t!==n&&(t&o)===0&&(o=n&-n,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:n}function Yt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ht(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ac(){var e=ha;return ha<<=1,(ha&4194048)===0&&(ha=256),e}function cr(){var e=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),e}function Kt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function tn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hp(e,t,a,l,n,o){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var g=e.entanglements,C=e.expirationTimes,E=e.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-je(a),G=1<<Y;g[Y]=0,C[Y]=-1;var U=E[Y];if(U!==null)for(E[Y]=null,Y=0;Y<U.length;Y++){var j=U[Y];j!==null&&(j.lane&=-536870913)}a&=~G}l!==0&&nu(e,l,0),o!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=o&~(y&~t))}function nu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-je(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function ru(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-je(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function xc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:Yf(e.type))}function kp(e,t){var a=D.p;try{return D.p=e,t()}finally{D.p=a}}var ya=Math.random().toString(36).slice(2),lt="__reactFiber$"+ya,it="__reactProps$"+ya,ul="__reactContainer$"+ya,Tc="__reactEvents$"+ya,Lp="__reactListeners$"+ya,Yp="__reactHandles$"+ya,ou="__reactResources$"+ya,an="__reactMarker$"+ya;function qc(e){delete e[lt],delete e[it],delete e[Tc],delete e[Lp],delete e[Yp]}function sl(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[ul]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Af(e);e!==null;){if(a=e[lt])return a;e=Af(e)}return t}e=a,a=e.parentNode}return null}function dl(e){if(e=e[lt]||e[ul]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ln(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function fl(e){var t=e[ou];return t||(t=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[an]=!0}var iu=new Set,uu={};function Va(e,t){pl(e,t),pl(e+"Capture",t)}function pl(e,t){for(uu[e]=t,e=0;e<t.length;e++)iu.add(t[e])}var Bp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),su={},du={};function Vp(e){return cl.call(du,e)?!0:cl.call(su,e)?!1:Bp.test(e)?du[e]=!0:(su[e]=!0,!1)}function or(e,t,a){if(Vp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ir(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Pt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var Ec,fu;function hl(e){if(Ec===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ec=t&&t[1]||"",fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ec+e+fu}var Nc=!1;function Oc(e,t){if(!e||Nc)return"";Nc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(j){var U=j}Reflect.construct(e,[],G)}else{try{G.call()}catch(j){U=j}e.call(G.prototype)}}else{try{throw Error()}catch(j){U=j}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(j){if(j&&U&&typeof j.stack=="string")return[j.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=l.DetermineComponentFrameRoot(),y=o[0],g=o[1];if(y&&g){var C=y.split(`
`),E=g.split(`
`);for(n=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;n<E.length&&!E[n].includes("DetermineComponentFrameRoot");)n++;if(l===C.length||n===E.length)for(l=C.length-1,n=E.length-1;1<=l&&0<=n&&C[l]!==E[n];)n--;for(;1<=l&&0<=n;l--,n--)if(C[l]!==E[n]){if(l!==1||n!==1)do if(l--,n--,0>n||C[l]!==E[n]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=n);break}}}finally{Nc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?hl(a):""}function Gp(e){switch(e.tag){case 26:case 27:case 5:return hl(e.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 15:return Oc(e.type,!1);case 11:return Oc(e.type.render,!1);case 1:return Oc(e.type,!0);case 31:return hl("Activity");default:return""}}function pu(e){try{var t="";do t+=Gp(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $p(e){var t=hu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,o=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(y){l=""+y,o.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ur(e){e._valueTracker||(e._valueTracker=$p(e))}function _u(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=hu(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function sr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xp=/[\n"\\]/g;function Dt(e){return e.replace(Xp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Uc(e,t,a,l,n,o,y,g){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xt(t)):e.value!==""+xt(t)&&(e.value=""+xt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?jc(e,y,xt(t)):a!=null?jc(e,y,xt(a)):l!=null&&e.removeAttribute("value"),n==null&&o!=null&&(e.defaultChecked=!!o),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+xt(g):e.removeAttribute("name")}function yu(e,t,a,l,n,o,y,g){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null))return;a=a!=null?""+xt(a):"",t=t!=null?""+xt(t):a,g||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=g?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function jc(e,t,a){t==="number"&&sr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function _l(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+xt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function mu(e,t,a){if(t!=null&&(t=""+xt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+xt(a):""}function vu(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(c(92));if(_e(l)){if(1<l.length)throw Error(c(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=xt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function yl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Qp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gu(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Qp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Su(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&gu(e,n,l)}else for(var o in t)t.hasOwnProperty(o)&&gu(e,o,t[o])}function Mc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dr(e){return Fp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zc=null;function Hc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ml=null,vl=null;function bu(e){var t=dl(e);if(t&&(e=t.stateNode)){var a=e[it]||null;e:switch(e=t.stateNode,t.type){case"input":if(Uc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[it]||null;if(!n)throw Error(c(90));Uc(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&_u(l)}break e;case"textarea":mu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&_l(e,!!a.multiple,t,!1)}}}var kc=!1;function wu(e,t,a){if(kc)return e(t,a);kc=!0;try{var l=e(t);return l}finally{if(kc=!1,(ml!==null||vl!==null)&&(Pr(),ml&&(t=ml,e=vl,vl=ml=null,bu(t),e)))for(t=0;t<e.length;t++)bu(e[t])}}function nn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[it]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lc=!1;if(Jt)try{var rn={};Object.defineProperty(rn,"passive",{get:function(){Lc=!0}}),window.addEventListener("test",rn,rn),window.removeEventListener("test",rn,rn)}catch{Lc=!1}var ma=null,Yc=null,fr=null;function Cu(){if(fr)return fr;var e,t=Yc,a=t.length,l,n="value"in ma?ma.value:ma.textContent,o=n.length;for(e=0;e<a&&t[e]===n[e];e++);var y=a-e;for(l=1;l<=y&&t[a-l]===n[o-l];l++);return fr=n.slice(e,1<l?1-l:void 0)}function pr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hr(){return!0}function Ru(){return!1}function ut(e){function t(a,l,n,o,y){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=o,this.target=y,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(a=e[g],this[g]=a?a(o):o[g]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?hr:Ru,this.isPropagationStopped=Ru,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),t}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_r=ut(Ga),cn=m({},Ga,{view:0,detail:0}),Kp=ut(cn),Bc,Vc,on,yr=m({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&e.type==="mousemove"?(Bc=e.screenX-on.screenX,Vc=e.screenY-on.screenY):Vc=Bc=0,on=e),Bc)},movementY:function(e){return"movementY"in e?e.movementY:Vc}}),Au=ut(yr),Pp=m({},yr,{dataTransfer:0}),Jp=ut(Pp),Ip=m({},cn,{relatedTarget:0}),Gc=ut(Ip),Wp=m({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),eh=ut(Wp),th=m({},Ga,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ah=ut(th),lh=m({},Ga,{data:0}),xu=ut(lh),nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ch[e])?!!t[e]:!1}function $c(){return oh}var ih=m({},cn,{key:function(e){if(e.key){var t=nh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$c,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uh=ut(ih),sh=m({},yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=ut(sh),dh=m({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$c}),fh=ut(dh),ph=m({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),hh=ut(ph),_h=m({},yr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yh=ut(_h),mh=m({},Ga,{newState:0,oldState:0}),vh=ut(mh),gh=[9,13,27,32],Xc=Jt&&"CompositionEvent"in window,un=null;Jt&&"documentMode"in document&&(un=document.documentMode);var Sh=Jt&&"TextEvent"in window&&!un,Tu=Jt&&(!Xc||un&&8<un&&11>=un),qu=" ",Eu=!1;function Nu(e,t){switch(e){case"keyup":return gh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gl=!1;function bh(e,t){switch(e){case"compositionend":return Ou(t);case"keypress":return t.which!==32?null:(Eu=!0,qu);case"textInput":return e=t.data,e===qu&&Eu?null:e;default:return null}}function wh(e,t){if(gl)return e==="compositionend"||!Xc&&Nu(e,t)?(e=Cu(),fr=Yc=ma=null,gl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tu&&t.locale!=="ko"?null:t.data;default:return null}}var Ch={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ch[e.type]:t==="textarea"}function ju(e,t,a,l){ml?vl?vl.push(l):vl=[l]:ml=l,t=ac(t,"onChange"),0<t.length&&(a=new _r("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var sn=null,dn=null;function Rh(e){_f(e,0)}function mr(e){var t=ln(e);if(_u(t))return e}function Mu(e,t){if(e==="change")return t}var zu=!1;if(Jt){var Qc;if(Jt){var Zc="oninput"in document;if(!Zc){var Hu=document.createElement("div");Hu.setAttribute("oninput","return;"),Zc=typeof Hu.oninput=="function"}Qc=Zc}else Qc=!1;zu=Qc&&(!document.documentMode||9<document.documentMode)}function ku(){sn&&(sn.detachEvent("onpropertychange",Lu),dn=sn=null)}function Lu(e){if(e.propertyName==="value"&&mr(dn)){var t=[];ju(t,dn,e,Hc(e)),wu(Rh,t)}}function Ah(e,t,a){e==="focusin"?(ku(),sn=t,dn=a,sn.attachEvent("onpropertychange",Lu)):e==="focusout"&&ku()}function xh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mr(dn)}function Dh(e,t){if(e==="click")return mr(t)}function Th(e,t){if(e==="input"||e==="change")return mr(t)}function qh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:qh;function fn(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!cl.call(t,n)||!_t(e[n],t[n]))return!1}return!0}function Yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bu(e,t){var a=Yu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yu(a)}}function Vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=sr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=sr(e.document)}return t}function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Eh=Jt&&"documentMode"in document&&11>=document.documentMode,Sl=null,Kc=null,pn=null,Pc=!1;function $u(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pc||Sl==null||Sl!==sr(l)||(l=Sl,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pn&&fn(pn,l)||(pn=l,l=ac(Kc,"onSelect"),0<l.length&&(t=new _r("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=Sl)))}function $a(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var bl={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Jc={},Xu={};Jt&&(Xu=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function Xa(e){if(Jc[e])return Jc[e];if(!bl[e])return e;var t=bl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Xu)return Jc[e]=t[a];return e}var Qu=Xa("animationend"),Zu=Xa("animationiteration"),Fu=Xa("animationstart"),Nh=Xa("transitionrun"),Oh=Xa("transitionstart"),Uh=Xa("transitioncancel"),Ku=Xa("transitionend"),Pu=new Map,Ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ic.push("scrollEnd");function Ht(e,t){Pu.set(e,t),Va(t,[e])}var Ju=new WeakMap;function Tt(e,t){if(typeof e=="object"&&e!==null){var a=Ju.get(e);return a!==void 0?a:(t={value:e,source:t,stack:pu(t)},Ju.set(e,t),t)}return{value:e,source:t,stack:pu(t)}}var qt=[],wl=0,Wc=0;function vr(){for(var e=wl,t=Wc=wl=0;t<e;){var a=qt[t];qt[t++]=null;var l=qt[t];qt[t++]=null;var n=qt[t];qt[t++]=null;var o=qt[t];if(qt[t++]=null,l!==null&&n!==null){var y=l.pending;y===null?n.next=n:(n.next=y.next,y.next=n),l.pending=n}o!==0&&Iu(a,n,o)}}function gr(e,t,a,l){qt[wl++]=e,qt[wl++]=t,qt[wl++]=a,qt[wl++]=l,Wc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function eo(e,t,a,l){return gr(e,t,a,l),Sr(e)}function Cl(e,t){return gr(e,null,null,t),Sr(e)}function Iu(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,o=e.return;o!==null;)o.childLanes|=a,l=o.alternate,l!==null&&(l.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(n=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,n&&t!==null&&(n=31-je(a),e=o.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),o):null}function Sr(e){if(50<kn)throw kn=0,oi=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Rl={};function jh(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,a,l){return new jh(e,t,a,l)}function to(e){return e=e.prototype,!(!e||!e.isReactComponent)}function It(e,t){var a=e.alternate;return a===null?(a=yt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Wu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function br(e,t,a,l,n,o){var y=0;if(l=e,typeof e=="function")to(e)&&(y=1);else if(typeof e=="string")y=z_(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=yt(31,a,t,n),e.elementType=te,e.lanes=o,e;case T:return Qa(a.children,n,o,t);case N:y=8,n|=24;break;case O:return e=yt(12,a,t,n|2),e.elementType=O,e.lanes=o,e;case L:return e=yt(13,a,t,n),e.elementType=L,e.lanes=o,e;case F:return e=yt(19,a,t,n),e.elementType=F,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:case k:y=10;break e;case P:y=9;break e;case I:y=11;break e;case se:y=14;break e;case fe:y=16,l=null;break e}y=29,a=Error(c(130,e===null?"null":typeof e,"")),l=null}return t=yt(y,a,t,n),t.elementType=e,t.type=l,t.lanes=o,t}function Qa(e,t,a,l){return e=yt(7,e,l,t),e.lanes=a,e}function ao(e,t,a){return e=yt(6,e,null,t),e.lanes=a,e}function lo(e,t,a){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Al=[],xl=0,wr=null,Cr=0,Et=[],Nt=0,Za=null,Wt=1,ea="";function Fa(e,t){Al[xl++]=Cr,Al[xl++]=wr,wr=e,Cr=t}function es(e,t,a){Et[Nt++]=Wt,Et[Nt++]=ea,Et[Nt++]=Za,Za=e;var l=Wt;e=ea;var n=32-je(l)-1;l&=~(1<<n),a+=1;var o=32-je(t)+n;if(30<o){var y=n-n%5;o=(l&(1<<y)-1).toString(32),l>>=y,n-=y,Wt=1<<32-je(t)+n|a<<n|l,ea=o+e}else Wt=1<<o|a<<n|l,ea=e}function no(e){e.return!==null&&(Fa(e,1),es(e,1,0))}function ro(e){for(;e===wr;)wr=Al[--xl],Al[xl]=null,Cr=Al[--xl],Al[xl]=null;for(;e===Za;)Za=Et[--Nt],Et[Nt]=null,ea=Et[--Nt],Et[Nt]=null,Wt=Et[--Nt],Et[Nt]=null}var ct=null,Le=null,we=!1,Ka=null,Bt=!1,co=Error(c(519));function Pa(e){var t=Error(c(418,""));throw yn(Tt(t,e)),co}function ts(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[lt]=e,t[it]=l,a){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(a=0;a<Yn.length;a++)ve(Yn[a],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),yu(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ur(t);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),vu(t,l.value,l.defaultValue,l.children),ur(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||gf(t.textContent,a)?(l.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),l.onScroll!=null&&ve("scroll",t),l.onScrollEnd!=null&&ve("scrollend",t),l.onClick!=null&&(t.onclick=lc),t=!0):t=!1,t||Pa(e)}function as(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:ct=ct.return}}function hn(e){if(e!==ct)return!1;if(!we)return as(e),we=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ci(e.type,e.memoizedProps)),a=!a),a&&Le&&Pa(e),as(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Le=Lt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Le=null}}else t===27?(t=Le,Ua(e.type)?(e=Di,Di=null,Le=e):Le=t):Le=ct?Lt(e.stateNode.nextSibling):null;return!0}function _n(){Le=ct=null,we=!1}function ls(){var e=Ka;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),Ka=null),e}function yn(e){Ka===null?Ka=[e]:Ka.push(e)}var oo=H(null),Ja=null,ta=null;function va(e,t,a){Q(oo,t._currentValue),t._currentValue=a}function aa(e){e._currentValue=oo.current,Z(oo)}function io(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function uo(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var o=n.dependencies;if(o!==null){var y=n.child;o=o.firstContext;e:for(;o!==null;){var g=o;o=n;for(var C=0;C<t.length;C++)if(g.context===t[C]){o.lanes|=a,g=o.alternate,g!==null&&(g.lanes|=a),io(o.return,a,e),l||(y=null);break e}o=g.next}}else if(n.tag===18){if(y=n.return,y===null)throw Error(c(341));y.lanes|=a,o=y.alternate,o!==null&&(o.lanes|=a),io(y,a,e),y=null}else y=n.child;if(y!==null)y.return=n;else for(y=n;y!==null;){if(y===e){y=null;break}if(n=y.sibling,n!==null){n.return=y.return,y=n;break}y=y.return}n=y}}function mn(e,t,a,l){e=null;for(var n=t,o=!1;n!==null;){if(!o){if((n.flags&524288)!==0)o=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var y=n.alternate;if(y===null)throw Error(c(387));if(y=y.memoizedProps,y!==null){var g=n.type;_t(n.pendingProps.value,y.value)||(e!==null?e.push(g):e=[g])}}else if(n===Be.current){if(y=n.alternate,y===null)throw Error(c(387));y.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Qn):e=[Qn])}n=n.return}e!==null&&uo(t,e,a,l),t.flags|=262144}function Rr(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){Ja=e,ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return ns(Ja,e)}function Ar(e,t){return Ja===null&&Ia(e),ns(e,t)}function ns(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ta===null){if(e===null)throw Error(c(308));ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ta=ta.next=t;return a}var Mh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},zh=r.unstable_scheduleCallback,Hh=r.unstable_NormalPriority,Ze={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function so(){return{controller:new Mh,data:new Map,refCount:0}}function vn(e){e.refCount--,e.refCount===0&&zh(Hh,function(){e.controller.abort()})}var gn=null,fo=0,Dl=0,Tl=null;function kh(e,t){if(gn===null){var a=gn=[];fo=0,Dl=hi(),Tl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return fo++,t.then(rs,rs),t}function rs(){if(--fo===0&&gn!==null){Tl!==null&&(Tl.status="fulfilled");var e=gn;gn=null,Dl=0,Tl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Lh(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var cs=z.S;z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&kh(e,t),cs!==null&&cs(e,t)};var Wa=H(null);function po(){var e=Wa.current;return e!==null?e:Ue.pooledCache}function xr(e,t){t===null?Q(Wa,Wa.current):Q(Wa,t.pool)}function os(){var e=po();return e===null?null:{parent:Ze._currentValue,pool:e}}var Sn=Error(c(460)),is=Error(c(474)),Dr=Error(c(542)),ho={then:function(){}};function us(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tr(){}function ss(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Tr,Tr),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fs(e),e;default:if(typeof t.status=="string")t.then(Tr,Tr);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,fs(e),e}throw bn=t,Sn}}var bn=null;function ds(){if(bn===null)throw Error(c(459));var e=bn;return bn=null,e}function fs(e){if(e===Sn||e===Dr)throw Error(c(483))}var ga=!1;function _o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=Sr(e),Iu(e,null,a),t}return gr(e,l,t,a),Sr(e)}function wn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,ru(e,a)}}function mo(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?n=o=y:o=o.next=y,a=a.next}while(a!==null);o===null?n=o=t:o=o.next=t}else n=o=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var vo=!1;function Cn(){if(vo){var e=Tl;if(e!==null)throw e}}function Rn(e,t,a,l){vo=!1;var n=e.updateQueue;ga=!1;var o=n.firstBaseUpdate,y=n.lastBaseUpdate,g=n.shared.pending;if(g!==null){n.shared.pending=null;var C=g,E=C.next;C.next=null,y===null?o=E:y.next=E,y=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,g=Y.lastBaseUpdate,g!==y&&(g===null?Y.firstBaseUpdate=E:g.next=E,Y.lastBaseUpdate=C))}if(o!==null){var G=n.baseState;y=0,Y=E=C=null,g=o;do{var U=g.lane&-536870913,j=U!==g.lane;if(j?(Se&U)===U:(l&U)===U){U!==0&&U===Dl&&(vo=!0),Y!==null&&(Y=Y.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var ie=e,re=g;U=t;var Ee=a;switch(re.tag){case 1:if(ie=re.payload,typeof ie=="function"){G=ie.call(Ee,G,U);break e}G=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=re.payload,U=typeof ie=="function"?ie.call(Ee,G,U):ie,U==null)break e;G=m({},G,U);break e;case 2:ga=!0}}U=g.callback,U!==null&&(e.flags|=64,j&&(e.flags|=8192),j=n.callbacks,j===null?n.callbacks=[U]:j.push(U))}else j={lane:U,tag:g.tag,payload:g.payload,callback:g.callback,next:null},Y===null?(E=Y=j,C=G):Y=Y.next=j,y|=U;if(g=g.next,g===null){if(g=n.shared.pending,g===null)break;j=g,g=j.next,j.next=null,n.lastBaseUpdate=j,n.shared.pending=null}}while(!0);Y===null&&(C=G),n.baseState=C,n.firstBaseUpdate=E,n.lastBaseUpdate=Y,o===null&&(n.shared.lanes=0),qa|=y,e.lanes=y,e.memoizedState=G}}function ps(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function hs(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ps(a[e],t)}var ql=H(null),qr=H(0);function _s(e,t){e=ua,Q(qr,e),Q(ql,t),ua=e|t.baseLanes}function go(){Q(qr,ua),Q(ql,ql.current)}function So(){ua=qr.current,Z(ql),Z(qr)}var wa=0,pe=null,Te=null,$e=null,Er=!1,El=!1,el=!1,Nr=0,An=0,Nl=null,Yh=0;function Ve(){throw Error(c(321))}function bo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!_t(e[a],t[a]))return!1;return!0}function wo(e,t,a,l,n,o){return wa=o,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,z.H=e===null||e.memoizedState===null?Is:Ws,el=!1,o=a(l,n),el=!1,El&&(o=ms(t,a,l,n)),ys(e),o}function ys(e){z.H=Hr;var t=Te!==null&&Te.next!==null;if(wa=0,$e=Te=pe=null,Er=!1,An=0,Nl=null,t)throw Error(c(300));e===null||Pe||(e=e.dependencies,e!==null&&Rr(e)&&(Pe=!0))}function ms(e,t,a,l){pe=e;var n=0;do{if(El&&(Nl=null),An=0,El=!1,25<=n)throw Error(c(301));if(n+=1,$e=Te=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}z.H=Zh,o=t(a,l)}while(El);return o}function Bh(){var e=z.H,t=e.useState()[0];return t=typeof t.then=="function"?xn(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(pe.flags|=1024),t}function Co(){var e=Nr!==0;return Nr=0,e}function Ro(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ao(e){if(Er){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Er=!1}wa=0,$e=Te=pe=null,El=!1,An=Nr=0,Nl=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?pe.memoizedState=$e=e:$e=$e.next=e,$e}function Xe(){if(Te===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=$e===null?pe.memoizedState:$e.next;if(t!==null)$e=t,Te=e;else{if(e===null)throw pe.alternate===null?Error(c(467)):Error(c(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},$e===null?pe.memoizedState=$e=e:$e=$e.next=e}return $e}function xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xn(e){var t=An;return An+=1,Nl===null&&(Nl=[]),e=ss(Nl,e,t),t=pe,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,z.H=t===null||t.memoizedState===null?Is:Ws),e}function Or(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xn(e);if(e.$$typeof===k)return nt(e)}throw Error(c(438,String(e)))}function Do(e){var t=null,a=pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=xo(),pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=le;return t.index++,a}function la(e,t){return typeof t=="function"?t(e):t}function Ur(e){var t=Xe();return To(t,Te,e)}function To(e,t,a){var l=e.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=a;var n=e.baseQueue,o=l.pending;if(o!==null){if(n!==null){var y=n.next;n.next=o.next,o.next=y}t.baseQueue=n=o,l.pending=null}if(o=e.baseState,n===null)e.memoizedState=o;else{t=n.next;var g=y=null,C=null,E=t,Y=!1;do{var G=E.lane&-536870913;if(G!==E.lane?(Se&G)===G:(wa&G)===G){var U=E.revertLane;if(U===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null}),G===Dl&&(Y=!0);else if((wa&U)===U){E=E.next,U===Dl&&(Y=!0);continue}else G={lane:0,revertLane:E.revertLane,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},C===null?(g=C=G,y=o):C=C.next=G,pe.lanes|=U,qa|=U;G=E.action,el&&a(o,G),o=E.hasEagerState?E.eagerState:a(o,G)}else U={lane:G,revertLane:E.revertLane,action:E.action,hasEagerState:E.hasEagerState,eagerState:E.eagerState,next:null},C===null?(g=C=U,y=o):C=C.next=U,pe.lanes|=G,qa|=G;E=E.next}while(E!==null&&E!==t);if(C===null?y=o:C.next=g,!_t(o,e.memoizedState)&&(Pe=!0,Y&&(a=Tl,a!==null)))throw a;e.memoizedState=o,e.baseState=y,e.baseQueue=C,l.lastRenderedState=o}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function qo(e){var t=Xe(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,o=t.memoizedState;if(n!==null){a.pending=null;var y=n=n.next;do o=e(o,y.action),y=y.next;while(y!==n);_t(o,t.memoizedState)||(Pe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,l]}function vs(e,t,a){var l=pe,n=Xe(),o=we;if(o){if(a===void 0)throw Error(c(407));a=a()}else a=t();var y=!_t((Te||n).memoizedState,a);y&&(n.memoizedState=a,Pe=!0),n=n.queue;var g=bs.bind(null,l,n,e);if(Dn(2048,8,g,[e]),n.getSnapshot!==t||y||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,Ol(9,jr(),Ss.bind(null,l,n,a,t),null),Ue===null)throw Error(c(349));o||(wa&124)!==0||gs(l,t,a)}return a}function gs(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pe.updateQueue,t===null?(t=xo(),pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ss(e,t,a,l){t.value=a,t.getSnapshot=l,ws(t)&&Cs(e)}function bs(e,t,a){return a(function(){ws(t)&&Cs(e)})}function ws(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!_t(e,a)}catch{return!0}}function Cs(e){var t=Cl(e,2);t!==null&&bt(t,e,2)}function Eo(e){var t=st();if(typeof e=="function"){var a=e;if(e=a(),el){ze(!0);try{a()}finally{ze(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function Rs(e,t,a,l){return e.baseState=a,To(e,Te,typeof l=="function"?l:la)}function Vh(e,t,a,l,n){if(zr(e))throw Error(c(485));if(e=t.action,e!==null){var o={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){o.listeners.push(y)}};z.T!==null?a(!0):o.isTransition=!1,l(o),a=t.pending,a===null?(o.next=t.pending=o,As(t,o)):(o.next=a.next,t.pending=a.next=o)}}function As(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var o=z.T,y={};z.T=y;try{var g=a(n,l),C=z.S;C!==null&&C(y,g),xs(e,t,g)}catch(E){No(e,t,E)}finally{z.T=o}}else try{o=a(n,l),xs(e,t,o)}catch(E){No(e,t,E)}}function xs(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ds(e,t,l)},function(l){return No(e,t,l)}):Ds(e,t,a)}function Ds(e,t,a){t.status="fulfilled",t.value=a,Ts(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,As(e,a)))}function No(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Ts(t),t=t.next;while(t!==l)}e.action=null}function Ts(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function qs(e,t){return t}function Es(e,t){if(we){var a=Ue.formState;if(a!==null){e:{var l=pe;if(we){if(Le){t:{for(var n=Le,o=Bt;n.nodeType!==8;){if(!o){n=null;break t}if(n=Lt(n.nextSibling),n===null){n=null;break t}}o=n.data,n=o==="F!"||o==="F"?n:null}if(n){Le=Lt(n.nextSibling),l=n.data==="F!";break e}}Pa(l)}l=!1}l&&(t=a[0])}}return a=st(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:t},a.queue=l,a=Ks.bind(null,pe,l),l.dispatch=a,l=Eo(!1),o=zo.bind(null,pe,!1,l.queue),l=st(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Vh.bind(null,pe,n,o,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function Ns(e){var t=Xe();return Os(t,Te,e)}function Os(e,t,a){if(t=To(e,t,qs)[0],e=Ur(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=xn(t)}catch(y){throw y===Sn?Dr:y}else l=t;t=Xe();var n=t.queue,o=n.dispatch;return a!==t.memoizedState&&(pe.flags|=2048,Ol(9,jr(),Gh.bind(null,n,a),null)),[l,o,e]}function Gh(e,t){e.action=t}function Us(e){var t=Xe(),a=Te;if(a!==null)return Os(t,a,e);Xe(),t=t.memoizedState,a=Xe();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Ol(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=pe.updateQueue,t===null&&(t=xo(),pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function jr(){return{destroy:void 0,resource:void 0}}function js(){return Xe().memoizedState}function Mr(e,t,a,l){var n=st();l=l===void 0?null:l,pe.flags|=e,n.memoizedState=Ol(1|t,jr(),a,l)}function Dn(e,t,a,l){var n=Xe();l=l===void 0?null:l;var o=n.memoizedState.inst;Te!==null&&l!==null&&bo(l,Te.memoizedState.deps)?n.memoizedState=Ol(t,o,a,l):(pe.flags|=e,n.memoizedState=Ol(1|t,o,a,l))}function Ms(e,t){Mr(8390656,8,e,t)}function zs(e,t){Dn(2048,8,e,t)}function Hs(e,t){return Dn(4,2,e,t)}function ks(e,t){return Dn(4,4,e,t)}function Ls(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ys(e,t,a){a=a!=null?a.concat([e]):null,Dn(4,4,Ls.bind(null,t,e),a)}function Oo(){}function Bs(e,t){var a=Xe();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&bo(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Vs(e,t){var a=Xe();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&bo(t,l[1]))return l[0];if(l=e(),el){ze(!0);try{e()}finally{ze(!1)}}return a.memoizedState=[l,t],l}function Uo(e,t,a){return a===void 0||(wa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Xd(),pe.lanes|=e,qa|=e,a)}function Gs(e,t,a,l){return _t(a,t)?a:ql.current!==null?(e=Uo(e,a,l),_t(e,t)||(Pe=!0),e):(wa&42)===0?(Pe=!0,e.memoizedState=a):(e=Xd(),pe.lanes|=e,qa|=e,t)}function $s(e,t,a,l,n){var o=D.p;D.p=o!==0&&8>o?o:8;var y=z.T,g={};z.T=g,zo(e,!1,t,a);try{var C=n(),E=z.S;if(E!==null&&E(g,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=Lh(C,l);Tn(e,t,Y,St(e))}else Tn(e,t,l,St(e))}catch(G){Tn(e,t,{then:function(){},status:"rejected",reason:G},St())}finally{D.p=o,z.T=y}}function $h(){}function jo(e,t,a,l){if(e.tag!==5)throw Error(c(476));var n=Xs(e).queue;$s(e,n,t,M,a===null?$h:function(){return Qs(e),a(l)})}function Xs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:M},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qs(e){var t=Xs(e).next.queue;Tn(e,t,{},St())}function Mo(){return nt(Qn)}function Zs(){return Xe().memoizedState}function Fs(){return Xe().memoizedState}function Xh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=St();e=Sa(a);var l=ba(t,e,a);l!==null&&(bt(l,t,a),wn(l,t,a)),t={cache:so()},e.payload=t;return}t=t.return}}function Qh(e,t,a){var l=St();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zr(e)?Ps(t,a):(a=eo(e,t,a,l),a!==null&&(bt(a,e,l),Js(a,t,l)))}function Ks(e,t,a){var l=St();Tn(e,t,a,l)}function Tn(e,t,a,l){var n={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zr(e))Ps(t,n);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var y=t.lastRenderedState,g=o(y,a);if(n.hasEagerState=!0,n.eagerState=g,_t(g,y))return gr(e,t,n,0),Ue===null&&vr(),!1}catch{}finally{}if(a=eo(e,t,n,l),a!==null)return bt(a,e,l),Js(a,t,l),!0}return!1}function zo(e,t,a,l){if(l={lane:2,revertLane:hi(),action:l,hasEagerState:!1,eagerState:null,next:null},zr(e)){if(t)throw Error(c(479))}else t=eo(e,a,l,2),t!==null&&bt(t,e,2)}function zr(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Ps(e,t){El=Er=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Js(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,ru(e,a)}}var Hr={readContext:nt,use:Or,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve},Is={readContext:nt,use:Or,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:Ms,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Mr(4194308,4,Ls.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Mr(4194308,4,e,t)},useInsertionEffect:function(e,t){Mr(4,2,e,t)},useMemo:function(e,t){var a=st();t=t===void 0?null:t;var l=e();if(el){ze(!0);try{e()}finally{ze(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=st();if(a!==void 0){var n=a(t);if(el){ze(!0);try{a(t)}finally{ze(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Qh.bind(null,pe,e),[l.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:function(e){e=Eo(e);var t=e.queue,a=Ks.bind(null,pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Oo,useDeferredValue:function(e,t){var a=st();return Uo(a,e,t)},useTransition:function(){var e=Eo(!1);return e=$s.bind(null,pe,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=pe,n=st();if(we){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),Ue===null)throw Error(c(349));(Se&124)!==0||gs(l,t,a)}n.memoizedState=a;var o={value:a,getSnapshot:t};return n.queue=o,Ms(bs.bind(null,l,o,e),[e]),l.flags|=2048,Ol(9,jr(),Ss.bind(null,l,o,a,t),null),a},useId:function(){var e=st(),t=Ue.identifierPrefix;if(we){var a=ea,l=Wt;a=(l&~(1<<32-je(l)-1)).toString(32)+a,t="«"+t+"R"+a,a=Nr++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Yh++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:Es,useActionState:Es,useOptimistic:function(e){var t=st();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=zo.bind(null,pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Do,useCacheRefresh:function(){return st().memoizedState=Xh.bind(null,pe)}},Ws={readContext:nt,use:Or,useCallback:Bs,useContext:nt,useEffect:zs,useImperativeHandle:Ys,useInsertionEffect:Hs,useLayoutEffect:ks,useMemo:Vs,useReducer:Ur,useRef:js,useState:function(){return Ur(la)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=Xe();return Gs(a,Te.memoizedState,e,t)},useTransition:function(){var e=Ur(la)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:xn(e),t]},useSyncExternalStore:vs,useId:Zs,useHostTransitionStatus:Mo,useFormState:Ns,useActionState:Ns,useOptimistic:function(e,t){var a=Xe();return Rs(a,Te,e,t)},useMemoCache:Do,useCacheRefresh:Fs},Zh={readContext:nt,use:Or,useCallback:Bs,useContext:nt,useEffect:zs,useImperativeHandle:Ys,useInsertionEffect:Hs,useLayoutEffect:ks,useMemo:Vs,useReducer:qo,useRef:js,useState:function(){return qo(la)},useDebugValue:Oo,useDeferredValue:function(e,t){var a=Xe();return Te===null?Uo(a,e,t):Gs(a,Te.memoizedState,e,t)},useTransition:function(){var e=qo(la)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:xn(e),t]},useSyncExternalStore:vs,useId:Zs,useHostTransitionStatus:Mo,useFormState:Us,useActionState:Us,useOptimistic:function(e,t){var a=Xe();return Te!==null?Rs(a,Te,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Do,useCacheRefresh:Fs},Ul=null,qn=0;function kr(e){var t=qn;return qn+=1,Ul===null&&(Ul=[]),ss(Ul,e,t)}function En(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Lr(e,t){throw t.$$typeof===S?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ed(e){var t=e._init;return t(e._payload)}function td(e){function t(x,A){if(e){var q=x.deletions;q===null?(x.deletions=[A],x.flags|=16):q.push(A)}}function a(x,A){if(!e)return null;for(;A!==null;)t(x,A),A=A.sibling;return null}function l(x){for(var A=new Map;x!==null;)x.key!==null?A.set(x.key,x):A.set(x.index,x),x=x.sibling;return A}function n(x,A){return x=It(x,A),x.index=0,x.sibling=null,x}function o(x,A,q){return x.index=q,e?(q=x.alternate,q!==null?(q=q.index,q<A?(x.flags|=67108866,A):q):(x.flags|=67108866,A)):(x.flags|=1048576,A)}function y(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function g(x,A,q,B){return A===null||A.tag!==6?(A=ao(q,x.mode,B),A.return=x,A):(A=n(A,q),A.return=x,A)}function C(x,A,q,B){var ee=q.type;return ee===T?Y(x,A,q.props.children,B,q.key):A!==null&&(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&ed(ee)===A.type)?(A=n(A,q.props),En(A,q),A.return=x,A):(A=br(q.type,q.key,q.props,null,x.mode,B),En(A,q),A.return=x,A)}function E(x,A,q,B){return A===null||A.tag!==4||A.stateNode.containerInfo!==q.containerInfo||A.stateNode.implementation!==q.implementation?(A=lo(q,x.mode,B),A.return=x,A):(A=n(A,q.children||[]),A.return=x,A)}function Y(x,A,q,B,ee){return A===null||A.tag!==7?(A=Qa(q,x.mode,B,ee),A.return=x,A):(A=n(A,q),A.return=x,A)}function G(x,A,q){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=ao(""+A,x.mode,q),A.return=x,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return q=br(A.type,A.key,A.props,null,x.mode,q),En(q,A),q.return=x,q;case R:return A=lo(A,x.mode,q),A.return=x,A;case fe:var B=A._init;return A=B(A._payload),G(x,A,q)}if(_e(A)||ge(A))return A=Qa(A,x.mode,q,null),A.return=x,A;if(typeof A.then=="function")return G(x,kr(A),q);if(A.$$typeof===k)return G(x,Ar(x,A),q);Lr(x,A)}return null}function U(x,A,q,B){var ee=A!==null?A.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ee!==null?null:g(x,A,""+q,B);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===ee?C(x,A,q,B):null;case R:return q.key===ee?E(x,A,q,B):null;case fe:return ee=q._init,q=ee(q._payload),U(x,A,q,B)}if(_e(q)||ge(q))return ee!==null?null:Y(x,A,q,B,null);if(typeof q.then=="function")return U(x,A,kr(q),B);if(q.$$typeof===k)return U(x,A,Ar(x,q),B);Lr(x,q)}return null}function j(x,A,q,B,ee){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return x=x.get(q)||null,g(A,x,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return x=x.get(B.key===null?q:B.key)||null,C(A,x,B,ee);case R:return x=x.get(B.key===null?q:B.key)||null,E(A,x,B,ee);case fe:var he=B._init;return B=he(B._payload),j(x,A,q,B,ee)}if(_e(B)||ge(B))return x=x.get(q)||null,Y(A,x,B,ee,null);if(typeof B.then=="function")return j(x,A,q,kr(B),ee);if(B.$$typeof===k)return j(x,A,q,Ar(A,B),ee);Lr(A,B)}return null}function ie(x,A,q,B){for(var ee=null,he=null,ae=A,oe=A=0,Ie=null;ae!==null&&oe<q.length;oe++){ae.index>oe?(Ie=ae,ae=null):Ie=ae.sibling;var be=U(x,ae,q[oe],B);if(be===null){ae===null&&(ae=Ie);break}e&&ae&&be.alternate===null&&t(x,ae),A=o(be,A,oe),he===null?ee=be:he.sibling=be,he=be,ae=Ie}if(oe===q.length)return a(x,ae),we&&Fa(x,oe),ee;if(ae===null){for(;oe<q.length;oe++)ae=G(x,q[oe],B),ae!==null&&(A=o(ae,A,oe),he===null?ee=ae:he.sibling=ae,he=ae);return we&&Fa(x,oe),ee}for(ae=l(ae);oe<q.length;oe++)Ie=j(ae,x,oe,q[oe],B),Ie!==null&&(e&&Ie.alternate!==null&&ae.delete(Ie.key===null?oe:Ie.key),A=o(Ie,A,oe),he===null?ee=Ie:he.sibling=Ie,he=Ie);return e&&ae.forEach(function(ka){return t(x,ka)}),we&&Fa(x,oe),ee}function re(x,A,q,B){if(q==null)throw Error(c(151));for(var ee=null,he=null,ae=A,oe=A=0,Ie=null,be=q.next();ae!==null&&!be.done;oe++,be=q.next()){ae.index>oe?(Ie=ae,ae=null):Ie=ae.sibling;var ka=U(x,ae,be.value,B);if(ka===null){ae===null&&(ae=Ie);break}e&&ae&&ka.alternate===null&&t(x,ae),A=o(ka,A,oe),he===null?ee=ka:he.sibling=ka,he=ka,ae=Ie}if(be.done)return a(x,ae),we&&Fa(x,oe),ee;if(ae===null){for(;!be.done;oe++,be=q.next())be=G(x,be.value,B),be!==null&&(A=o(be,A,oe),he===null?ee=be:he.sibling=be,he=be);return we&&Fa(x,oe),ee}for(ae=l(ae);!be.done;oe++,be=q.next())be=j(ae,x,oe,be.value,B),be!==null&&(e&&be.alternate!==null&&ae.delete(be.key===null?oe:be.key),A=o(be,A,oe),he===null?ee=be:he.sibling=be,he=be);return e&&ae.forEach(function(F_){return t(x,F_)}),we&&Fa(x,oe),ee}function Ee(x,A,q,B){if(typeof q=="object"&&q!==null&&q.type===T&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:e:{for(var ee=q.key;A!==null;){if(A.key===ee){if(ee=q.type,ee===T){if(A.tag===7){a(x,A.sibling),B=n(A,q.props.children),B.return=x,x=B;break e}}else if(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&ed(ee)===A.type){a(x,A.sibling),B=n(A,q.props),En(B,q),B.return=x,x=B;break e}a(x,A);break}else t(x,A);A=A.sibling}q.type===T?(B=Qa(q.props.children,x.mode,B,q.key),B.return=x,x=B):(B=br(q.type,q.key,q.props,null,x.mode,B),En(B,q),B.return=x,x=B)}return y(x);case R:e:{for(ee=q.key;A!==null;){if(A.key===ee)if(A.tag===4&&A.stateNode.containerInfo===q.containerInfo&&A.stateNode.implementation===q.implementation){a(x,A.sibling),B=n(A,q.children||[]),B.return=x,x=B;break e}else{a(x,A);break}else t(x,A);A=A.sibling}B=lo(q,x.mode,B),B.return=x,x=B}return y(x);case fe:return ee=q._init,q=ee(q._payload),Ee(x,A,q,B)}if(_e(q))return ie(x,A,q,B);if(ge(q)){if(ee=ge(q),typeof ee!="function")throw Error(c(150));return q=ee.call(q),re(x,A,q,B)}if(typeof q.then=="function")return Ee(x,A,kr(q),B);if(q.$$typeof===k)return Ee(x,A,Ar(x,q),B);Lr(x,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,A!==null&&A.tag===6?(a(x,A.sibling),B=n(A,q),B.return=x,x=B):(a(x,A),B=ao(q,x.mode,B),B.return=x,x=B),y(x)):a(x,A)}return function(x,A,q,B){try{qn=0;var ee=Ee(x,A,q,B);return Ul=null,ee}catch(ae){if(ae===Sn||ae===Dr)throw ae;var he=yt(29,ae,null,x.mode);return he.lanes=B,he.return=x,he}finally{}}}var jl=td(!0),ad=td(!1),Ot=H(null),Vt=null;function Ca(e){var t=e.alternate;Q(Fe,Fe.current&1),Q(Ot,e),Vt===null&&(t===null||ql.current!==null||t.memoizedState!==null)&&(Vt=e)}function ld(e){if(e.tag===22){if(Q(Fe,Fe.current),Q(Ot,e),Vt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Vt=e)}}else Ra()}function Ra(){Q(Fe,Fe.current),Q(Ot,Ot.current)}function na(e){Z(Ot),Vt===e&&(Vt=null),Z(Fe)}var Fe=H(0);function Yr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||xi(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ho(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:m({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ko={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=St(),n=Sa(l);n.payload=t,a!=null&&(n.callback=a),t=ba(e,n,l),t!==null&&(bt(t,e,l),wn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=St(),n=Sa(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ba(e,n,l),t!==null&&(bt(t,e,l),wn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=St(),l=Sa(a);l.tag=2,t!=null&&(l.callback=t),t=ba(e,l,a),t!==null&&(bt(t,e,a),wn(t,e,a))}};function nd(e,t,a,l,n,o,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,o,y):t.prototype&&t.prototype.isPureReactComponent?!fn(a,l)||!fn(n,o):!0}function rd(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function tl(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=m({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var Br=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cd(e){Br(e)}function od(e){console.error(e)}function id(e){Br(e)}function Vr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function ud(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Lo(e,t,a){return a=Sa(a),a.tag=3,a.payload={element:null},a.callback=function(){Vr(e,t)},a}function sd(e){return e=Sa(e),e.tag=3,e}function dd(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var o=l.value;e.payload=function(){return n(o)},e.callback=function(){ud(t,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){ud(t,a,l),typeof n!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var g=l.stack;this.componentDidCatch(l.value,{componentStack:g!==null?g:""})})}function Fh(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&mn(t,a,n,!0),a=Ot.current,a!==null){switch(a.tag){case 13:return Vt===null?ui():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===ho?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),di(e,l,n)),!1;case 22:return a.flags|=65536,l===ho?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),di(e,l,n)),!1}throw Error(c(435,a.tag))}return di(e,l,n),ui(),!1}if(we)return t=Ot.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==co&&(e=Error(c(422),{cause:l}),yn(Tt(e,a)))):(l!==co&&(t=Error(c(423),{cause:l}),yn(Tt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=Tt(l,a),n=Lo(e.stateNode,l,n),mo(e,n),Ye!==4&&(Ye=2)),!1;var o=Error(c(520),{cause:l});if(o=Tt(o,a),Hn===null?Hn=[o]:Hn.push(o),Ye!==4&&(Ye=2),t===null)return!0;l=Tt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=Lo(a.stateNode,l,e),mo(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Ea===null||!Ea.has(o))))return a.flags|=65536,n&=-n,a.lanes|=n,n=sd(n),dd(n,e,a,l),mo(a,n),!1}a=a.return}while(a!==null);return!1}var fd=Error(c(461)),Pe=!1;function We(e,t,a,l){t.child=e===null?ad(t,null,a,l):jl(t,e.child,a,l)}function pd(e,t,a,l,n){a=a.render;var o=t.ref;if("ref"in l){var y={};for(var g in l)g!=="ref"&&(y[g]=l[g])}else y=l;return Ia(t),l=wo(e,t,a,y,o,n),g=Co(),e!==null&&!Pe?(Ro(e,t,n),ra(e,t,n)):(we&&g&&no(t),t.flags|=1,We(e,t,l,n),t.child)}function hd(e,t,a,l,n){if(e===null){var o=a.type;return typeof o=="function"&&!to(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,_d(e,t,o,l,n)):(e=br(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Zo(e,n)){var y=o.memoizedProps;if(a=a.compare,a=a!==null?a:fn,a(y,l)&&e.ref===t.ref)return ra(e,t,n)}return t.flags|=1,e=It(o,l),e.ref=t.ref,e.return=t,t.child=e}function _d(e,t,a,l,n){if(e!==null){var o=e.memoizedProps;if(fn(o,l)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=l=o,Zo(e,n))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,ra(e,t,n)}return Yo(e,t,a,l,n)}function yd(e,t,a){var l=t.pendingProps,n=l.children,o=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=o!==null?o.baseLanes|a:a,e!==null){for(n=t.child=e.child,o=0;n!==null;)o=o|n.lanes|n.childLanes,n=n.sibling;t.childLanes=o&~l}else t.childLanes=0,t.child=null;return md(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xr(t,o!==null?o.cachePool:null),o!==null?_s(t,o):go(),ld(t);else return t.lanes=t.childLanes=536870912,md(e,t,o!==null?o.baseLanes|a:a,a)}else o!==null?(xr(t,o.cachePool),_s(t,o),Ra(),t.memoizedState=null):(e!==null&&xr(t,null),go(),Ra());return We(e,t,n,a),t.child}function md(e,t,a,l){var n=po();return n=n===null?null:{parent:Ze._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&xr(t,null),go(),ld(t),e!==null&&mn(e,t,l,!0),null}function Gr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Yo(e,t,a,l,n){return Ia(t),a=wo(e,t,a,l,void 0,n),l=Co(),e!==null&&!Pe?(Ro(e,t,n),ra(e,t,n)):(we&&l&&no(t),t.flags|=1,We(e,t,a,n),t.child)}function vd(e,t,a,l,n,o){return Ia(t),t.updateQueue=null,a=ms(t,l,a,n),ys(e),l=Co(),e!==null&&!Pe?(Ro(e,t,o),ra(e,t,o)):(we&&l&&no(t),t.flags|=1,We(e,t,a,o),t.child)}function gd(e,t,a,l,n){if(Ia(t),t.stateNode===null){var o=Rl,y=a.contextType;typeof y=="object"&&y!==null&&(o=nt(y)),o=new a(l,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ko,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=l,o.state=t.memoizedState,o.refs={},_o(t),y=a.contextType,o.context=typeof y=="object"&&y!==null?nt(y):Rl,o.state=t.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ho(t,a,y,l),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(y=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),y!==o.state&&ko.enqueueReplaceState(o,o.state,null),Rn(t,l,o,n),Cn(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){o=t.stateNode;var g=t.memoizedProps,C=tl(a,g);o.props=C;var E=o.context,Y=a.contextType;y=Rl,typeof Y=="object"&&Y!==null&&(y=nt(Y));var G=a.getDerivedStateFromProps;Y=typeof G=="function"||typeof o.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,Y||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(g||E!==y)&&rd(t,o,l,y),ga=!1;var U=t.memoizedState;o.state=U,Rn(t,l,o,n),Cn(),E=t.memoizedState,g||U!==E||ga?(typeof G=="function"&&(Ho(t,a,G,l),E=t.memoizedState),(C=ga||nd(t,a,C,l,U,E,y))?(Y||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=E),o.props=l,o.state=E,o.context=y,l=C):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{o=t.stateNode,yo(e,t),y=t.memoizedProps,Y=tl(a,y),o.props=Y,G=t.pendingProps,U=o.context,E=a.contextType,C=Rl,typeof E=="object"&&E!==null&&(C=nt(E)),g=a.getDerivedStateFromProps,(E=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(y!==G||U!==C)&&rd(t,o,l,C),ga=!1,U=t.memoizedState,o.state=U,Rn(t,l,o,n),Cn();var j=t.memoizedState;y!==G||U!==j||ga||e!==null&&e.dependencies!==null&&Rr(e.dependencies)?(typeof g=="function"&&(Ho(t,a,g,l),j=t.memoizedState),(Y=ga||nd(t,a,Y,l,U,j,C)||e!==null&&e.dependencies!==null&&Rr(e.dependencies))?(E||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(l,j,C),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(l,j,C)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=j),o.props=l,o.state=j,o.context=C,l=Y):(typeof o.componentDidUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),l=!1)}return o=l,Gr(e,t),l=(t.flags&128)!==0,o||l?(o=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&l?(t.child=jl(t,e.child,null,n),t.child=jl(t,null,a,n)):We(e,t,a,n),t.memoizedState=o.state,e=t.child):e=ra(e,t,n),e}function Sd(e,t,a,l){return _n(),t.flags|=256,We(e,t,a,l),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:os()}}function Go(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ut),e}function bd(e,t,a){var l=t.pendingProps,n=!1,o=(t.flags&128)!==0,y;if((y=o)||(y=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),y&&(n=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(n?Ca(t):Ra(),we){var g=Le,C;if(C=g){e:{for(C=g,g=Bt;C.nodeType!==8;){if(!g){g=null;break e}if(C=Lt(C.nextSibling),C===null){g=null;break e}}g=C}g!==null?(t.memoizedState={dehydrated:g,treeContext:Za!==null?{id:Wt,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},C=yt(18,null,null,0),C.stateNode=g,C.return=t,t.child=C,ct=t,Le=null,C=!0):C=!1}C||Pa(t)}if(g=t.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return xi(g)?t.lanes=32:t.lanes=536870912,null;na(t)}return g=l.children,l=l.fallback,n?(Ra(),n=t.mode,g=$r({mode:"hidden",children:g},n),l=Qa(l,n,a,null),g.return=t,l.return=t,g.sibling=l,t.child=g,n=t.child,n.memoizedState=Vo(a),n.childLanes=Go(e,y,a),t.memoizedState=Bo,l):(Ca(t),$o(t,g))}if(C=e.memoizedState,C!==null&&(g=C.dehydrated,g!==null)){if(o)t.flags&256?(Ca(t),t.flags&=-257,t=Xo(e,t,a)):t.memoizedState!==null?(Ra(),t.child=e.child,t.flags|=128,t=null):(Ra(),n=l.fallback,g=t.mode,l=$r({mode:"visible",children:l.children},g),n=Qa(n,g,a,null),n.flags|=2,l.return=t,n.return=t,l.sibling=n,t.child=l,jl(t,e.child,null,a),l=t.child,l.memoizedState=Vo(a),l.childLanes=Go(e,y,a),t.memoizedState=Bo,t=n);else if(Ca(t),xi(g)){if(y=g.nextSibling&&g.nextSibling.dataset,y)var E=y.dgst;y=E,l=Error(c(419)),l.stack="",l.digest=y,yn({value:l,source:null,stack:null}),t=Xo(e,t,a)}else if(Pe||mn(e,t,a,!1),y=(a&e.childLanes)!==0,Pe||y){if(y=Ue,y!==null&&(l=a&-a,l=(l&42)!==0?1:xc(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Cl(e,l),bt(y,e,l),fd;g.data==="$?"||ui(),t=Xo(e,t,a)}else g.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Le=Lt(g.nextSibling),ct=t,we=!0,Ka=null,Bt=!1,e!==null&&(Et[Nt++]=Wt,Et[Nt++]=ea,Et[Nt++]=Za,Wt=e.id,ea=e.overflow,Za=t),t=$o(t,l.children),t.flags|=4096);return t}return n?(Ra(),n=l.fallback,g=t.mode,C=e.child,E=C.sibling,l=It(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,E!==null?n=It(E,n):(n=Qa(n,g,a,null),n.flags|=2),n.return=t,l.return=t,l.sibling=n,t.child=l,l=n,n=t.child,g=e.child.memoizedState,g===null?g=Vo(a):(C=g.cachePool,C!==null?(E=Ze._currentValue,C=C.parent!==E?{parent:E,pool:E}:C):C=os(),g={baseLanes:g.baseLanes|a,cachePool:C}),n.memoizedState=g,n.childLanes=Go(e,y,a),t.memoizedState=Bo,l):(Ca(t),a=e.child,e=a.sibling,a=It(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=a,t.memoizedState=null,a)}function $o(e,t){return t=$r({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $r(e,t){return e=yt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Xo(e,t,a){return jl(t,e.child,null,a),e=$o(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wd(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),io(e.return,t,a)}function Qo(e,t,a,l,n){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=l,o.tail=a,o.tailMode=n)}function Cd(e,t,a){var l=t.pendingProps,n=l.revealOrder,o=l.tail;if(We(e,t,l.children,a),l=Fe.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wd(e,a,t);else if(e.tag===19)wd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Q(Fe,l),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Yr(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Qo(t,!1,n,a,o);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Yr(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Qo(t,!0,a,null,o);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ra(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(mn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=It(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=It(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Zo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Rr(e)))}function Kh(e,t,a){switch(t.tag){case 3:De(t,t.stateNode.containerInfo),va(t,Ze,e.memoizedState.cache),_n();break;case 27:case 5:Jl(t);break;case 4:De(t,t.stateNode.containerInfo);break;case 10:va(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ca(t),t.flags|=128,null):(a&t.child.childLanes)!==0?bd(e,t,a):(Ca(t),e=ra(e,t,a),e!==null?e.sibling:null);Ca(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(mn(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Cd(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Q(Fe,Fe.current),l)break;return null;case 22:case 23:return t.lanes=0,yd(e,t,a);case 24:va(t,Ze,e.memoizedState.cache)}return ra(e,t,a)}function Rd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!Zo(e,a)&&(t.flags&128)===0)return Pe=!1,Kh(e,t,a);Pe=(e.flags&131072)!==0}else Pe=!1,we&&(t.flags&1048576)!==0&&es(t,Cr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,n=l._init;if(l=n(l._payload),t.type=l,typeof l=="function")to(l)?(e=tl(l,e),t.tag=1,t=gd(null,t,l,e,a)):(t.tag=0,t=Yo(null,t,l,e,a));else{if(l!=null){if(n=l.$$typeof,n===I){t.tag=11,t=pd(null,t,l,e,a);break e}else if(n===se){t.tag=14,t=hd(null,t,l,e,a);break e}}throw t=xe(l)||l,Error(c(306,t,""))}}return t;case 0:return Yo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=tl(l,t.pendingProps),gd(e,t,l,n,a);case 3:e:{if(De(t,t.stateNode.containerInfo),e===null)throw Error(c(387));l=t.pendingProps;var o=t.memoizedState;n=o.element,yo(e,t),Rn(t,l,null,a);var y=t.memoizedState;if(l=y.cache,va(t,Ze,l),l!==o.cache&&uo(t,[Ze],a,!0),Cn(),l=y.element,o.isDehydrated)if(o={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Sd(e,t,l,a);break e}else if(l!==n){n=Tt(Error(c(424)),t),yn(n),t=Sd(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Lt(e.firstChild),ct=t,we=!0,Ka=null,Bt=!0,a=ad(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_n(),l===n){t=ra(e,t,a);break e}We(e,t,l,a)}t=t.child}return t;case 26:return Gr(e,t),e===null?(a=qf(t.type,null,t.pendingProps,null))?t.memoizedState=a:we||(a=t.type,e=t.pendingProps,l=nc(ne.current).createElement(a),l[lt]=t,l[it]=e,tt(l,a,e),Ke(l),t.stateNode=l):t.memoizedState=qf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Jl(t),e===null&&we&&(l=t.stateNode=xf(t.type,t.pendingProps,ne.current),ct=t,Bt=!0,n=Le,Ua(t.type)?(Di=n,Le=Lt(l.firstChild)):Le=n),We(e,t,t.pendingProps.children,a),Gr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((n=l=Le)&&(l=C_(l,t.type,t.pendingProps,Bt),l!==null?(t.stateNode=l,ct=t,Le=Lt(l.firstChild),Bt=!1,n=!0):n=!1),n||Pa(t)),Jl(t),n=t.type,o=t.pendingProps,y=e!==null?e.memoizedProps:null,l=o.children,Ci(n,o)?l=null:y!==null&&Ci(n,y)&&(t.flags|=32),t.memoizedState!==null&&(n=wo(e,t,Bh,null,null,a),Qn._currentValue=n),Gr(e,t),We(e,t,l,a),t.child;case 6:return e===null&&we&&((e=a=Le)&&(a=R_(a,t.pendingProps,Bt),a!==null?(t.stateNode=a,ct=t,Le=null,e=!0):e=!1),e||Pa(t)),null;case 13:return bd(e,t,a);case 4:return De(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=jl(t,null,l,a):We(e,t,l,a),t.child;case 11:return pd(e,t,t.type,t.pendingProps,a);case 7:return We(e,t,t.pendingProps,a),t.child;case 8:return We(e,t,t.pendingProps.children,a),t.child;case 12:return We(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,va(t,t.type,l.value),We(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Ia(t),n=nt(n),l=l(n),t.flags|=1,We(e,t,l,a),t.child;case 14:return hd(e,t,t.type,t.pendingProps,a);case 15:return _d(e,t,t.type,t.pendingProps,a);case 19:return Cd(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=$r(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=It(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return yd(e,t,a);case 24:return Ia(t),l=nt(Ze),e===null?(n=po(),n===null&&(n=Ue,o=so(),n.pooledCache=o,o.refCount++,o!==null&&(n.pooledCacheLanes|=a),n=o),t.memoizedState={parent:l,cache:n},_o(t),va(t,Ze,n)):((e.lanes&a)!==0&&(yo(e,t),Rn(t,null,null,a),Cn()),n=e.memoizedState,o=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),va(t,Ze,l)):(l=o.cache,va(t,Ze,l),l!==n.cache&&uo(t,[Ze],a,!0))),We(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function ca(e){e.flags|=4}function Ad(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jf(t)){if(t=Ot.current,t!==null&&((Se&4194048)===Se?Vt!==null:(Se&62914560)!==Se&&(Se&536870912)===0||t!==Vt))throw bn=ho,is;e.flags|=8192}}function Xr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?cr():536870912,e.lanes|=t,kl|=t)}function Nn(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Ph(e,t,a){var l=t.pendingProps;switch(ro(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),aa(Ze),Rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hn(t)?ca(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ls())),ke(t),null;case 26:return a=t.memoizedState,e===null?(ca(t),a!==null?(ke(t),Ad(t,a)):(ke(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ca(t),ke(t),Ad(t,a)):(ke(t),t.flags&=-16777217):(e.memoizedProps!==l&&ca(t),ke(t),t.flags&=-16777217),null;case 27:Ba(t),a=ne.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ca(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return ke(t),null}e=W.current,hn(t)?ts(t):(e=xf(n,l,a),t.stateNode=e,ca(t))}return ke(t),null;case 5:if(Ba(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ca(t);else{if(!l){if(t.stateNode===null)throw Error(c(166));return ke(t),null}if(e=W.current,hn(t))ts(t);else{switch(n=nc(ne.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?n.createElement(a,{is:l.is}):n.createElement(a)}}e[lt]=t,e[it]=l;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(tt(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ca(t)}}return ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ca(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(c(166));if(e=ne.current,hn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=ct,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||gf(e.nodeValue,a)),e||Pa(t)}else e=nc(e).createTextNode(l),e[lt]=t,t.stateNode=e}return ke(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=hn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(c(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(c(317));n[lt]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),n=!1}else n=ls(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(na(t),t):(na(t),null)}if(na(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var o=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==n&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Xr(t,t.updateQueue),ke(t),null;case 4:return Rt(),e===null&&vi(t.stateNode.containerInfo),ke(t),null;case 10:return aa(t.type),ke(t),null;case 19:if(Z(Fe),n=t.memoizedState,n===null)return ke(t),null;if(l=(t.flags&128)!==0,o=n.rendering,o===null)if(l)Nn(n,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Yr(e),o!==null){for(t.flags|=128,Nn(n,!1),e=o.updateQueue,t.updateQueue=e,Xr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Wu(a,e),a=a.sibling;return Q(Fe,Fe.current&1|2),t.child}e=e.sibling}n.tail!==null&&At()>Fr&&(t.flags|=128,l=!0,Nn(n,!1),t.lanes=4194304)}else{if(!l)if(e=Yr(o),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Xr(t,e),Nn(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!we)return ke(t),null}else 2*At()-n.renderingStartTime>Fr&&a!==536870912&&(t.flags|=128,l=!0,Nn(n,!1),t.lanes=4194304);n.isBackwards?(o.sibling=t.child,t.child=o):(e=n.last,e!==null?e.sibling=o:t.child=o,n.last=o)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=At(),t.sibling=null,e=Fe.current,Q(Fe,l?e&1|2:e&1),t):(ke(t),null);case 22:case 23:return na(t),So(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),a=t.updateQueue,a!==null&&Xr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&Z(Wa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),aa(Ze),ke(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function Jh(e,t){switch(ro(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return aa(Ze),Rt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ba(t),null;case 13:if(na(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(Fe),null;case 4:return Rt(),null;case 10:return aa(t.type),null;case 22:case 23:return na(t),So(),e!==null&&Z(Wa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return aa(Ze),null;case 25:return null;default:return null}}function xd(e,t){switch(ro(t),t.tag){case 3:aa(Ze),Rt();break;case 26:case 27:case 5:Ba(t);break;case 4:Rt();break;case 13:na(t);break;case 19:Z(Fe);break;case 10:aa(t.type);break;case 22:case 23:na(t),So(),e!==null&&Z(Wa);break;case 24:aa(Ze)}}function On(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var o=a.create,y=a.inst;l=o(),y.destroy=l}a=a.next}while(a!==n)}}catch(g){Ne(t,t.return,g)}}function Aa(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var o=n.next;l=o;do{if((l.tag&e)===e){var y=l.inst,g=y.destroy;if(g!==void 0){y.destroy=void 0,n=t;var C=a,E=g;try{E()}catch(Y){Ne(n,C,Y)}}}l=l.next}while(l!==o)}}catch(Y){Ne(t,t.return,Y)}}function Dd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{hs(t,a)}catch(l){Ne(e,e.return,l)}}}function Td(e,t,a){a.props=tl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ne(e,t,l)}}function Un(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){Ne(e,t,n)}}function Gt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){Ne(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Ne(e,t,n)}else a.current=null}function qd(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){Ne(e,e.return,n)}}function Fo(e,t,a){try{var l=e.stateNode;v_(l,e.type,a,t),l[it]=t}catch(n){Ne(e,e.return,n)}}function Ed(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ua(e.type)||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Po(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=lc));else if(l!==4&&(l===27&&Ua(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Po(e,t,a),e=e.sibling;e!==null;)Po(e,t,a),e=e.sibling}function Qr(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ua(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Qr(e,t,a),e=e.sibling;e!==null;)Qr(e,t,a),e=e.sibling}function Nd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);tt(t,l,a),t[lt]=e,t[it]=a}catch(o){Ne(e,e.return,o)}}var oa=!1,Ge=!1,Jo=!1,Od=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Ih(e,t){if(e=e.containerInfo,bi=sc,e=Gu(e),Fc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,o=l.focusNode;l=l.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var y=0,g=-1,C=-1,E=0,Y=0,G=e,U=null;t:for(;;){for(var j;G!==a||n!==0&&G.nodeType!==3||(g=y+n),G!==o||l!==0&&G.nodeType!==3||(C=y+l),G.nodeType===3&&(y+=G.nodeValue.length),(j=G.firstChild)!==null;)U=G,G=j;for(;;){if(G===e)break t;if(U===a&&++E===n&&(g=y),U===o&&++Y===l&&(C=y),(j=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=j}a=g===-1||C===-1?null:{start:g,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(wi={focusedElem:e,selectionRange:a},sc=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){switch(t=Je,o=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,n=o.memoizedProps,o=o.memoizedState,l=a.stateNode;try{var ie=tl(a.type,n,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ie,o),l.__reactInternalSnapshotBeforeUpdate=e}catch(re){Ne(a,a.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ai(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ai(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}}function Ud(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xa(e,a),l&4&&On(5,a);break;case 1:if(xa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(y){Ne(a,a.return,y)}else{var n=tl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ne(a,a.return,y)}}l&64&&Dd(a),l&512&&Un(a,a.return);break;case 3:if(xa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{hs(e,t)}catch(y){Ne(a,a.return,y)}}break;case 27:t===null&&l&4&&Nd(a);case 26:case 5:xa(e,a),t===null&&l&4&&qd(a),l&512&&Un(a,a.return);break;case 12:xa(e,a);break;case 13:xa(e,a),l&4&&zd(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=o_.bind(null,a),A_(e,a))));break;case 22:if(l=a.memoizedState!==null||oa,!l){t=t!==null&&t.memoizedState!==null||Ge,n=oa;var o=Ge;oa=l,(Ge=t)&&!o?Da(e,a,(a.subtreeFlags&8772)!==0):xa(e,a),oa=n,Ge=o}break;case 30:break;default:xa(e,a)}}function jd(e){var t=e.alternate;t!==null&&(e.alternate=null,jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&qc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,dt=!1;function ia(e,t,a){for(a=a.child;a!==null;)Md(e,t,a),a=a.sibling}function Md(e,t,a){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(J,a)}catch{}switch(a.tag){case 26:Ge||Gt(a,t),ia(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ge||Gt(a,t);var l=He,n=dt;Ua(a.type)&&(He=a.stateNode,dt=!1),ia(e,t,a),Vn(a.stateNode),He=l,dt=n;break;case 5:Ge||Gt(a,t);case 6:if(l=He,n=dt,He=null,ia(e,t,a),He=l,dt=n,He!==null)if(dt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(o){Ne(a,t,o)}else try{He.removeChild(a.stateNode)}catch(o){Ne(a,t,o)}break;case 18:He!==null&&(dt?(e=He,Rf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Pn(e)):Rf(He,a.stateNode));break;case 4:l=He,n=dt,He=a.stateNode.containerInfo,dt=!0,ia(e,t,a),He=l,dt=n;break;case 0:case 11:case 14:case 15:Ge||Aa(2,a,t),Ge||Aa(4,a,t),ia(e,t,a);break;case 1:Ge||(Gt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Td(a,t,l)),ia(e,t,a);break;case 21:ia(e,t,a);break;case 22:Ge=(l=Ge)||a.memoizedState!==null,ia(e,t,a),Ge=l;break;default:ia(e,t,a)}}function zd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pn(e)}catch(a){Ne(t,t.return,a)}}function Wh(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Od),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Od),t;default:throw Error(c(435,e.tag))}}function Io(e,t){var a=Wh(e);t.forEach(function(l){var n=i_.bind(null,e,l);a.has(l)||(a.add(l),l.then(n,n))})}function mt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],o=e,y=t,g=y;e:for(;g!==null;){switch(g.tag){case 27:if(Ua(g.type)){He=g.stateNode,dt=!1;break e}break;case 5:He=g.stateNode,dt=!1;break e;case 3:case 4:He=g.stateNode.containerInfo,dt=!0;break e}g=g.return}if(He===null)throw Error(c(160));Md(o,y,n),He=null,dt=!1,o=n.alternate,o!==null&&(o.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Hd(t,e),t=t.sibling}var kt=null;function Hd(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(t,e),vt(e),l&4&&(Aa(3,e,e.return),On(3,e),Aa(5,e,e.return));break;case 1:mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),l&64&&oa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=kt;if(mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),l&4){var o=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":o=n.getElementsByTagName("title")[0],(!o||o[an]||o[lt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=n.createElement(l),n.head.insertBefore(o,n.querySelector("head > title"))),tt(o,l,a),o[lt]=e,Ke(o),l=o;break e;case"link":var y=Of("link","href",n).get(l+(a.href||""));if(y){for(var g=0;g<y.length;g++)if(o=y[g],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(g,1);break t}}o=n.createElement(l),tt(o,l,a),n.head.appendChild(o);break;case"meta":if(y=Of("meta","content",n).get(l+(a.content||""))){for(g=0;g<y.length;g++)if(o=y[g],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(g,1);break t}}o=n.createElement(l),tt(o,l,a),n.head.appendChild(o);break;default:throw Error(c(468,l))}o[lt]=e,Ke(o),l=o}e.stateNode=l}else Uf(n,e.type,e.stateNode);else e.stateNode=Nf(n,l,e.memoizedProps);else o!==l?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,l===null?Uf(n,e.type,e.stateNode):Nf(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Fo(e,e.memoizedProps,a.memoizedProps)}break;case 27:mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),a!==null&&l&4&&Fo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),e.flags&32){n=e.stateNode;try{yl(n,"")}catch(j){Ne(e,e.return,j)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Fo(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Jo=!0);break;case 6:if(mt(t,e),vt(e),l&4){if(e.stateNode===null)throw Error(c(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(j){Ne(e,e.return,j)}}break;case 3:if(oc=null,n=kt,kt=rc(t.containerInfo),mt(t,e),kt=n,vt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pn(t.containerInfo)}catch(j){Ne(e,e.return,j)}Jo&&(Jo=!1,kd(e));break;case 4:l=kt,kt=rc(e.stateNode.containerInfo),mt(t,e),vt(e),kt=l;break;case 12:mt(t,e),vt(e);break;case 13:mt(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ni=At()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Io(e,l)));break;case 22:n=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,E=oa,Y=Ge;if(oa=E||n,Ge=Y||C,mt(t,e),Ge=Y,oa=E,vt(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||C||oa||Ge||al(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){C=a=t;try{if(o=C.stateNode,n)y=o.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{g=C.stateNode;var G=C.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;g.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(j){Ne(C,C.return,j)}}}else if(t.tag===6){if(a===null){C=t;try{C.stateNode.nodeValue=n?"":C.memoizedProps}catch(j){Ne(C,C.return,j)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Io(e,a))));break;case 19:mt(t,e),vt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Io(e,l)));break;case 30:break;case 21:break;default:mt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Ed(l)){a=l;break}l=l.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var n=a.stateNode,o=Ko(e);Qr(e,o,n);break;case 5:var y=a.stateNode;a.flags&32&&(yl(y,""),a.flags&=-33);var g=Ko(e);Qr(e,g,y);break;case 3:case 4:var C=a.stateNode.containerInfo,E=Ko(e);Po(e,E,C);break;default:throw Error(c(161))}}catch(Y){Ne(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ud(e,t.alternate,t),t=t.sibling}function al(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Aa(4,t,t.return),al(t);break;case 1:Gt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Td(t,t.return,a),al(t);break;case 27:Vn(t.stateNode);case 26:case 5:Gt(t,t.return),al(t);break;case 22:t.memoizedState===null&&al(t);break;case 30:al(t);break;default:al(t)}e=e.sibling}}function Da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,o=t,y=o.flags;switch(o.tag){case 0:case 11:case 15:Da(n,o,a),On(4,o);break;case 1:if(Da(n,o,a),l=o,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(E){Ne(l,l.return,E)}if(l=o,n=l.updateQueue,n!==null){var g=l.stateNode;try{var C=n.shared.hiddenCallbacks;if(C!==null)for(n.shared.hiddenCallbacks=null,n=0;n<C.length;n++)ps(C[n],g)}catch(E){Ne(l,l.return,E)}}a&&y&64&&Dd(o),Un(o,o.return);break;case 27:Nd(o);case 26:case 5:Da(n,o,a),a&&l===null&&y&4&&qd(o),Un(o,o.return);break;case 12:Da(n,o,a);break;case 13:Da(n,o,a),a&&y&4&&zd(n,o);break;case 22:o.memoizedState===null&&Da(n,o,a),Un(o,o.return);break;case 30:break;default:Da(n,o,a)}t=t.sibling}}function Wo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&vn(a))}function ei(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vn(e))}function $t(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ld(e,t,a,l),t=t.sibling}function Ld(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:$t(e,t,a,l),n&2048&&On(9,t);break;case 1:$t(e,t,a,l);break;case 3:$t(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vn(e)));break;case 12:if(n&2048){$t(e,t,a,l),e=t.stateNode;try{var o=t.memoizedProps,y=o.id,g=o.onPostCommit;typeof g=="function"&&g(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ne(t,t.return,C)}}else $t(e,t,a,l);break;case 13:$t(e,t,a,l);break;case 23:break;case 22:o=t.stateNode,y=t.alternate,t.memoizedState!==null?o._visibility&2?$t(e,t,a,l):jn(e,t):o._visibility&2?$t(e,t,a,l):(o._visibility|=2,Ml(e,t,a,l,(t.subtreeFlags&10256)!==0)),n&2048&&Wo(y,t);break;case 24:$t(e,t,a,l),n&2048&&ei(t.alternate,t);break;default:$t(e,t,a,l)}}function Ml(e,t,a,l,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var o=e,y=t,g=a,C=l,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ml(o,y,g,C,n),On(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?Ml(o,y,g,C,n):jn(o,y):(Y._visibility|=2,Ml(o,y,g,C,n)),n&&E&2048&&Wo(y.alternate,y);break;case 24:Ml(o,y,g,C,n),n&&E&2048&&ei(y.alternate,y);break;default:Ml(o,y,g,C,n)}t=t.sibling}}function jn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:jn(a,l),n&2048&&Wo(l.alternate,l);break;case 24:jn(a,l),n&2048&&ei(l.alternate,l);break;default:jn(a,l)}t=t.sibling}}var Mn=8192;function zl(e){if(e.subtreeFlags&Mn)for(e=e.child;e!==null;)Yd(e),e=e.sibling}function Yd(e){switch(e.tag){case 26:zl(e),e.flags&Mn&&e.memoizedState!==null&&k_(kt,e.memoizedState,e.memoizedProps);break;case 5:zl(e);break;case 3:case 4:var t=kt;kt=rc(e.stateNode.containerInfo),zl(e),kt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Mn,Mn=16777216,zl(e),Mn=t):zl(e));break;default:zl(e)}}function Bd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function zn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Je=l,Gd(l,e)}Bd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vd(e),e=e.sibling}function Vd(e){switch(e.tag){case 0:case 11:case 15:zn(e),e.flags&2048&&Aa(9,e,e.return);break;case 3:zn(e);break;case 12:zn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Zr(e)):zn(e);break;default:zn(e)}}function Zr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Je=l,Gd(l,e)}Bd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Aa(8,t,t.return),Zr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Zr(t));break;default:Zr(t)}e=e.sibling}}function Gd(e,t){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Aa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Je=l;else e:for(a=e;Je!==null;){l=Je;var n=l.sibling,o=l.return;if(jd(l),l===a){Je=null;break e}if(n!==null){n.return=o,Je=n;break e}Je=o}}}var e_={getCacheForType:function(e){var t=nt(Ze),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},t_=typeof WeakMap=="function"?WeakMap:Map,Re=0,Ue=null,me=null,Se=0,Ae=0,gt=null,Ta=!1,Hl=!1,ti=!1,ua=0,Ye=0,qa=0,ll=0,ai=0,Ut=0,kl=0,Hn=null,ft=null,li=!1,ni=0,Fr=1/0,Kr=null,Ea=null,et=0,Na=null,Ll=null,Yl=0,ri=0,ci=null,$d=null,kn=0,oi=null;function St(){if((Re&2)!==0&&Se!==0)return Se&-Se;if(z.T!==null){var e=Dl;return e!==0?e:hi()}return cu()}function Xd(){Ut===0&&(Ut=(Se&536870912)===0||we?Ac():536870912);var e=Ot.current;return e!==null&&(e.flags|=32),Ut}function bt(e,t,a){(e===Ue&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(Bl(e,0),Oa(e,Se,Ut,!1)),tn(e,a),((Re&2)===0||e!==Ue)&&(e===Ue&&((Re&2)===0&&(ll|=a),Ye===4&&Oa(e,Se,Ut,!1)),Xt(e))}function Qd(e,t,a){if((Re&6)!==0)throw Error(c(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Yt(e,t),n=l?n_(e,t):si(e,t,!0),o=l;do{if(n===0){Hl&&!l&&Oa(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!a_(a)){n=si(e,t,!1),o=!1;continue}if(n===2){if(o=t,e.errorRecoveryDisabledLanes&o)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var g=e;n=Hn;var C=g.current.memoizedState.isDehydrated;if(C&&(Bl(g,y).flags|=256),y=si(g,y,!1),y!==2){if(ti&&!C){g.errorRecoveryDisabledLanes|=o,ll|=o,n=4;break e}o=ft,ft=n,o!==null&&(ft===null?ft=o:ft.push.apply(ft,o))}n=y}if(o=!1,n!==2)continue}}if(n===1){Bl(e,0),Oa(e,t,0,!0);break}e:{switch(l=e,o=n,o){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Oa(l,t,Ut,!Ta);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(n=ni+300-At(),10<n)){if(Oa(l,t,Ut,!Ta),_a(l,0,!0)!==0)break e;l.timeoutHandle=wf(Zd.bind(null,l,a,ft,Kr,li,t,Ut,ll,kl,Ta,o,2,-0,0),n);break e}Zd(l,a,ft,Kr,li,t,Ut,ll,kl,Ta,o,0,-0,0)}}break}while(!0);Xt(e)}function Zd(e,t,a,l,n,o,y,g,C,E,Y,G,U,j){if(e.timeoutHandle=-1,G=t.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(Xn={stylesheets:null,count:0,unsuspend:H_},Yd(t),G=L_(),G!==null)){e.cancelPendingCommit=G(ef.bind(null,e,t,o,a,l,n,y,g,C,Y,1,U,j)),Oa(e,o,y,!E);return}ef(e,t,o,a,l,n,y,g,C)}function a_(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],o=n.getSnapshot;n=n.value;try{if(!_t(o(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oa(e,t,a,l){t&=~ai,t&=~ll,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var o=31-je(n),y=1<<o;l[o]=-1,n&=~y}a!==0&&nu(e,a,t)}function Pr(){return(Re&6)===0?(Ln(0),!1):!0}function ii(){if(me!==null){if(Ae===0)var e=me.return;else e=me,ta=Ja=null,Ao(e),Ul=null,qn=0,e=me;for(;e!==null;)xd(e.alternate,e),e=e.return;me=null}}function Bl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,S_(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ii(),Ue=e,me=a=It(e.current,null),Se=t,Ae=0,gt=null,Ta=!1,Hl=Yt(e,t),ti=!1,kl=Ut=ai=ll=qa=Ye=0,ft=Hn=null,li=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-je(l),o=1<<n;t|=e[n],l&=~o}return ua=t,vr(),a}function Fd(e,t){pe=null,z.H=Hr,t===Sn||t===Dr?(t=ds(),Ae=3):t===is?(t=ds(),Ae=4):Ae=t===fd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gt=t,me===null&&(Ye=1,Vr(e,Tt(t,e.current)))}function Kd(){var e=z.H;return z.H=Hr,e===null?Hr:e}function Pd(){var e=z.A;return z.A=e_,e}function ui(){Ye=4,Ta||(Se&4194048)!==Se&&Ot.current!==null||(Hl=!0),(qa&134217727)===0&&(ll&134217727)===0||Ue===null||Oa(Ue,Se,Ut,!1)}function si(e,t,a){var l=Re;Re|=2;var n=Kd(),o=Pd();(Ue!==e||Se!==t)&&(Kr=null,Bl(e,t)),t=!1;var y=Ye;e:do try{if(Ae!==0&&me!==null){var g=me,C=gt;switch(Ae){case 8:ii(),y=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var E=Ae;if(Ae=0,gt=null,Vl(e,g,C,E),a&&Hl){y=0;break e}break;default:E=Ae,Ae=0,gt=null,Vl(e,g,C,E)}}l_(),y=Ye;break}catch(Y){Fd(e,Y)}while(!0);return t&&e.shellSuspendCounter++,ta=Ja=null,Re=l,z.H=n,z.A=o,me===null&&(Ue=null,Se=0,vr()),y}function l_(){for(;me!==null;)Jd(me)}function n_(e,t){var a=Re;Re|=2;var l=Kd(),n=Pd();Ue!==e||Se!==t?(Kr=null,Fr=At()+500,Bl(e,t)):Hl=Yt(e,t);e:do try{if(Ae!==0&&me!==null){t=me;var o=gt;t:switch(Ae){case 1:Ae=0,gt=null,Vl(e,t,o,1);break;case 2:case 9:if(us(o)){Ae=0,gt=null,Id(t);break}t=function(){Ae!==2&&Ae!==9||Ue!==e||(Ae=7),Xt(e)},o.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:us(o)?(Ae=0,gt=null,Id(t)):(Ae=0,gt=null,Vl(e,t,o,7));break;case 5:var y=null;switch(me.tag){case 26:y=me.memoizedState;case 5:case 27:var g=me;if(!y||jf(y)){Ae=0,gt=null;var C=g.sibling;if(C!==null)me=C;else{var E=g.return;E!==null?(me=E,Jr(E)):me=null}break t}}Ae=0,gt=null,Vl(e,t,o,5);break;case 6:Ae=0,gt=null,Vl(e,t,o,6);break;case 8:ii(),Ye=6;break e;default:throw Error(c(462))}}r_();break}catch(Y){Fd(e,Y)}while(!0);return ta=Ja=null,z.H=l,z.A=n,Re=a,me!==null?0:(Ue=null,Se=0,vr(),Ye)}function r_(){for(;me!==null&&!wc();)Jd(me)}function Jd(e){var t=Rd(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?Jr(e):me=t}function Id(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=vd(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=vd(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:Ao(t);default:xd(a,t),t=me=Wu(t,ua),t=Rd(a,t,ua)}e.memoizedProps=e.pendingProps,t===null?Jr(e):me=t}function Vl(e,t,a,l){ta=Ja=null,Ao(t),Ul=null,qn=0;var n=t.return;try{if(Fh(e,n,t,a,Se)){Ye=1,Vr(e,Tt(a,e.current)),me=null;return}}catch(o){if(n!==null)throw me=n,o;Ye=1,Vr(e,Tt(a,e.current)),me=null;return}t.flags&32768?(we||l===1?e=!0:Hl||(Se&536870912)!==0?e=!1:(Ta=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ot.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wd(t,e)):Jr(t)}function Jr(e){var t=e;do{if((t.flags&32768)!==0){Wd(t,Ta);return}e=t.return;var a=Ph(t.alternate,t,ua);if(a!==null){me=a;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Ye===0&&(Ye=5)}function Wd(e,t){do{var a=Jh(e.alternate,e);if(a!==null){a.flags&=32767,me=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=a}while(e!==null);Ye=6,me=null}function ef(e,t,a,l,n,o,y,g,C){e.cancelPendingCommit=null;do Ir();while(et!==0);if((Re&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(o=t.lanes|t.childLanes,o|=Wc,Hp(e,a,o,y,g,C),e===Ue&&(me=Ue=null,Se=0),Ll=t,Na=e,Yl=a,ri=o,ci=n,$d=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,u_(ol,function(){return rf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,n=D.p,D.p=2,y=Re,Re|=4;try{Ih(e,t,a)}finally{Re=y,D.p=n,z.T=l}}et=1,tf(),af(),lf()}}function tf(){if(et===1){et=0;var e=Na,t=Ll,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=D.p;D.p=2;var n=Re;Re|=4;try{Hd(t,e);var o=wi,y=Gu(e.containerInfo),g=o.focusedElem,C=o.selectionRange;if(y!==g&&g&&g.ownerDocument&&Vu(g.ownerDocument.documentElement,g)){if(C!==null&&Fc(g)){var E=C.start,Y=C.end;if(Y===void 0&&(Y=E),"selectionStart"in g)g.selectionStart=E,g.selectionEnd=Math.min(Y,g.value.length);else{var G=g.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var j=U.getSelection(),ie=g.textContent.length,re=Math.min(C.start,ie),Ee=C.end===void 0?re:Math.min(C.end,ie);!j.extend&&re>Ee&&(y=Ee,Ee=re,re=y);var x=Bu(g,re),A=Bu(g,Ee);if(x&&A&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==A.node||j.focusOffset!==A.offset)){var q=G.createRange();q.setStart(x.node,x.offset),j.removeAllRanges(),re>Ee?(j.addRange(q),j.extend(A.node,A.offset)):(q.setEnd(A.node,A.offset),j.addRange(q))}}}}for(G=[],j=g;j=j.parentNode;)j.nodeType===1&&G.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<G.length;g++){var B=G[g];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}sc=!!bi,wi=bi=null}finally{Re=n,D.p=l,z.T=a}}e.current=t,et=2}}function af(){if(et===2){et=0;var e=Na,t=Ll,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=D.p;D.p=2;var n=Re;Re|=4;try{Ud(e,t.alternate,t)}finally{Re=n,D.p=l,z.T=a}}et=3}}function lf(){if(et===4||et===3){et=0,Cc();var e=Na,t=Ll,a=Yl,l=$d;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,Ll=Na=null,nf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Ea=null),Dc(a),t=t.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(J,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=z.T,n=D.p,D.p=2,z.T=null;try{for(var o=e.onRecoverableError,y=0;y<l.length;y++){var g=l[y];o(g.value,{componentStack:g.stack})}}finally{z.T=t,D.p=n}}(Yl&3)!==0&&Ir(),Xt(e),n=e.pendingLanes,(a&4194090)!==0&&(n&42)!==0?e===oi?kn++:(kn=0,oi=e):kn=0,Ln(0)}}function nf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vn(t)))}function Ir(e){return tf(),af(),lf(),rf()}function rf(){if(et!==5)return!1;var e=Na,t=ri;ri=0;var a=Dc(Yl),l=z.T,n=D.p;try{D.p=32>a?32:a,z.T=null,a=ci,ci=null;var o=Na,y=Yl;if(et=0,Ll=Na=null,Yl=0,(Re&6)!==0)throw Error(c(331));var g=Re;if(Re|=4,Vd(o.current),Ld(o,o.current,y,a),Re=g,Ln(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(J,o)}catch{}return!0}finally{D.p=n,z.T=l,nf(e,t)}}function cf(e,t,a){t=Tt(a,t),t=Lo(e.stateNode,t,2),e=ba(e,t,2),e!==null&&(tn(e,2),Xt(e))}function Ne(e,t,a){if(e.tag===3)cf(e,e,a);else for(;t!==null;){if(t.tag===3){cf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ea===null||!Ea.has(l))){e=Tt(a,e),a=sd(2),l=ba(t,a,2),l!==null&&(dd(a,l,t,e),tn(l,2),Xt(l));break}}t=t.return}}function di(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new t_;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(ti=!0,n.add(a),e=c_.bind(null,e,t,a),t.then(e,e))}function c_(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(Se&a)===a&&(Ye===4||Ye===3&&(Se&62914560)===Se&&300>At()-ni?(Re&2)===0&&Bl(e,0):ai|=a,kl===Se&&(kl=0)),Xt(e)}function of(e,t){t===0&&(t=cr()),e=Cl(e,t),e!==null&&(tn(e,t),Xt(e))}function o_(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),of(e,a)}function i_(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(c(314))}l!==null&&l.delete(t),of(e,a)}function u_(e,t){return Il(e,t)}var Wr=null,Gl=null,fi=!1,ec=!1,pi=!1,nl=0;function Xt(e){e!==Gl&&e.next===null&&(Gl===null?Wr=Gl=e:Gl=Gl.next=e),ec=!0,fi||(fi=!0,d_())}function Ln(e,t){if(!pi&&ec){pi=!0;do for(var a=!1,l=Wr;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var o=0;else{var y=l.suspendedLanes,g=l.pingedLanes;o=(1<<31-je(42|e)+1)-1,o&=n&~(y&~g),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,ff(l,o))}else o=Se,o=_a(l,l===Ue?o:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(o&3)===0||Yt(l,o)||(a=!0,ff(l,o));l=l.next}while(a);pi=!1}}function s_(){uf()}function uf(){ec=fi=!1;var e=0;nl!==0&&(g_()&&(e=nl),nl=0);for(var t=At(),a=null,l=Wr;l!==null;){var n=l.next,o=sf(l,t);o===0?(l.next=null,a===null?Wr=n:a.next=n,n===null&&(Gl=a)):(a=l,(e!==0||(o&3)!==0)&&(ec=!0)),l=n}Ln(e)}function sf(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var y=31-je(o),g=1<<y,C=n[y];C===-1?((g&a)===0||(g&l)!==0)&&(n[y]=ht(g,t)):C<=t&&(e.expiredLanes|=g),o&=~g}if(t=Ue,a=Se,a=_a(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Wl(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Wl(l),Dc(a)){case 2:case 8:a=lr;break;case 32:a=ol;break;case 268435456:a=en;break;default:a=ol}return l=df.bind(null,e),a=Il(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Wl(l),e.callbackPriority=2,e.callbackNode=null,2}function df(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ir()&&e.callbackNode!==a)return null;var l=Se;return l=_a(e,e===Ue?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Qd(e,l,t),sf(e,At()),e.callbackNode!=null&&e.callbackNode===a?df.bind(null,e):null)}function ff(e,t){if(Ir())return null;Qd(e,t,!0)}function d_(){b_(function(){(Re&6)!==0?Il(ar,s_):uf()})}function hi(){return nl===0&&(nl=Ac()),nl}function pf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dr(""+e)}function hf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function f_(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var o=pf((n[it]||null).action),y=l.submitter;y&&(t=(t=y[it]||null)?pf(t.formAction):y.getAttribute("formAction"),t!==null&&(o=t,y=null));var g=new _r("action","action",null,l,n);e.push({event:g,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(nl!==0){var C=y?hf(n,y):new FormData(n);jo(a,{pending:!0,data:C,method:n.method,action:o},null,C)}}else typeof o=="function"&&(g.preventDefault(),C=y?hf(n,y):new FormData(n),jo(a,{pending:!0,data:C,method:n.method,action:o},o,C))},currentTarget:n}]})}}for(var _i=0;_i<Ic.length;_i++){var yi=Ic[_i],p_=yi.toLowerCase(),h_=yi[0].toUpperCase()+yi.slice(1);Ht(p_,"on"+h_)}Ht(Qu,"onAnimationEnd"),Ht(Zu,"onAnimationIteration"),Ht(Fu,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(Nh,"onTransitionRun"),Ht(Oh,"onTransitionStart"),Ht(Uh,"onTransitionCancel"),Ht(Ku,"onTransitionEnd"),pl("onMouseEnter",["mouseout","mouseover"]),pl("onMouseLeave",["mouseout","mouseover"]),pl("onPointerEnter",["pointerout","pointerover"]),pl("onPointerLeave",["pointerout","pointerover"]),Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Va("onBeforeInput",["compositionend","keypress","textInput","paste"]),Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),__=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yn));function _f(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var o=void 0;if(t)for(var y=l.length-1;0<=y;y--){var g=l[y],C=g.instance,E=g.currentTarget;if(g=g.listener,C!==o&&n.isPropagationStopped())break e;o=g,n.currentTarget=E;try{o(n)}catch(Y){Br(Y)}n.currentTarget=null,o=C}else for(y=0;y<l.length;y++){if(g=l[y],C=g.instance,E=g.currentTarget,g=g.listener,C!==o&&n.isPropagationStopped())break e;o=g,n.currentTarget=E;try{o(n)}catch(Y){Br(Y)}n.currentTarget=null,o=C}}}}function ve(e,t){var a=t[Tc];a===void 0&&(a=t[Tc]=new Set);var l=e+"__bubble";a.has(l)||(yf(t,e,2,!1),a.add(l))}function mi(e,t,a){var l=0;t&&(l|=4),yf(a,e,l,t)}var tc="_reactListening"+Math.random().toString(36).slice(2);function vi(e){if(!e[tc]){e[tc]=!0,iu.forEach(function(a){a!=="selectionchange"&&(__.has(a)||mi(a,!1,e),mi(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tc]||(t[tc]=!0,mi("selectionchange",!1,t))}}function yf(e,t,a,l){switch(Yf(t)){case 2:var n=V_;break;case 8:n=G_;break;default:n=Oi}a=n.bind(null,t,a,e),n=void 0,!Lc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function gi(e,t,a,l,n){var o=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var g=l.stateNode.containerInfo;if(g===n)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===n)return;y=y.return}for(;g!==null;){if(y=sl(g),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=o=y;continue e}g=g.parentNode}}l=l.return}wu(function(){var E=o,Y=Hc(a),G=[];e:{var U=Pu.get(e);if(U!==void 0){var j=_r,ie=e;switch(e){case"keypress":if(pr(a)===0)break e;case"keydown":case"keyup":j=uh;break;case"focusin":ie="focus",j=Gc;break;case"focusout":ie="blur",j=Gc;break;case"beforeblur":case"afterblur":j=Gc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=fh;break;case Qu:case Zu:case Fu:j=eh;break;case Ku:j=hh;break;case"scroll":case"scrollend":j=Kp;break;case"wheel":j=yh;break;case"copy":case"cut":case"paste":j=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Du;break;case"toggle":case"beforetoggle":j=vh}var re=(t&4)!==0,Ee=!re&&(e==="scroll"||e==="scrollend"),x=re?U!==null?U+"Capture":null:U;re=[];for(var A=E,q;A!==null;){var B=A;if(q=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||q===null||x===null||(B=nn(A,x),B!=null&&re.push(Bn(A,B,q))),Ee)break;A=A.return}0<re.length&&(U=new j(U,ie,null,a,Y),G.push({event:U,listeners:re}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",U&&a!==zc&&(ie=a.relatedTarget||a.fromElement)&&(sl(ie)||ie[ul]))break e;if((j||U)&&(U=Y.window===Y?Y:(U=Y.ownerDocument)?U.defaultView||U.parentWindow:window,j?(ie=a.relatedTarget||a.toElement,j=E,ie=ie?sl(ie):null,ie!==null&&(Ee=i(ie),re=ie.tag,ie!==Ee||re!==5&&re!==27&&re!==6)&&(ie=null)):(j=null,ie=E),j!==ie)){if(re=Au,B="onMouseLeave",x="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(re=Du,B="onPointerLeave",x="onPointerEnter",A="pointer"),Ee=j==null?U:ln(j),q=ie==null?U:ln(ie),U=new re(B,A+"leave",j,a,Y),U.target=Ee,U.relatedTarget=q,B=null,sl(Y)===E&&(re=new re(x,A+"enter",ie,a,Y),re.target=q,re.relatedTarget=Ee,B=re),Ee=B,j&&ie)t:{for(re=j,x=ie,A=0,q=re;q;q=$l(q))A++;for(q=0,B=x;B;B=$l(B))q++;for(;0<A-q;)re=$l(re),A--;for(;0<q-A;)x=$l(x),q--;for(;A--;){if(re===x||x!==null&&re===x.alternate)break t;re=$l(re),x=$l(x)}re=null}else re=null;j!==null&&mf(G,U,j,re,!1),ie!==null&&Ee!==null&&mf(G,Ee,ie,re,!0)}}e:{if(U=E?ln(E):window,j=U.nodeName&&U.nodeName.toLowerCase(),j==="select"||j==="input"&&U.type==="file")var ee=Mu;else if(Uu(U))if(zu)ee=Th;else{ee=xh;var he=Ah}else j=U.nodeName,!j||j.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?E&&Mc(E.elementType)&&(ee=Mu):ee=Dh;if(ee&&(ee=ee(e,E))){ju(G,ee,a,Y);break e}he&&he(e,U,E),e==="focusout"&&E&&U.type==="number"&&E.memoizedProps.value!=null&&jc(U,"number",U.value)}switch(he=E?ln(E):window,e){case"focusin":(Uu(he)||he.contentEditable==="true")&&(Sl=he,Kc=E,pn=null);break;case"focusout":pn=Kc=Sl=null;break;case"mousedown":Pc=!0;break;case"contextmenu":case"mouseup":case"dragend":Pc=!1,$u(G,a,Y);break;case"selectionchange":if(Eh)break;case"keydown":case"keyup":$u(G,a,Y)}var ae;if(Xc)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else gl?Nu(e,a)&&(oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(oe="onCompositionStart");oe&&(Tu&&a.locale!=="ko"&&(gl||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&gl&&(ae=Cu()):(ma=Y,Yc="value"in ma?ma.value:ma.textContent,gl=!0)),he=ac(E,oe),0<he.length&&(oe=new xu(oe,e,null,a,Y),G.push({event:oe,listeners:he}),ae?oe.data=ae:(ae=Ou(a),ae!==null&&(oe.data=ae)))),(ae=Sh?bh(e,a):wh(e,a))&&(oe=ac(E,"onBeforeInput"),0<oe.length&&(he=new xu("onBeforeInput","beforeinput",null,a,Y),G.push({event:he,listeners:oe}),he.data=ae)),f_(G,e,E,a,Y)}_f(G,t)})}function Bn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ac(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,o=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||o===null||(n=nn(e,a),n!=null&&l.unshift(Bn(e,n,o)),n=nn(e,t),n!=null&&l.push(Bn(e,n,o))),e.tag===3)return l;e=e.return}return[]}function $l(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mf(e,t,a,l,n){for(var o=t._reactName,y=[];a!==null&&a!==l;){var g=a,C=g.alternate,E=g.stateNode;if(g=g.tag,C!==null&&C===l)break;g!==5&&g!==26&&g!==27||E===null||(C=E,n?(E=nn(a,o),E!=null&&y.unshift(Bn(a,E,C))):n||(E=nn(a,o),E!=null&&y.push(Bn(a,E,C)))),a=a.return}y.length!==0&&e.push({event:t,listeners:y})}var y_=/\r\n?/g,m_=/\u0000|\uFFFD/g;function vf(e){return(typeof e=="string"?e:""+e).replace(y_,`
`).replace(m_,"")}function gf(e,t){return t=vf(t),vf(e)===t}function lc(){}function qe(e,t,a,l,n,o){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||yl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&yl(e,""+l);break;case"className":ir(e,"class",l);break;case"tabIndex":ir(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ir(e,a,l);break;case"style":Su(e,l,o);break;case"data":if(t!=="object"){ir(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=dr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&qe(e,t,"name",n.name,n,null),qe(e,t,"formEncType",n.formEncType,n,null),qe(e,t,"formMethod",n.formMethod,n,null),qe(e,t,"formTarget",n.formTarget,n,null)):(qe(e,t,"encType",n.encType,n,null),qe(e,t,"method",n.method,n,null),qe(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=dr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=lc);break;case"onScroll":l!=null&&ve("scroll",e);break;case"onScrollEnd":l!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=dr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ve("beforetoggle",e),ve("toggle",e),or(e,"popover",l);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":or(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zp.get(a)||a,or(e,a,l))}}function Si(e,t,a,l,n,o){switch(a){case"style":Su(e,l,o);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(c(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof l=="string"?yl(e,l):(typeof l=="number"||typeof l=="bigint")&&yl(e,""+l);break;case"onScroll":l!=null&&ve("scroll",e);break;case"onScrollEnd":l!=null&&ve("scrollend",e);break;case"onClick":l!=null&&(e.onclick=lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),o=e[it]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,n),typeof l=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):or(e,a,l)}}}function tt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var l=!1,n=!1,o;for(o in a)if(a.hasOwnProperty(o)){var y=a[o];if(y!=null)switch(o){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:qe(e,t,o,y,a,null)}}n&&qe(e,t,"srcSet",a.srcSet,a,null),l&&qe(e,t,"src",a.src,a,null);return;case"input":ve("invalid",e);var g=o=y=n=null,C=null,E=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":n=Y;break;case"type":y=Y;break;case"checked":C=Y;break;case"defaultChecked":E=Y;break;case"value":o=Y;break;case"defaultValue":g=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(c(137,t));break;default:qe(e,t,l,Y,a,null)}}yu(e,o,g,C,E,y,n,!1),ur(e);return;case"select":ve("invalid",e),l=y=o=null;for(n in a)if(a.hasOwnProperty(n)&&(g=a[n],g!=null))switch(n){case"value":o=g;break;case"defaultValue":y=g;break;case"multiple":l=g;default:qe(e,t,n,g,a,null)}t=o,a=y,e.multiple=!!l,t!=null?_l(e,!!l,t,!1):a!=null&&_l(e,!!l,a,!0);return;case"textarea":ve("invalid",e),o=n=l=null;for(y in a)if(a.hasOwnProperty(y)&&(g=a[y],g!=null))switch(y){case"value":l=g;break;case"defaultValue":n=g;break;case"children":o=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(c(91));break;default:qe(e,t,y,g,a,null)}vu(e,l,n,o),ur(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:qe(e,t,C,l,a,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(l=0;l<Yn.length;l++)ve(Yn[l],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(E in a)if(a.hasOwnProperty(E)&&(l=a[E],l!=null))switch(E){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:qe(e,t,E,l,a,null)}return;default:if(Mc(t)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Si(e,t,Y,l,a,void 0));return}}for(g in a)a.hasOwnProperty(g)&&(l=a[g],l!=null&&qe(e,t,g,l,a,null))}function v_(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,o=null,y=null,g=null,C=null,E=null,Y=null;for(j in a){var G=a[j];if(a.hasOwnProperty(j)&&G!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=G;default:l.hasOwnProperty(j)||qe(e,t,j,null,l,G)}}for(var U in l){var j=l[U];if(G=a[U],l.hasOwnProperty(U)&&(j!=null||G!=null))switch(U){case"type":o=j;break;case"name":n=j;break;case"checked":E=j;break;case"defaultChecked":Y=j;break;case"value":y=j;break;case"defaultValue":g=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(c(137,t));break;default:j!==G&&qe(e,t,U,j,l,G)}}Uc(e,y,g,C,E,Y,o,n);return;case"select":j=y=g=U=null;for(o in a)if(C=a[o],a.hasOwnProperty(o)&&C!=null)switch(o){case"value":break;case"multiple":j=C;default:l.hasOwnProperty(o)||qe(e,t,o,null,l,C)}for(n in l)if(o=l[n],C=a[n],l.hasOwnProperty(n)&&(o!=null||C!=null))switch(n){case"value":U=o;break;case"defaultValue":g=o;break;case"multiple":y=o;default:o!==C&&qe(e,t,n,o,l,C)}t=g,a=y,l=j,U!=null?_l(e,!!a,U,!1):!!l!=!!a&&(t!=null?_l(e,!!a,t,!0):_l(e,!!a,a?[]:"",!1));return;case"textarea":j=U=null;for(g in a)if(n=a[g],a.hasOwnProperty(g)&&n!=null&&!l.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:qe(e,t,g,null,l,n)}for(y in l)if(n=l[y],o=a[y],l.hasOwnProperty(y)&&(n!=null||o!=null))switch(y){case"value":U=n;break;case"defaultValue":j=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(c(91));break;default:n!==o&&qe(e,t,y,n,l,o)}mu(e,U,j);return;case"option":for(var ie in a)if(U=a[ie],a.hasOwnProperty(ie)&&U!=null&&!l.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:qe(e,t,ie,null,l,U)}for(C in l)if(U=l[C],j=a[C],l.hasOwnProperty(C)&&U!==j&&(U!=null||j!=null))switch(C){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:qe(e,t,C,U,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)U=a[re],a.hasOwnProperty(re)&&U!=null&&!l.hasOwnProperty(re)&&qe(e,t,re,null,l,U);for(E in l)if(U=l[E],j=a[E],l.hasOwnProperty(E)&&U!==j&&(U!=null||j!=null))switch(E){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(c(137,t));break;default:qe(e,t,E,U,l,j)}return;default:if(Mc(t)){for(var Ee in a)U=a[Ee],a.hasOwnProperty(Ee)&&U!==void 0&&!l.hasOwnProperty(Ee)&&Si(e,t,Ee,void 0,l,U);for(Y in l)U=l[Y],j=a[Y],!l.hasOwnProperty(Y)||U===j||U===void 0&&j===void 0||Si(e,t,Y,U,l,j);return}}for(var x in a)U=a[x],a.hasOwnProperty(x)&&U!=null&&!l.hasOwnProperty(x)&&qe(e,t,x,null,l,U);for(G in l)U=l[G],j=a[G],!l.hasOwnProperty(G)||U===j||U==null&&j==null||qe(e,t,G,U,l,j)}var bi=null,wi=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function Sf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ci(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ri=null;function g_(){var e=window.event;return e&&e.type==="popstate"?e===Ri?!1:(Ri=e,!0):(Ri=null,!1)}var wf=typeof setTimeout=="function"?setTimeout:void 0,S_=typeof clearTimeout=="function"?clearTimeout:void 0,Cf=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof Cf<"u"?function(e){return Cf.resolve(null).then(e).catch(w_)}:wf;function w_(e){setTimeout(function(){throw e})}function Ua(e){return e==="head"}function Rf(e,t){var a=t,l=0,n=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(0<l&&8>l){a=l;var y=e.ownerDocument;if(a&1&&Vn(y.documentElement),a&2&&Vn(y.body),a&4)for(a=y.head,Vn(a),y=a.firstChild;y;){var g=y.nextSibling,C=y.nodeName;y[an]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=g}}if(n===0){e.removeChild(o),Pn(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:l=a.charCodeAt(0)-48;else l=0;a=o}while(a);Pn(t)}function Ai(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ai(a),qc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function C_(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[an])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function R_(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Lt(e.nextSibling),e===null))return null;return e}function xi(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function A_(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Di=null;function Af(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function xf(e,t,a){switch(t=nc(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Vn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qc(e)}var jt=new Map,Df=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sa=D.d;D.d={f:x_,r:D_,D:T_,C:q_,L:E_,m:N_,X:U_,S:O_,M:j_};function x_(){var e=sa.f(),t=Pr();return e||t}function D_(e){var t=dl(e);t!==null&&t.tag===5&&t.type==="form"?Qs(t):sa.r(e)}var Xl=typeof document>"u"?null:document;function Tf(e,t,a){var l=Xl;if(l&&typeof t=="string"&&t){var n=Dt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Df.has(n)||(Df.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),tt(t,"link",e),Ke(t),l.head.appendChild(t)))}}function T_(e){sa.D(e),Tf("dns-prefetch",e,null)}function q_(e,t){sa.C(e,t),Tf("preconnect",e,t)}function E_(e,t,a){sa.L(e,t,a);var l=Xl;if(l&&e&&t){var n='link[rel="preload"][as="'+Dt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Dt(a.imageSizes)+'"]')):n+='[href="'+Dt(e)+'"]';var o=n;switch(t){case"style":o=Ql(e);break;case"script":o=Zl(e)}jt.has(o)||(e=m({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),jt.set(o,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(Gn(o))||t==="script"&&l.querySelector($n(o))||(t=l.createElement("link"),tt(t,"link",e),Ke(t),l.head.appendChild(t)))}}function N_(e,t){sa.m(e,t);var a=Xl;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(e)+'"]',o=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Zl(e)}if(!jt.has(o)&&(e=m({rel:"modulepreload",href:e},t),jt.set(o,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($n(o)))return}l=a.createElement("link"),tt(l,"link",e),Ke(l),a.head.appendChild(l)}}}function O_(e,t,a){sa.S(e,t,a);var l=Xl;if(l&&e){var n=fl(l).hoistableStyles,o=Ql(e);t=t||"default";var y=n.get(o);if(!y){var g={loading:0,preload:null};if(y=l.querySelector(Gn(o)))g.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},a),(a=jt.get(o))&&Ti(e,a);var C=y=l.createElement("link");Ke(C),tt(C,"link",e),C._p=new Promise(function(E,Y){C.onload=E,C.onerror=Y}),C.addEventListener("load",function(){g.loading|=1}),C.addEventListener("error",function(){g.loading|=2}),g.loading|=4,cc(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:g},n.set(o,y)}}}function U_(e,t){sa.X(e,t);var a=Xl;if(a&&e){var l=fl(a).hoistableScripts,n=Zl(e),o=l.get(n);o||(o=a.querySelector($n(n)),o||(e=m({src:e,async:!0},t),(t=jt.get(n))&&qi(e,t),o=a.createElement("script"),Ke(o),tt(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(n,o))}}function j_(e,t){sa.M(e,t);var a=Xl;if(a&&e){var l=fl(a).hoistableScripts,n=Zl(e),o=l.get(n);o||(o=a.querySelector($n(n)),o||(e=m({src:e,async:!0,type:"module"},t),(t=jt.get(n))&&qi(e,t),o=a.createElement("script"),Ke(o),tt(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},l.set(n,o))}}function qf(e,t,a,l){var n=(n=ne.current)?rc(n):null;if(!n)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Ql(a.href),a=fl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ql(a.href);var o=fl(n).hoistableStyles,y=o.get(e);if(y||(n=n.ownerDocument||n,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,y),(o=n.querySelector(Gn(e)))&&!o._p&&(y.instance=o,y.state.loading=5),jt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jt.set(e,a),o||M_(n,e,a,y.state))),t&&l===null)throw Error(c(528,""));return y}if(t&&l!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Zl(a),a=fl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Ql(e){return'href="'+Dt(e)+'"'}function Gn(e){return'link[rel="stylesheet"]['+e+"]"}function Ef(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function M_(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),tt(t,"link",a),Ke(t),e.head.appendChild(t))}function Zl(e){return'[src="'+Dt(e)+'"]'}function $n(e){return"script[async]"+e}function Nf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return t.instance=l,Ke(l),l;var n=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ke(l),tt(l,"style",n),cc(l,a.precedence,e),t.instance=l;case"stylesheet":n=Ql(a.href);var o=e.querySelector(Gn(n));if(o)return t.state.loading|=4,t.instance=o,Ke(o),o;l=Ef(a),(n=jt.get(n))&&Ti(l,n),o=(e.ownerDocument||e).createElement("link"),Ke(o);var y=o;return y._p=new Promise(function(g,C){y.onload=g,y.onerror=C}),tt(o,"link",l),t.state.loading|=4,cc(o,a.precedence,e),t.instance=o;case"script":return o=Zl(a.src),(n=e.querySelector($n(o)))?(t.instance=n,Ke(n),n):(l=a,(n=jt.get(o))&&(l=m({},a),qi(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ke(n),tt(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,cc(l,a.precedence,e));return t.instance}function cc(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,o=n,y=0;y<l.length;y++){var g=l[y];if(g.dataset.precedence===t)o=g;else if(o!==n)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ti(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qi(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var oc=null;function Of(e,t,a){if(oc===null){var l=new Map,n=oc=new Map;n.set(a,l)}else n=oc,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var o=a[n];if(!(o[an]||o[lt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var y=o.getAttribute(t)||"";y=e+y;var g=l.get(y);g?g.push(o):l.set(y,[o])}}return l}function Uf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function z_(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Xn=null;function H_(){}function k_(e,t,a){if(Xn===null)throw Error(c(475));var l=Xn;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=Ql(a.href),o=e.querySelector(Gn(n));if(o){e=o._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ic.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=o,Ke(o);return}o=e.ownerDocument||e,a=Ef(a),(n=jt.get(n))&&Ti(a,n),o=o.createElement("link"),Ke(o);var y=o;y._p=new Promise(function(g,C){y.onload=g,y.onerror=C}),tt(o,"link",a),t.instance=o}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=ic.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function L_(){if(Xn===null)throw Error(c(475));var e=Xn;return e.stylesheets&&e.count===0&&Ei(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Ei(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ic(){if(this.count--,this.count===0){if(this.stylesheets)Ei(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var uc=null;function Ei(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,uc=new Map,t.forEach(Y_,e),uc=null,ic.call(e))}function Y_(e,t){if(!(t.state.loading&4)){var a=uc.get(e);if(a)var l=a.get(null);else{a=new Map,uc.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<n.length;o++){var y=n[o];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}n=t.instance,y=n.getAttribute("data-precedence"),o=a.get(y)||l,o===l&&a.set(null,n),a.set(y,n),this.count++,l=ic.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),o?o.parentNode.insertBefore(n,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Qn={$$typeof:k,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function B_(e,t,a,l,n,o,y,g){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=o,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function Mf(e,t,a,l,n,o,y,g,C,E,Y,G){return e=new B_(e,t,a,y,g,C,E,G),t=1,o===!0&&(t|=24),o=yt(3,null,null,t),e.current=o,o.stateNode=e,t=so(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:l,isDehydrated:a,cache:t},_o(o),e}function zf(e){return e?(e=Rl,e):Rl}function Hf(e,t,a,l,n,o){n=zf(n),l.context===null?l.context=n:l.pendingContext=n,l=Sa(t),l.payload={element:a},o=o===void 0?null:o,o!==null&&(l.callback=o),a=ba(e,l,t),a!==null&&(bt(a,e,t),wn(a,e,t))}function kf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ni(e,t){kf(e,t),(e=e.alternate)&&kf(e,t)}function Lf(e){if(e.tag===13){var t=Cl(e,67108864);t!==null&&bt(t,e,67108864),Ni(e,67108864)}}var sc=!0;function V_(e,t,a,l){var n=z.T;z.T=null;var o=D.p;try{D.p=2,Oi(e,t,a,l)}finally{D.p=o,z.T=n}}function G_(e,t,a,l){var n=z.T;z.T=null;var o=D.p;try{D.p=8,Oi(e,t,a,l)}finally{D.p=o,z.T=n}}function Oi(e,t,a,l){if(sc){var n=Ui(l);if(n===null)gi(e,t,l,dc,a),Bf(e,l);else if(X_(n,e,t,a,l))l.stopPropagation();else if(Bf(e,l),t&4&&-1<$_.indexOf(e)){for(;n!==null;){var o=dl(n);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var y=zt(o.pendingLanes);if(y!==0){var g=o;for(g.pendingLanes|=2,g.entangledLanes|=2;y;){var C=1<<31-je(y);g.entanglements[1]|=C,y&=~C}Xt(o),(Re&6)===0&&(Fr=At()+500,Ln(0))}}break;case 13:g=Cl(o,2),g!==null&&bt(g,o,2),Pr(),Ni(o,2)}if(o=Ui(l),o===null&&gi(e,t,l,dc,a),o===n)break;n=o}n!==null&&l.stopPropagation()}else gi(e,t,l,null,a)}}function Ui(e){return e=Hc(e),ji(e)}var dc=null;function ji(e){if(dc=null,e=sl(e),e!==null){var t=i(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dc=e,null}function Yf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tr()){case ar:return 2;case lr:return 8;case ol:case Rc:return 32;case en:return 268435456;default:return 32}default:return 32}}var Mi=!1,ja=null,Ma=null,za=null,Zn=new Map,Fn=new Map,Ha=[],$_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bf(e,t){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(t.pointerId)}}function Kn(e,t,a,l,n,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:o,targetContainers:[n]},t!==null&&(t=dl(t),t!==null&&Lf(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function X_(e,t,a,l,n){switch(t){case"focusin":return ja=Kn(ja,e,t,a,l,n),!0;case"dragenter":return Ma=Kn(Ma,e,t,a,l,n),!0;case"mouseover":return za=Kn(za,e,t,a,l,n),!0;case"pointerover":var o=n.pointerId;return Zn.set(o,Kn(Zn.get(o)||null,e,t,a,l,n)),!0;case"gotpointercapture":return o=n.pointerId,Fn.set(o,Kn(Fn.get(o)||null,e,t,a,l,n)),!0}return!1}function Vf(e){var t=sl(e.target);if(t!==null){var a=i(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,kp(e.priority,function(){if(a.tag===13){var l=St();l=xc(l);var n=Cl(a,l);n!==null&&bt(n,a,l),Ni(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ui(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);zc=l,a.target.dispatchEvent(l),zc=null}else return t=dl(a),t!==null&&Lf(t),e.blockedOn=a,!1;t.shift()}return!0}function Gf(e,t,a){fc(e)&&a.delete(t)}function Q_(){Mi=!1,ja!==null&&fc(ja)&&(ja=null),Ma!==null&&fc(Ma)&&(Ma=null),za!==null&&fc(za)&&(za=null),Zn.forEach(Gf),Fn.forEach(Gf)}function pc(e,t){e.blockedOn===t&&(e.blockedOn=null,Mi||(Mi=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Q_)))}var hc=null;function $f(e){hc!==e&&(hc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){hc===e&&(hc=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(ji(l||a)===null)continue;break}var o=dl(a);o!==null&&(e.splice(t,3),t-=3,jo(o,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Pn(e){function t(C){return pc(C,e)}ja!==null&&pc(ja,e),Ma!==null&&pc(Ma,e),za!==null&&pc(za,e),Zn.forEach(t),Fn.forEach(t);for(var a=0;a<Ha.length;a++){var l=Ha[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ha.length&&(a=Ha[0],a.blockedOn===null);)Vf(a),a.blockedOn===null&&Ha.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],o=a[l+1],y=n[it]||null;if(typeof o=="function")y||$f(a);else if(y){var g=null;if(o&&o.hasAttribute("formAction")){if(n=o,y=o[it]||null)g=y.formAction;else if(ji(n)!==null)continue}else g=y.action;typeof g=="function"?a[l+1]=g:(a.splice(l,3),l-=3),$f(a)}}}function zi(e){this._internalRoot=e}_c.prototype.render=zi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,l=St();Hf(a,l,e,t,null,null)},_c.prototype.unmount=zi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hf(e.current,2,null,e,null,null),Pr(),t[ul]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var t=cu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ha.length&&t!==0&&t<Ha[a].priority;a++);Ha.splice(a,0,e),a===0&&Vf(e)}};var Xf=s.version;if(Xf!=="19.1.1")throw Error(c(527,Xf,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=_(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Z_={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{J=yc.inject(Z_),ue=yc}catch{}}return In.createRoot=function(e,t){if(!d(e))throw Error(c(299));var a=!1,l="",n=cd,o=od,y=id,g=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(g=t.unstable_transitionCallbacks)),t=Mf(e,1,!1,null,null,a,l,n,o,y,g,null),e[ul]=t.current,vi(e),new zi(t)},In.hydrateRoot=function(e,t,a){if(!d(e))throw Error(c(299));var l=!1,n="",o=cd,y=od,g=id,C=null,E=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(g=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(E=a.formState)),t=Mf(e,1,!0,t,a??null,l,n,o,y,g,C,E),t.context=zf(null),a=t.current,l=St(),l=xc(l),n=Sa(l),n.callback=null,ba(a,n,l),a=l,t.current.lanes=a,tn(t,a),Xt(t),e[ul]=t.current,vi(e),new _c(t)},In.version="19.1.1",In}var tp;function ry(){if(tp)return Li.exports;tp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),Li.exports=ny(),Li.exports}var cy=ry();/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function oy({onClose:r}){return v.jsx("div",{className:"modal-overlay",onClick:r,children:v.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[v.jsx("button",{className:"btn btn-back modal-close-btn",onClick:r,children:"X"}),v.jsx("h2",{children:"Game Rules"}),v.jsx("h3",{children:"Objective"}),v.jsx("p",{children:"You play as an artificial intelligence trying to compile your own 3 protocols. To do this, you play command cards on the protocols over several rounds and execute their effects. If you reach a total value of at least 10 with your own command cards on a protocol and exceed the other person's total value in the same row, you may compile the protocol (turn it over). The first person to compile their 3 protocols wins."}),v.jsx("h3",{children:"Game Flow"}),v.jsx("p",{children:"The person who chose a protocol first begins. You always play alternately until one person wins. On your turn, handle the following 6 phases in sequence:"}),v.jsxs("ol",{children:[v.jsx("li",{children:"Start"}),v.jsx("li",{children:"Check Control"}),v.jsx("li",{children:"Check Compile"}),v.jsx("li",{children:"Perform Action"}),v.jsx("li",{children:"Check Hand Limit"}),v.jsx("li",{children:"End"})]}),v.jsx("h3",{children:"Phases in Detail"}),v.jsxs("p",{children:[v.jsx("strong",{children:"1. Start:"}),' Resolve all visible "Start" effects of your face-up command cards in an order of your choice.']}),v.jsxs("p",{children:[v.jsx("strong",{children:"2. Check Control:"})," If the total value of your command cards in at least 2 rows is higher than the total value of the other person's command cards in the corresponding rows, take the control card and place it in front of you."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"3. Check Compile:"})," If you can compile protocols, you must now compile 1 of them. If you can compile multiple protocols, choose 1 of them. If you have compiled, you must skip phase 4 and proceed directly to phase 5."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Compile Action:"}),` If your cards in a row have a total value of 10 or more AND this is higher than the other person's total value in that row, you must compile your protocol in that row. To do this, both of you remove all cards on your side of that row and place them on your respective discard piles. Then, turn your protocol in that row to the "Compiled" side. If you compile this protocol again later, you draw 1 card from the other person's deck as a reward instead. Use it from now on as if it were your own card.`]}),v.jsxs("p",{children:[v.jsx("strong",{children:"4. Perform Action:"}),' Play 1 command card from your hand OR fill your hand. If you have no hand cards, you must perform the "Fill Hand" action. If you have 5 or more hand cards, you may not perform the "Fill Hand" action.']}),v.jsxs("p",{children:[v.jsx("strong",{children:"5. Check Hand Limit:"})," If you have more than 5 command cards in your hand, you must reduce to your hand limit: discard hand cards until you have only 5."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"6. End:"}),' Resolve all visible "End" effects of your face-up command cards in an order of your choice.']}),v.jsx("h3",{children:"Glossary"}),v.jsxs("p",{children:[v.jsx("strong",{children:"Clear Cache:"})," Discard down to 5 cards in hand."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Compile:"})," To delete all cards in a line on both players’ sides and flip a protocol."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Covered:"})," A card with another card on top of it is covered."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Delete:"})," Move a card from the field to the trash."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Discard:"})," Move a card from hand to the owner’s trash."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Flip:"})," Change the facing of a card from face-down to face-up, or from face-up to face-down."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Line:"})," The area of play through both protocols. The field is made up of 3 lines, each passing through 2 opposing protocols."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Protocol:"})," The header that dictates which line you are allowed to play cards into."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Rearrange:"})," Change the position of protocols."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Refresh:"})," Draw until you have 5 cards in hand."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Return:"})," Move a card from the field to its owner’s hand."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Reveal:"})," Publicly share information that was hidden or private without effect, then return it to its previous state."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Shift:"})," Move a card to another line on the same side of the field."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Stack:"})," The cards in a line on one player’s side."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Trash:"})," Where discarded and deleted cards go. This is reshuffled to reform your deck when need be."]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Uncovered:"})," The card at the end of a stack, furthest from the protocol is the uncovered card."]})]})})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function Ct({card:r,onMouseDown:s,onMouseEnter:u,onMouseLeave:c,isFaceUp:d,faceDownValue:i=2,isSelected:f,isMultiSelected:h,isTargetable:_,isSourceOfEffect:p,style:m,additionalClassName:S,animationState:b}){const R=({content:F,className:se})=>v.jsx("div",{className:`card-rule-box ${se||""}`,dangerouslySetInnerHTML:{__html:F}}),N=(b==null?void 0:b.type)==="playCard"&&b.cardId===r.id?`is-entering-${b.owner}`:"",X=(b==null?void 0:b.type)==="deleteCard"&&b.cardId===r.id?`is-deleting-${b.owner}`:"",P=(b==null?void 0:b.type)==="drawCard"||(b==null?void 0:b.type)==="discardCard"?b.owner:void 0,k=P==="player"&&(b==null?void 0:b.type)==="drawCard"&&b.cardIds.includes(r.id),I=P==="player"&&(b==null?void 0:b.type)==="discardCard"&&b.cardIds.includes(r.id),L=["card-component"];return f&&L.push("selected"),h&&L.push("multi-selected"),I&&L.push("is-discarding"),_&&L.push("is-targetable"),p&&L.push("is-source-of-effect"),N&&L.push(N),X&&L.push(X),k&&L.push("is-drawing"),S&&L.push(S),v.jsx("div",{className:L.join(" "),onMouseDown:s,onMouseEnter:u,onMouseLeave:c,role:"button",tabIndex:s?0:-1,style:m,children:v.jsxs("div",{className:`card-inner ${d?"":"is-flipped"}`,children:[v.jsxs("div",{className:"card-face card-front",children:[v.jsxs("div",{className:"card-header",children:[v.jsx("span",{className:"card-protocol",children:r.protocol}),v.jsx("span",{className:"card-value",children:r.value})]}),v.jsxs("div",{className:"card-body",children:[v.jsx(R,{content:r.top,className:"card-rule-top"}),v.jsx(R,{content:r.middle,className:"card-rule-middle"}),v.jsx(R,{content:r.bottom,className:"card-rule-bottom"})]})]}),v.jsx("div",{className:"card-face card-back",children:v.jsx("div",{className:"card-back-value",children:i})})]})})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const da=[{protocol:"Apathy",value:0,top:"Your total value in this line is increased by 1 for each face-down card in this line.",middle:"",bottom:"",keywords:{}},{protocol:"Apathy",value:1,top:"",middle:"Flip all other face-up cards in this line.",bottom:"",keywords:{flip:!0}},{protocol:"Apathy",value:2,top:"Ignore all middle commands of cards in this line.",middle:"",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, flip this card.</div>",keywords:{flip:!0}},{protocol:"Apathy",value:3,top:"",middle:"Flip 1 of your opponent's face-up cards.",bottom:"",keywords:{flip:!0}},{protocol:"Apathy",value:4,top:"",middle:"You may flip 1 of your face-up covered cards.",bottom:"",keywords:{flip:!0}},{protocol:"Apathy",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Darkness",value:0,top:"",middle:"Draw 3 cards. Shift 1 of your opponent's covered cards.",bottom:"",keywords:{draw:!0,shift:!0}},{protocol:"Darkness",value:1,top:"",middle:"Flip 1 of your opponent's cards. You may shift that card.",bottom:"",keywords:{flip:!0,shift:!0}},{protocol:"Darkness",value:2,top:"All face-down cards in this stack have a value of 4.",middle:"You may flip 1 covered card in this line.",bottom:"",keywords:{flip:!0}},{protocol:"Darkness",value:3,top:"",middle:"Play 1 card face-down in another line.",bottom:"",keywords:{play:!0}},{protocol:"Darkness",value:4,top:"",middle:"Shift 1 face-down card.",bottom:"",keywords:{shift:!0}},{protocol:"Darkness",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Death",value:0,top:"",middle:"Delete 1 card from each other line.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:1,top:"<div><span class='emphasis'>Start:</span> You may draw 1 card. If you do, delete 1 other card, then delete this card.</div>",middle:"",bottom:"",keywords:{draw:!0,delete:!0}},{protocol:"Death",value:2,top:"",middle:"Delete all cards in 1 line with values of 1 or 2.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:3,top:"",middle:"Delete 1 face-down card.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:4,top:"",middle:"Delete a card with a value of 0 or 1.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Fire",value:0,top:"",middle:"Flip 1 other card. Draw 2 cards.",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, draw 1 card and flip 1 other card.</div>",keywords:{draw:!0,flip:!0}},{protocol:"Fire",value:1,top:"",middle:"Discard 1 card. If you do, delete 1 card.",bottom:"",keywords:{delete:!0,discard:!0}},{protocol:"Fire",value:2,top:"",middle:"Discard 1 card. If you do, return 1 card.",bottom:"",keywords:{discard:!0,return:!0}},{protocol:"Fire",value:3,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> You may discard 1 card. If you do, flip 1 card.</div>",keywords:{discard:!0,flip:!0}},{protocol:"Fire",value:4,top:"",middle:"Discard 1 or more cards. Draw the amount discarded plus 1.",bottom:"",keywords:{discard:!0,draw:!0}},{protocol:"Fire",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Gravity",value:0,top:"",middle:"For every 2 cards in this line, play the top card of your deck face-down under this card.",bottom:"",keywords:{play:!0}},{protocol:"Gravity",value:1,top:"",middle:"Draw 2 cards. Shift 1 card either to or from this line.",bottom:"",keywords:{draw:!0,shift:!0}},{protocol:"Gravity",value:2,top:"",middle:"Flip 1 card. Shift that card to this line.",bottom:"",keywords:{flip:!0,shift:!0}},{protocol:"Gravity",value:4,top:"",middle:"Shift 1 face-down card to this line.",bottom:"",keywords:{shift:!0}},{protocol:"Gravity",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Gravity",value:6,top:"",middle:"Your opponent plays the top card of their deck face-down in this line.",bottom:"",keywords:{play:!0}},{protocol:"Hate",value:0,top:"",middle:"Delete 1 card.",bottom:"",keywords:{delete:!0}},{protocol:"Hate",value:1,top:"",middle:"Discard 3 cards. Delete 1 card. Delete 1 card.",bottom:"",keywords:{delete:!0,discard:!0}},{protocol:"Hate",value:2,top:"",middle:"Delete your highest value card. Delete your opponent's highest value card.",bottom:"",keywords:{delete:!0}},{protocol:"Hate",value:3,top:"<div><span class='emphasis'>After you delete cards:</span> Draw 1 card.</div>",middle:"",bottom:"",keywords:{draw:!0}},{protocol:"Hate",value:4,top:"",middle:"",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, delete the lowest value covered card in this line.</div>",keywords:{delete:!0}},{protocol:"Hate",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Life",value:0,top:"",middle:"Play the top card of your deck face-down in each line where you have a card.",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, delete this card.</div>",keywords:{delete:!0,play:!0}},{protocol:"Life",value:1,top:"",middle:"Flip 1 card. Flip 1 card.",bottom:"",keywords:{flip:!0}},{protocol:"Life",value:2,top:"",middle:"Draw 1 card. You may flip 1 face-down card.",bottom:"",keywords:{draw:!0,flip:!0}},{protocol:"Life",value:3,top:"",middle:"",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, play the top card of your deck face-down in another line.</div>",keywords:{play:!0}},{protocol:"Life",value:4,top:"",middle:"If this card is covering a card, draw 1 card.",bottom:"",keywords:{draw:!0}},{protocol:"Life",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Light",value:0,top:"",middle:"Flip 1 card. Draw cards equal to that card's value.",bottom:"",keywords:{draw:!0,flip:!0}},{protocol:"Light",value:1,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> Draw 1 card.</div>",keywords:{draw:!0}},{protocol:"Light",value:2,top:"",middle:"Draw 2 cards. Reveal 1 face-down card. You may shift or flip that card.",bottom:"",keywords:{draw:!0,flip:!0,reveal:!0,shift:!0}},{protocol:"Light",value:3,top:"",middle:"Shift all face-down cards in this line to another line.",bottom:"",keywords:{shift:!0}},{protocol:"Light",value:4,top:"",middle:"Your opponent reveals their hand.",bottom:"",keywords:{reveal:!0}},{protocol:"Light",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Love",value:1,top:"",middle:"Draw the top card of your opponent's deck.",bottom:"<div><span class='emphasis'>End:</span> You may give 1 card from your hand to your opponent. If you do, draw 2 cards.</div>",keywords:{draw:!0,give:!0}},{protocol:"Love",value:2,top:"",middle:"Your opponent draws 1 card. Refresh.",bottom:"",keywords:{draw:!0,refresh:!0}},{protocol:"Love",value:3,top:"",middle:"Take 1 random card from your opponent's hand. Give 1 card from your hand to your opponent.",bottom:"",keywords:{give:!0,take:!0}},{protocol:"Love",value:4,top:"",middle:"Reveal 1 card from your hand. Flip 1 card.",bottom:"",keywords:{flip:!0,reveal:!0}},{protocol:"Love",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Love",value:6,top:"",middle:"Your opponent draws 2 cards.",bottom:"",keywords:{draw:!0}},{protocol:"Metal",value:0,top:"Your opponent's total value in this line is reduced by 2.",middle:"Flip 1 card.",bottom:"",keywords:{flip:!0}},{protocol:"Metal",value:1,top:"",middle:"Draw 2 cards. Your opponent cannot compile next turn.",bottom:"",keywords:{draw:!0}},{protocol:"Metal",value:2,top:"Your opponent cannot play cards face-down in this line.",middle:"",bottom:"",keywords:{}},{protocol:"Metal",value:3,top:"",middle:"Draw 1 card. Delete all cards in 1 other line with 8 or more cards.",bottom:"",keywords:{delete:!0,draw:!0}},{protocol:"Metal",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Metal",value:6,top:"<div><span class='emphasis'>When this card would be covered or flipped:</span> First, delete this card.</div>",middle:"",bottom:"",keywords:{delete:!0}},{protocol:"Plague",value:0,top:"",middle:"Your opponent discards 1 card.",bottom:"Your opponent cannot play cards in this line.",keywords:{discard:!0}},{protocol:"Plague",value:1,top:"<div><span class='emphasis'>After your opponent discards cards:</span> Draw 1 card.</div>",middle:"Your opponent discards 1 card.",bottom:"",keywords:{discard:!0,draw:!0}},{protocol:"Plague",value:2,top:"",middle:"Dicard 1 or more cards. Your opponent discards the amount of cards discarded plus 1.",bottom:"",keywords:{discard:!0}},{protocol:"Plague",value:3,top:"",middle:"Flip each other face-up card.",bottom:"",keywords:{flip:!0}},{protocol:"Plague",value:4,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> Your opponent deletes 1 of their face-down cards. You may flip this card.</div>",keywords:{delete:!0,flip:!0}},{protocol:"Plague",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Psychic",value:0,top:"",middle:"Draw 2 cards. Your opponent discards 2 cards, then reveals their hand.",bottom:"",keywords:{discard:!0,draw:!0,reveal:!0}},{protocol:"Psychic",value:1,top:"Your opponent can only play cards face-down.",middle:"",bottom:"<div><span class='emphasis'>Start:</span> Flip this card.</div>",keywords:{flip:!0}},{protocol:"Psychic",value:2,top:"",middle:"Your opponent discards 2 cards. Rearrange their protocols.",bottom:"",keywords:{discard:!0,rearrange:!0}},{protocol:"Psychic",value:3,top:"",middle:"Your opponent discards 1 card. Shift 1 of their cards.",bottom:"",keywords:{discard:!0,shift:!0}},{protocol:"Psychic",value:4,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> You may return 1 of your opponent's cards. If you do, flip this card.</div>",keywords:{flip:!0,return:!0}},{protocol:"Psychic",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Speed",value:0,top:"",middle:"Play 1 card.",bottom:"",keywords:{play:!0}},{protocol:"Speed",value:1,top:"<div><span class='emphasis'>After you clear cache:</span> Draw 1 card.</div>",middle:"Draw 2 cards.",bottom:"",keywords:{draw:!0}},{protocol:"Speed",value:2,top:"<div><span class='emphasis'>When this card would be deleted by compiling:</span> Shift this card, even if this card is covered.</div>",middle:"",bottom:"",keywords:{shift:!0}},{protocol:"Speed",value:3,top:"",middle:"Shift 1 of your other cards.",bottom:"<div><span class='emphasis'>End:</span> You may shift 1 of your cards. If you do, flip this card.</div>",keywords:{flip:!0,shift:!0}},{protocol:"Speed",value:4,top:"",middle:"Shift 1 of your opponent's face-down cards.",bottom:"",keywords:{shift:!0}},{protocol:"Speed",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Spirit",value:0,top:"",middle:"Refresh. Draw 1 card.",bottom:"Skip your check cache phase.",keywords:{draw:!0,refresh:!0}},{protocol:"Spirit",value:1,top:"You can play cards in any line.",middle:"Draw 2 cards.",bottom:"<div><span class='emphasis'>Start:</span> Either discard 1 card or flip this card.</div>",keywords:{discard:!0,draw:!0,flip:!0}},{protocol:"Spirit",value:2,top:"",middle:"You may flip 1 card.",bottom:"",keywords:{flip:!0}},{protocol:"Spirit",value:3,top:"<div><span class='emphasis'>After you draw cards:</span> You may shift this card, even if this card is covered.</div>",middle:"",bottom:"",keywords:{shift:!0}},{protocol:"Spirit",value:4,top:"",middle:"Swap the positions of 2 of your protocols",bottom:"",keywords:{swap:!0}},{protocol:"Spirit",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Water",value:0,top:"",middle:"Flip 1 other card. Flip this card.",bottom:"",keywords:{flip:!0}},{protocol:"Water",value:1,top:"",middle:"Play the top card of your deck face-down in each other line.",bottom:"",keywords:{play:!0}},{protocol:"Water",value:2,top:"",middle:"Draw 2 cards. Rearrange your protocols.",bottom:"",keywords:{draw:!0,rearrange:!0}},{protocol:"Water",value:3,top:"",middle:"Return all cards with a value of 2 in 1 line.",bottom:"",keywords:{return:!0}},{protocol:"Water",value:4,top:"",middle:"Return 1 of your cards.",bottom:"",keywords:{return:!0}},{protocol:"Water",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}}],iy=new Set(da.map(r=>r.protocol)),Ki=Array.from(iy).sort();/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function uy(r){const s=[];for(const u of r){const c=da.filter(d=>d.protocol===u);s.push(...c)}return s}function bc(r){const s=[...r];for(let u=s.length-1;u>0;u--){const c=Math.floor(Math.random()*(u+1));[s[u],s[c]]=[s[c],s[u]]}return s}function ap({onNavigate:r,difficulty:s,setDifficulty:u}){const[c,d]=K.useState(!1),[i,f]=K.useState(null),[h,_]=K.useState(null),[p,m]=K.useState(null),[S,b]=K.useState([]);return K.useEffect(()=>{const R=new Set;for(;R.size<2&&R.size<da.length;)R.add(Math.floor(Math.random()*da.length));const T=Array.from(R).map(N=>da[N]);T.length>0&&(m(T[0]),_(T[0])),T.length>1&&f(T[1]),b(bc(da))},[]),v.jsxs("div",{className:"screen main-menu",children:[c&&v.jsx(oy,{onClose:()=>d(!1)}),v.jsx("h1",{children:"COMPILE: MAIN 1"}),v.jsxs("div",{className:"main-menu-layout",children:[v.jsx("div",{className:"main-menu-preview decorative-card",children:h&&v.jsx(Ct,{card:{...h,id:"preview",isFaceUp:!0},isFaceUp:!0})}),v.jsxs("div",{className:"main-menu-actions-container",children:[v.jsxs("div",{className:"main-menu-start-group",children:[v.jsxs("div",{className:"difficulty-selector",children:[v.jsx("h3",{className:"difficulty-title",children:"Difficulty"}),v.jsxs("div",{className:"difficulty-options",children:[v.jsx("button",{className:`btn ${s==="easy"?"active":""}`,onClick:()=>u("easy"),children:"Easy"}),v.jsx("button",{className:`btn ${s==="normal"?"active":""}`,onClick:()=>u("normal"),children:"Normal"}),v.jsx("button",{className:`btn ${s==="hard"?"active":""}`,onClick:()=>u("hard"),children:"Hard"})]})]}),v.jsx("button",{className:"btn btn-start",onClick:()=>r("ProtocolSelection"),children:"Start Game"})]}),v.jsxs("div",{className:"main-menu-other-actions",children:[v.jsx("button",{className:"btn",onClick:()=>r("CardLibrary"),children:"Cards"}),v.jsx("button",{className:"btn",onClick:()=>d(!0),children:"Rules"})]})]}),v.jsx("div",{className:"decorative-card decorative-card-right",children:i&&v.jsx(Ct,{card:{...i,id:"deco-2",isFaceUp:!0},isFaceUp:!0})})]}),v.jsx("div",{className:"card-ticker-container",onMouseLeave:()=>_(p),children:v.jsxs("div",{className:"card-ticker-track",children:[S.map((R,T)=>v.jsx(Ct,{card:{...R,id:`ticker-1-${T}`,isFaceUp:!0},isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>_(R)},`ticker-1-${T}`)),S.map((R,T)=>v.jsx(Ct,{card:{...R,id:`ticker-2-${T}`,isFaceUp:!0},isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>_(R)},`ticker-2-${T}`))]})})]})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function Ap({title:r,onBack:s}){return v.jsxs("header",{className:"app-header",children:[v.jsx("h2",{children:r}),s&&v.jsx("button",{className:"btn btn-back",onClick:s,children:"Back"})]})}const mc=[{player:"Player",picks:1},{player:"Opponent",picks:2},{player:"Player",picks:2},{player:"Opponent",picks:1}];function sy({onBack:r,onStartGame:s}){const[u,c]=K.useState(0),[d,i]=K.useState([]),[f,h]=K.useState([]),[_,p]=K.useState([]),[m,S]=K.useState(!1),[b,R]=K.useState(null),[T,N]=K.useState(null),O=mc[u],X=(O==null?void 0:O.player)==="Player",P=(O==null?void 0:O.player)==="Opponent",k=K.useMemo(()=>new Set([...d,...f]),[d,f]),I=K.useMemo(()=>_.map(te=>({name:te,cards:da.filter(le=>le.protocol===te).sort((le,ce)=>le.value-ce.value)})),[_]),L=te=>{!X||m||p(le=>{if(le.includes(te))return le.filter(ce=>ce!==te);if(le.length<O.picks)return[...le,te];if(le.length===O.picks){const ce=le.slice(1);return ce.push(te),ce}return le})},F=async()=>{if(!X||m||_.length!==O.picks)return;S(!0);const te=[..._];p([]);for(const le of te)i(ce=>[...ce,le]),await new Promise(ce=>setTimeout(ce,300));S(!1),c(le=>le+1)};K.useEffect(()=>{P&&!m&&u<mc.length&&(async()=>{S(!0),await new Promise(xe=>setTimeout(xe,100));const le=[],ce=Ki.filter(xe=>!k.has(xe)),ge=[],Me=le.filter(xe=>ce.includes(xe));for(let xe=0;xe<O.picks;xe++)if(Me.length>0){const _e=Me.shift();ge.push(_e);const z=ce.indexOf(_e);z>-1&&ce.splice(z,1)}else if(ce.length>0){const _e=Math.floor(Math.random()*ce.length);ge.push(ce.splice(_e,1)[0])}for(const xe of ge)await new Promise(_e=>setTimeout(_e,1e3)),R(xe),await new Promise(_e=>setTimeout(_e,1e3)),R(null),h(_e=>[..._e,xe]);S(!1),c(xe=>xe+1)})()},[u,P,m,k,O]),K.useEffect(()=>{u>=mc.length&&!m&&setTimeout(()=>{s(d,f)},1e3)},[u,m,s,d,f]);const se=te=>{let le="protocol-card";return _.includes(te)&&(le+=" selected"),k.has(te)&&(le+=" chosen"),b===te&&(le+=" is-scanning"),le},fe=()=>m&&P?"Opponent is selecting protocols...":(O==null?void 0:O.player)==="Player"?`Player, select ${O.picks} protocol(s). (${_.length}/${O.picks})`:u>=mc.length?"Finalizing selections...":"Waiting for Opponent...";return v.jsxs("div",{className:"screen protocol-selection-screen",children:[v.jsx(Ap,{title:"Protocol Selection",onBack:r}),v.jsxs("div",{className:"protocol-selection-layout",children:[v.jsxs("div",{className:"protocol-selection-sidebar",children:[v.jsxs("div",{className:"player-protocols-area",children:[v.jsx("h3",{children:"Your Protocols"}),d.map(te=>v.jsx("div",{className:"protocol-display-card player",children:te},te))]}),v.jsx("div",{className:"protocol-preview-area",children:T?v.jsx(Ct,{card:{...T,id:"preview",isFaceUp:!0},isFaceUp:!0}):v.jsx("p",{children:I.length>0?"Hover over a card below to see details.":"Select a protocol to see its cards."})})]}),v.jsxs("div",{className:"protocol-grid-container",children:[v.jsx("p",{children:fe()}),v.jsx("div",{className:"protocol-grid",children:Ki.map(te=>v.jsx("div",{className:se(te),onClick:()=>L(te),role:"button","aria-disabled":k.has(te)||!X||m,tabIndex:!k.has(te)&&X&&!m?0:-1,onKeyPress:le=>le.key==="Enter"&&L(te),children:te},te))}),X&&v.jsx("button",{className:"btn",onClick:F,disabled:m||_.length!==(O==null?void 0:O.picks),children:"Confirm Selection"})]}),v.jsxs("div",{className:"opponent-protocols-area",children:[v.jsx("h3",{children:"Opponent Protocols"}),f.map(te=>v.jsx("div",{className:"protocol-display-card opponent",children:te},te))]})]}),v.jsx("div",{className:"selected-protocol-cards-container",children:I.length>0&&[...I].reverse().map(te=>v.jsx("div",{className:"protocol-card-row",children:te.cards.map(le=>v.jsx(Ct,{card:{...le,id:`selection-${le.protocol}-${le.value}`,isFaceUp:!0},isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>N(le),onMouseLeave:()=>N(null)},`${te.name}-${le.value}`))},te.name))})]})}const at=[];for(let r=0;r<256;++r)at.push((r+256).toString(16).slice(1));function dy(r,s=0){return(at[r[s+0]]+at[r[s+1]]+at[r[s+2]]+at[r[s+3]]+"-"+at[r[s+4]]+at[r[s+5]]+"-"+at[r[s+6]]+at[r[s+7]]+"-"+at[r[s+8]]+at[r[s+9]]+"-"+at[r[s+10]]+at[r[s+11]]+at[r[s+12]]+at[r[s+13]]+at[r[s+14]]+at[r[s+15]]).toLowerCase()}let Gi;const fy=new Uint8Array(16);function py(){if(!Gi){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gi=crypto.getRandomValues.bind(crypto)}return Gi(fy)}const hy=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lp={randomUUID:hy};function Qt(r,s,u){var d;if(lp.randomUUID&&!r)return lp.randomUUID();r=r||{};const c=r.random??((d=r.rng)==null?void 0:d.call(r))??py();if(c.length<16)throw new Error("Random bytes length must be >= 16");return c[6]=c[6]&15|64,c[8]=c[8]&63|128,dy(c)}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const $=(r,s,u)=>({...r,log:[...r.log,{player:s,message:u}]});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function fa(r,s,u){let c=[...r],d=[...s],i=[],f=!1;for(let h=0;h<u;h++){if(c.length===0){if(d.length===0)break;c=bc(d),d=[],f=!0}i.push(c.shift())}return{drawnCards:i,remainingDeck:c,newDiscard:d,reshuffled:f}}function eu(r,s){const u=r[s];let c=r;const d=u.lanes.flat().filter(i=>i.protocol==="Spirit"&&i.value===3&&i.isFaceUp);if(d.length>0)for(const i of d)c=$(c,s,"Spirit-3 triggers after drawing: You may shift this card."),c.queuedActions=[...c.queuedActions||[],{type:"prompt_shift_for_spirit_3",sourceCardId:i.id,optional:!0,actor:s}];return c}function Oe(r,s,u){const c=r[s],{drawnCards:d,remainingDeck:i,newDiscard:f,reshuffled:h}=fa(c.deck,c.discard,u);if(d.length===0)return r;const _=d.map(b=>({...b,id:Qt(),isFaceUp:!0})),p=_.map(b=>b.id),m={...c,deck:i,discard:f,hand:[...c.hand,..._]};let S={...r,[s]:m};return p.length>0&&(S.animationState={type:"drawCard",owner:s,cardIds:p}),h&&(S=$(S,s,`${s==="player"?"Player":"Opponent"}'s deck is empty. Discard pile has been reshuffled into the deck.`)),d.length>0&&(S=eu(S,s)),S}function xp(r,s){const c=5-r[s].hand.length;if(c<=0)return r;const d=s==="player"?"Player":"Opponent";let i=Oe(r,s,c);return $(i,s,`${d} refreshes their hand, drawing ${c} card(s).`)}function Mt(r,s){const u={...s},c=d=>d.map(i=>i.map(f=>r.has(f.id)?{...f,isFaceUp:!f.isFaceUp}:f));return u.player.lanes=c(u.player.lanes),u.opponent.lanes=c(u.opponent.lanes),pt(u)}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const np=r=>{const s=bc(uy(r)),{drawnCards:u,remainingDeck:c}=fa(s,[],5);return{protocols:r,deck:c,hand:u.map(d=>({...d,id:Qt(),isFaceUp:!0})),lanes:[[],[],[]],discard:[],compiled:[!1,!1,!1],laneValues:[0,0,0],cannotCompile:!1,stats:{cardsPlayed:0,cardsDiscarded:0,cardsDeleted:0,cardsFlipped:0,cardsShifted:0}}},_y=(r,s)=>{const u=np(r),c=np(s),d={player:u,opponent:c,turn:"player",phase:"start",controlCardHolder:null,winner:null,log:[],actionRequired:null,queuedActions:[],animationState:null,compilableLanes:[],processedStartEffectIds:[],processedEndEffectIds:[],lastPlayedCardId:void 0,stats:{player:u.stats,opponent:c.stats}};return $(d,"player","Game Started.")},Ya=(r,s)=>r.isFaceUp?r.value:s.some(c=>c.isFaceUp&&c.protocol==="Darkness"&&c.value===2)?4:2,rp=r=>{let s=0;for(const u of r)u.isFaceUp?s+=u.value:s+=2;return Math.max(0,s)};function yy(r,s,u){let c=[...s],d=[...u];for(let i=0;i<3;i++)r.opponent.lanes[i].some(f=>f.isFaceUp&&f.protocol==="Metal"&&f.value===0)&&(c[i]=Math.max(0,c[i]-2)),r.player.lanes[i].some(f=>f.isFaceUp&&f.protocol==="Metal"&&f.value===0)&&(d[i]=Math.max(0,d[i]-2));for(let i=0;i<3;i++){for(const f of r.player.lanes[i])if(f.isFaceUp)switch(`${f.protocol}-${f.value}`){case"Apathy-0":{const h=r.player.lanes[i].filter(_=>!_.isFaceUp).length;c[i]+=h;break}case"Darkness-2":{const h=r.player.lanes[i].filter(_=>!_.isFaceUp).length;c[i]+=h*2;break}}for(const f of r.opponent.lanes[i])if(f.isFaceUp)switch(`${f.protocol}-${f.value}`){case"Apathy-0":{const h=r.opponent.lanes[i].filter(_=>!_.isFaceUp).length;d[i]+=h;break}case"Darkness-2":{const h=r.opponent.lanes[i].filter(_=>!_.isFaceUp).length;d[i]+=h*2;break}}}return{finalPlayerValues:c,finalOpponentValues:d}}const pt=r=>{const s=r.player.lanes.map(rp),u=r.opponent.lanes.map(rp),{finalPlayerValues:c,finalOpponentValues:d}=yy(r,s,u);return{...r,player:{...r.player,laneValues:c},opponent:{...r.opponent,laneValues:d}}},Dp=(r,s)=>{const u=[],c=r[s],d=r[s==="player"?"opponent":"player"];if(!c.cannotCompile)for(let i=0;i<3;i++){const f=c.laneValues[i],h=d.laneValues[i];f>=10&&f>h&&u.push(i)}return u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const my=(r,s,u,c)=>{const d=c==="player"?"opponent":"player",i=u[c].lanes[s],f=u[d].lanes[s],h=new Set;if(i.filter(_=>_.id!==r.id&&_.isFaceUp).forEach(_=>h.add(_.id)),f.filter(_=>_.isFaceUp).forEach(_=>h.add(_.id)),h.size>0){let _={...u};return _=$(_,c,`Apathy-1: Flip ${h.size} card(s) face-down in the line.`),{newState:Mt(h,_)}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const vy=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};return i[d].lanes.flat().filter(h=>h.isFaceUp).length>0&&(i.actionRequired={type:"select_opponent_face_up_card_to_flip",count:1,sourceCardId:r.id,actor:c}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const gy=(r,s,u,c)=>{let d={...u};return d[c].lanes.flatMap(f=>f.filter((h,_)=>h.isFaceUp&&_<f.length-1)).length>0&&(d.actionRequired={type:"select_own_face_up_covered_card_to_flip",count:1,optional:!0,sourceCardId:r.id,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const ot=(r,s,u,c)=>{let d={...u};return d[c].hand.length>0&&(d.actionRequired={type:"discard",player:c,count:1,sourceCardId:r.id}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Sy=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i=Oe(u,c,3);return i=$(i,c,"Darkness-0: Draw 3 cards."),i[d].lanes.flatMap(h=>h.filter((_,p)=>p<h.length-1)).length>0&&(i=$(i,c,"Darkness-0: Prompts to shift 1 of opponent's covered cards."),i.actionRequired={type:"select_opponent_covered_card_to_shift",sourceCardId:r.id,actor:c}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const by=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};return i[d].lanes.flat().length>0&&(i.actionRequired={type:"select_opponent_card_to_flip",sourceCardId:r.id,actor:c}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const wy=(r,s,u,c)=>{let d={...u};return d[c].lanes[s].filter((f,h,_)=>h<_.length-1).length>0&&(d.actionRequired={type:"select_own_covered_card_in_lane_to_flip",laneIndex:s,sourceCardId:r.id,optional:!0,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Cy=(r,s,u,c)=>{let d={...u};return d[c].hand.length>0&&(d.actionRequired={type:"select_card_from_hand_to_play",disallowedLaneIndex:s,sourceCardId:r.id,isFaceDown:!0,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ry=(r,s,u,c)=>{let d={...u};return[...d.player.lanes.flat(),...d.opponent.lanes.flat()].filter(f=>!f.isFaceUp).length>0&&(d=$(d,c,"Darkness-4: Prompts to shift 1 face-down card."),d.actionRequired={type:"select_face_down_card_to_shift_for_darkness_4",sourceCardId:r.id,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ay=(r,s,u,c)=>{const d=["player","opponent"],i=[];for(const S of d){const b=u[S].lanes[s];for(let R=0;R<b.length;R++)i.push({card:b[R],owner:S})}if(i.length===0)return{newState:u};const f=i.reduce((S,b)=>{const R=T=>T.card.isFaceUp?T.card.value:u[T.owner].lanes[s].some(O=>O.isFaceUp&&O.protocol==="Darkness"&&O.value===2)?4:2;return R(b)<R(S)?b:S}),h=`${r.protocol}-${r.value}`,_=f.card.isFaceUp?`${f.card.protocol}-${f.card.value}`:"a face-down card",p=f.owner==="player"?"Player's":"Opponent's";return{newState:$(u,c,`${h} effect triggers, deleting the lowest value covered card (${p} ${_}).`),animationRequests:[{type:"delete",cardId:f.card.id,owner:f.owner}]}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const xy=(r,s,u,c)=>{const d=`${r.protocol}-${r.value}`;let i=$(u,c,`${d} On-Cover: Draw 1 card.`);return i=Oe(i,c,1),[...i.player.lanes.flat(),...i.opponent.lanes.flat()].filter(h=>h.id!==r.id).length>0?(i=$(i,c,`${d} On-Cover: Prompts to flip another card.`),i.actionRequired={type:"select_any_other_card_to_flip",sourceCardId:r.id,draws:0,actor:c},u.turn!==c&&(i._interruptedTurn=u.turn,i.turn=c)):i=$(i,c,`${d} On-Cover: No other cards to flip.`),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Dy=(r,s,u,c)=>{if(u[c].deck.length>0||u[c].discard.length>0){let d={...u};return d.actionRequired={type:"select_lane_for_life_3_play",sourceCardId:r.id,disallowedLaneIndex:s,actor:c},u.turn!==c&&(d._interruptedTurn=u.turn,d.turn=c),{newState:d}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ty=(r,s,u,c)=>{const d=u.turn,i=`${r.protocol}-${r.value}`;let f=$(u,d,`${i} effect triggers: flipping itself face-down.`);return f=Mt(new Set([r.id]),f),{newState:f}},qy=(r,s,u,c)=>{const d=u.turn,i=`${r.protocol}-${r.value}`;return{newState:$(u,d,`${i} effect triggers: deleting itself.`),animationRequests:[{type:"delete",cardId:r.id,owner:c}]}},Ey=(r,s,u,c)=>{const d=u.turn,i=`${r.protocol}-${r.value}`;return{newState:$(u,d,`${i} effect triggers on cover: deleting itself.`),animationRequests:[{type:"delete",cardId:r.id,owner:c}]}},er={"Apathy-2":Ty,"Hate-4":Ay,"Fire-0":xy,"Life-0":qy,"Life-3":Dy,"Metal-6":Ey};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ny=(r,s,u,c)=>{let d={...u};const i={...d[c]},f=[];for(let R=0;R<3;R++)d[c].lanes[R].length>0&&f.push(R);if(f.length===0)return{newState:d};const h=f.map(R=>{const T=d[c].lanes[R];return T.length>0?{card:T[T.length-1],laneIndex:R}:null}).filter(R=>R!==null),{drawnCards:_,remainingDeck:p,newDiscard:m}=fa(i.deck,i.discard,f.length);if(_.length===0)return{newState:d};const S=[...i.lanes];for(let R=0;R<_.length;R++){const T=f[R],N={..._[R],id:Qt(),isFaceUp:!1};S[T]=[...S[T],N]}d[c]={...i,lanes:S,deck:p,discard:m},d=$(d,c,`Life-0: Plays ${_.length} card(s) face-down.`);let b={newState:d};for(const{card:R,laneIndex:T}of h){const N=`${R.protocol}-${R.value}`,O=er[N];if(O){const X=O(R,T,b.newState,c);if(b.newState=X.newState,X.animationRequests&&(b.animationRequests=[...b.animationRequests||[],...X.animationRequests]),b.newState.actionRequired)break}}return b};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Oy=(r,s,u,c)=>{if([...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0){let i={...u};return i=$(i,c,"Life-1: Prompts to flip 2 cards."),i.actionRequired={type:"select_any_card_to_flip",count:2,sourceCardId:r.id,actor:c},{newState:i}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Uy=(r,s,u,c)=>{let d=Oe(u,c,1);return d=$(d,c,"Life-2: Draw 1 card."),[...d.player.lanes.flat(),...d.opponent.lanes.flat()].filter(f=>!f.isFaceUp).length>0&&(d.actionRequired={type:"select_any_face_down_card_to_flip_optional",sourceCardId:r.id,optional:!0,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const jy=(r,s,u,c)=>{if(u[c].lanes[s].length>1){let i=Oe(u,c,1);return i=$(i,c,"Life-4: Card is covering another, draw 1 card."),{newState:i}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const My=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};const f={...i[d]},h={...i[c]},{drawnCards:_,remainingDeck:p,newDiscard:m}=fa(f.deck,f.discard,1);if(_.length>0){const S={..._[0],id:Qt(),isFaceUp:!0};h.hand=[...h.hand,S],f.deck=p,f.discard=m,i={...i,[c]:h,[d]:f},i=$(i,c,`Love-1: ${c==="player"?"Player":"Opponent"} draws the top card of the opponent's deck.`),i=eu(i,c)}return{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const zy=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};return i=$(i,c,"Love-2: Opponent draws 1 card."),i=Oe(i,d,1),i=xp(i,c),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Hy=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};const f={...i[d]},h={...i[c]};if(f.hand.length===0)return i=$(i,c,"Love-3: Opponent has no cards to take."),{newState:i};const _=Math.floor(Math.random()*f.hand.length),p=f.hand.splice(_,1)[0];h.hand.push(p),i={...i,[c]:h,[d]:f};const m=c==="player"?"Player":"Opponent",S=c==="player"?`${p.protocol}-${p.value}`:"a random card";return i=$(i,c,`Love-3: ${m} takes ${S} from the opponent.`),i.actionRequired={type:"select_card_from_hand_to_give",sourceCardId:r.id,sourceEffect:"love_3",actor:c},{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const ky=(r,s,u,c)=>{let d={...u};return d[c].hand.length>0&&(d.actionRequired={type:"select_card_from_hand_to_reveal",sourceCardId:r.id,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ly=(r,s,u,c)=>{let i=Oe(u,c==="player"?"opponent":"player",2);return i=$(i,c,"Love-6: Opponent draws 2 cards."),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Yy=(r,s,u,c)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0?{newState:{...u,actionRequired:{type:"select_any_card_to_flip",count:1,sourceCardId:r.id,actor:c}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const By=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};return i=Oe(i,c,2),i=$(i,c,"Metal-1: Draw 2 cards."),i[d].cannotCompile=!0,i=$(i,c,"Metal-1: Opponent cannot compile next turn."),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Vy=(r,s,u,c)=>{let d=Oe(u,c,1);d=$(d,c,"Metal-3: Draw 1 card.");const i=[0,1,2].filter(h=>h!==s);let f=!1;for(const h of i)if(d.player.lanes[h].length+d.opponent.lanes[h].length>=8){f=!0;break}return f&&(d.actionRequired={type:"select_lane_for_metal_3_delete",sourceCardId:r.id,disallowedLaneIndex:s,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Gy=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};return i[d].hand.length>0&&(i.actionRequired={type:"discard",player:d,count:1,sourceCardId:r.id}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const $y=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};return i[d].hand.length>0&&(i.actionRequired={type:"discard",player:d,count:1,sourceCardId:r.id}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Xy=(r,s,u,c)=>{let d={...u};return d[c].hand.length>0&&(c==="player"?d.actionRequired={type:"plague_2_player_discard",sourceCardId:r.id,actor:c}:d.actionRequired={type:"plague_2_opponent_discard",sourceCardId:r.id,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Qy=(r,s,u,c)=>{const d=[...u.player.lanes.flat(),...u.opponent.lanes.flat()],i=new Set(d.filter(f=>f.id!==r.id&&f.isFaceUp).map(f=>f.id));if(i.size>0){let f={...u};return f=$(f,c,`Plague-3: Flip ${i.size} card(s) face-down.`),{newState:Mt(i,u)}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Zy=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i=Oe(u,c,2);i=$(i,c,"Psychic-0: Draw 2 cards.");const f=i[d].hand.length;return f>0&&(i.actionRequired={type:"discard",player:d,count:Math.min(2,f),sourceCardId:r.id},i.queuedActions=[...i.queuedActions||[],{type:"reveal_opponent_hand",sourceCardId:r.id,actor:c}]),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Fy=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};const f=i[d].hand.length,h={type:"prompt_rearrange_protocols",sourceCardId:r.id,target:d,actor:c};return f>0?(i.actionRequired={type:"discard",player:d,count:Math.min(2,f),sourceCardId:r.id},i.queuedActions=[...i.queuedActions||[],h]):i.actionRequired=h,{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ky=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};const f=i[d].hand.length,h={type:"select_any_opponent_card_to_shift",sourceCardId:r.id,actor:c};return f>0?(i.actionRequired={type:"discard",player:d,count:1,sourceCardId:r.id},i.queuedActions=[...i.queuedActions||[],h]):i[d].lanes.flat().length>0&&(i.actionRequired=h),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Py=(r,s,u,c)=>{let d={...u};return d[c].hand.length>0&&(d=$(d,c,"Speed-0: Play another card."),d.actionRequired={type:"select_card_from_hand_to_play",disallowedLaneIndex:-1,sourceCardId:r.id,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Jy=(r,s,u,c)=>{let d=Oe(u,c,2);return d=$(d,c,"Speed-1: Draw 2 cards."),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Iy=(r,s,u,c)=>u[c].lanes.flat().filter(i=>i.id!==r.id).length>0?{newState:{...u,actionRequired:{type:"select_own_other_card_to_shift",sourceCardId:r.id,actor:c}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Wy=(r,s,u,c)=>u[c==="player"?"opponent":"player"].lanes.flat().filter(f=>!f.isFaceUp).length>0?{newState:{...u,actionRequired:{type:"select_opponent_face_down_card_to_shift",sourceCardId:r.id,actor:c}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const em=(r,s,u,c)=>{let d={...u};return d=xp(d,c),d=Oe(d,c,1),d=$(d,c,"Spirit-0: Draw 1 card."),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const tm=(r,s,u,c)=>{let d=Oe(u,c,2);return d=$(d,c,"Spirit-1: Draw 2 cards."),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const am=(r,s,u,c)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0?{newState:{...u,actionRequired:{type:"select_any_card_to_flip_optional",sourceCardId:r.id,optional:!0,actor:c}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const lm=(r,s,u,c)=>{const d=$(u,c,"Spirit-4 prompts to swap protocols.");return d.actionRequired={type:"prompt_swap_protocols",sourceCardId:r.id,actor:c},{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const nm=(r,s,u,c)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(f=>f.id!==r.id).length>0?{newState:{...u,actionRequired:{type:"select_cards_to_delete",count:1,sourceCardId:r.id,disallowedIds:[r.id],actor:c}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const rm=(r,s,u,c)=>{let d={...u};const i=d[c],f=Math.min(3,i.hand.length);return f>0?d.actionRequired={type:"select_cards_from_hand_to_discard_for_hate_1",count:f,sourceCardId:r.id,actor:c}:d.actionRequired={type:"select_cards_to_delete",count:2,sourceCardId:r.id,disallowedIds:[r.id],actor:c},{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const cm=(r,s,u,c)=>{const i=[c,c==="player"?"opponent":"player"],f=[];let h=u;for(const _ of i){const p=u[_].lanes.flat();if(p.length>0){const m=p.reduce((T,N)=>{const O=T.isFaceUp?T.value:2;return(N.isFaceUp?N.value:2)>O?N:T});f.push({type:"delete",cardId:m.id,owner:_});const S=_===c?"Your":"Opponent's",b=m.isFaceUp?`${m.protocol}-${m.value}`:"a face-down card",R=`Hate-2: Deleting ${S} highest value card (${b}).`;h=$(h,c,R)}}return{newState:h,animationRequests:f}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const om=(r,s,u,c)=>{const f=[0,1,2].filter(h=>h!==s).filter(h=>u.player.lanes[h].length>0||u.opponent.lanes[h].length>0).length;return f>0?{newState:{...u,actionRequired:{type:"select_card_from_other_lanes_to_delete",sourceCardId:r.id,disallowedLaneIndex:s,lanesSelected:[],count:f,actor:c}}}:{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const im=(r,s,u,c)=>({newState:{...u,actionRequired:{type:"select_lane_for_death_2",sourceCardId:r.id,actor:c}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const um=(r,s,u,c)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(i=>!i.isFaceUp).length>0?{newState:{...u,actionRequired:{type:"select_face_down_card_to_delete",sourceCardId:r.id,actor:c}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const sm=(r,s,u,c)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(f=>f.isFaceUp&&(f.value===0||f.value===1)).length>0?{newState:{...u,actionRequired:{type:"select_low_value_card_to_delete",sourceCardId:r.id,actor:c}}}:{newState:$(u,c,"Death-4: No valid targets (face-up card with value 0 or 1) found.")};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const dm=(r,s,u,c)=>{if([...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(i=>i.id!==r.id).length>0)return{newState:{...u,actionRequired:{type:"select_any_other_card_to_flip",sourceCardId:r.id,draws:2,actor:c}}};{let i=$(u,c,"Fire-0: No other cards to flip, drawing 2 cards.");return i=Oe(i,c,2),{newState:i}}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const fm=(r,s,u,c)=>{let d={...u};return d[c].hand.length>0&&(d.actionRequired={type:"discard",player:c,count:1,sourceCardId:r.id,sourceEffect:"fire_1"}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const pm=(r,s,u,c)=>{let d={...u};return d[c].hand.length>0&&(d.actionRequired={type:"discard",player:c,count:1,sourceCardId:r.id,sourceEffect:"fire_2"}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const hm=(r,s,u,c)=>u[c].hand.length>0?{newState:{...u,actionRequired:{type:"select_cards_from_hand_to_discard_for_fire_4",sourceCardId:r.id,actor:c}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const _m=(r,s,u,c)=>{const d=c==="player"?"opponent":"player",i=u[c].lanes[s].length,f=u[d].lanes[s].length,h=i+f,_=Math.floor(h/2);if(_===0)return{newState:u};let p={...u};const m={...p[c]},{drawnCards:S,remainingDeck:b,newDiscard:R}=fa(m.deck,m.discard,_);if(S.length===0)return{newState:p};const T=S.map(X=>({...X,id:Qt(),isFaceUp:!1})),N=[...m.lanes[s]];N.splice(N.length-1,0,...T);const O=[...m.lanes];return O[s]=N,p[c]={...m,lanes:O,deck:b,discard:R},p=$(p,c,`Gravity-0: Plays ${S.length} card(s) face-down under itself.`),{newState:p}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const ym=(r,s,u,c)=>{let d=Oe(u,c,2);return d=$(d,c,"Gravity-1: Draw 2 cards."),[...d.player.lanes.flat(),...d.opponent.lanes.flat()].length>0&&(d.actionRequired={type:"select_card_to_shift_for_gravity_1",sourceCardId:r.id,sourceLaneIndex:s,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const mm=(r,s,u,c)=>{let d={...u};return[...d.player.lanes.flat(),...d.opponent.lanes.flat()].length>0&&(d.actionRequired={type:"select_card_to_flip_and_shift_for_gravity_2",sourceCardId:r.id,targetLaneIndex:s,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const vm=(r,s,u,c)=>{let d={...u};const i=[];return d.player.lanes.forEach((f,h)=>{h!==s&&f.forEach(_=>{_.isFaceUp||i.push(_)})}),d.opponent.lanes.forEach((f,h)=>{h!==s&&f.forEach(_=>{_.isFaceUp||i.push(_)})}),i.length>0?d.actionRequired={type:"select_face_down_card_to_shift_for_gravity_4",sourceCardId:r.id,targetLaneIndex:s,actor:c}:d=$(d,c,"Gravity-4: No valid face-down cards in other lines to shift."),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const gm=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};const f={...i[d]},h=f.lanes[s],_=h.length>0?h[h.length-1]:null,{drawnCards:p,remainingDeck:m,newDiscard:S}=fa(f.deck,f.discard,1);if(p.length>0){const b={...p[0],id:Qt(),isFaceUp:!1},R=[...f.lanes];R[s]=[...R[s],b],i[d]={...f,lanes:R,deck:m,discard:S};const T=i[d].protocols[s];i=$(i,c,`Gravity-6: Opponent plays the top card of their deck face-down into Protocol ${T}.`);let N={newState:i};if(_){const O=`${_.protocol}-${_.value}`,X=er[O];if(X){const P=X(_,s,N.newState,d);N.newState=P.newState,P.animationRequests&&(N.animationRequests=[...N.animationRequests||[],...P.animationRequests])}}return N}return{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Sm=(r,s,u,c)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0?{newState:{...u,actionRequired:{type:"select_card_to_flip_for_light_0",sourceCardId:r.id,actor:c}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const bm=(r,s,u,c)=>{let d=Oe(u,c,2);return d=$(d,c,"Light-2: Draw 2 cards."),[...d.player.lanes.flat(),...d.opponent.lanes.flat()].filter(f=>!f.isFaceUp).length>0&&(d.actionRequired={type:"select_face_down_card_to_reveal_for_light_2",sourceCardId:r.id,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const wm=(r,s,u,c)=>{let d={...u};return[...d[c].lanes[s],...d[c==="player"?"opponent":"player"].lanes[s]].filter(f=>!f.isFaceUp).length>0&&(d.actionRequired={type:"select_lane_to_shift_cards_for_light_3",sourceCardId:r.id,sourceLaneIndex:s,actor:c}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Cm=(r,s,u,c)=>{const d=c==="player"?"opponent":"player";let i={...u};return{...i[d]}.hand.length>0&&(i.actionRequired={type:"reveal_opponent_hand",sourceCardId:r.id,actor:c}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Rm=(r,s,u,c)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(i=>i.id!==r.id).length>0?{newState:{...u,actionRequired:{type:"select_any_other_card_to_flip_for_water_0",sourceCardId:r.id,actor:c}}}:{newState:Mt(new Set([r.id]),u)};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Am=(r,s,u,c)=>{let d={...u};const i={...d[c]},f=[0,1,2].filter(R=>R!==s);if(f.length===0)return{newState:d};const h=f.map(R=>{const T=d[c].lanes[R];return T.length>0?{card:T[T.length-1],laneIndex:R}:null}).filter(R=>R!==null),{drawnCards:_,remainingDeck:p,newDiscard:m}=fa(i.deck,i.discard,f.length);if(_.length===0)return{newState:d};const S=[...i.lanes];for(let R=0;R<_.length;R++){const T=f[R],N={..._[R],id:Qt(),isFaceUp:!1};S[T]=[...S[T],N]}d[c]={...i,lanes:S,deck:p,discard:m},d=$(d,c,`Water-1: Plays ${_.length} card(s) face-down in other lines.`);let b={newState:d};for(const{card:R,laneIndex:T}of h){const N=`${R.protocol}-${R.value}`,O=er[N];if(O){const X=O(R,T,b.newState,c);if(b.newState=X.newState,X.animationRequests&&(b.animationRequests=[...b.animationRequests||[],...X.animationRequests]),b.newState.actionRequired)break}}return b};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const xm=(r,s,u,c)=>{let d=Oe(u,c,2);return d=$(d,c,"Water-2: Draw 2 cards."),d.actionRequired={type:"prompt_rearrange_protocols",sourceCardId:r.id,target:c,actor:c},{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Dm=(r,s,u,c)=>({newState:{...u,actionRequired:{type:"select_lane_for_water_3",sourceCardId:r.id,actor:c}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Tm=(r,s,u,c)=>({newState:{...u,actionRequired:{type:"select_own_card_to_return_for_water_4",sourceCardId:r.id,actor:c}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const qm={"Apathy-1":my,"Apathy-3":vy,"Apathy-4":gy,"Apathy-5":ot,"Darkness-0":Sy,"Darkness-1":by,"Darkness-2":wy,"Darkness-3":Cy,"Darkness-4":Ry,"Darkness-5":ot,"Death-0":om,"Death-2":im,"Death-3":um,"Death-4":sm,"Death-5":ot,"Fire-0":dm,"Fire-1":fm,"Fire-2":pm,"Fire-4":hm,"Fire-5":ot,"Gravity-0":_m,"Gravity-1":ym,"Gravity-2":mm,"Gravity-4":vm,"Gravity-5":ot,"Gravity-6":gm,"Hate-0":nm,"Hate-1":rm,"Hate-2":cm,"Hate-5":ot,"Life-0":Ny,"Life-1":Oy,"Life-2":Uy,"Life-4":jy,"Life-5":ot,"Light-0":Sm,"Light-2":bm,"Light-3":wm,"Light-4":Cm,"Light-5":ot,"Love-1":My,"Love-2":zy,"Love-3":Hy,"Love-4":ky,"Love-5":ot,"Love-6":Ly,"Metal-0":Yy,"Metal-1":By,"Metal-3":Vy,"Metal-5":ot,"Plague-0":Gy,"Plague-1":$y,"Plague-2":Xy,"Plague-3":Qy,"Plague-5":ot,"Psychic-0":Zy,"Psychic-2":Fy,"Psychic-3":Ky,"Psychic-5":ot,"Speed-0":Py,"Speed-1":Jy,"Speed-3":Iy,"Speed-4":Wy,"Speed-5":ot,"Spirit-0":em,"Spirit-1":tm,"Spirit-2":am,"Spirit-4":lm,"Spirit-5":ot,"Water-0":Rm,"Water-1":Am,"Water-2":xm,"Water-3":Dm,"Water-4":Tm,"Water-5":ot};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Em=(r,s)=>({newState:{...s,actionRequired:{type:"prompt_death_1_effect",sourceCardId:r.id,optional:!0,actor:s.turn}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Nm=(r,s)=>{const u=s.turn,c=`${r.protocol}-${r.value}`;let d=$(s,u,`${c} Start Phase: Flipping itself.`);return d=Mt(new Set([r.id]),d),d.animationState={type:"flipCard",cardId:r.id},{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Om=(r,s)=>({newState:{...s,actionRequired:{type:"prompt_spirit_1_start",sourceCardId:r.id,actor:s.turn}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Um={"Death-1":Em,"Psychic-1":Nm,"Spirit-1":Om};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const jm=(r,s)=>{const u=s.turn;return s[u==="player"?"opponent":"player"].lanes.flat().filter(i=>!i.isFaceUp).length>0?{newState:{...s,actionRequired:{type:"plague_4_opponent_delete",sourceCardId:r.id,actor:u}}}:{newState:{...s,actionRequired:{type:"plague_4_player_flip_optional",sourceCardId:r.id,optional:!0,actor:u}}}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Mm=(r,s)=>{let u=Oe(s,s.turn,1);return u=$(u,s.turn,"Light-1 End Phase: Draw 1 card."),{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const zm=(r,s)=>{const u=s.turn;return s[u].hand.length>0?{newState:{...s,actionRequired:{type:"prompt_fire_3_discard",sourceCardId:r.id,optional:!0,actor:u}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Hm=(r,s)=>{const u=s.turn;return s[u].lanes.flat().length>0?{newState:{...s,actionRequired:{type:"prompt_shift_for_speed_3",sourceCardId:r.id,optional:!0,actor:u}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const km=(r,s)=>{const u=s.turn;return s[u].hand.length>0?{newState:{...s,actionRequired:{type:"prompt_give_card_for_love_1",sourceCardId:r.id,optional:!0,actor:u}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Lm=(r,s)=>{const u=s.turn;return s[u==="player"?"opponent":"player"].lanes.flat().length>0?{newState:{...s,actionRequired:{type:"prompt_return_for_psychic_4",sourceCardId:r.id,optional:!0,actor:u}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ym={"Plague-4":jm,"Light-1":Mm,"Fire-3":zm,"Speed-3":Hm,"Love-1":km,"Psychic-4":Lm};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function tu(r,s,u,c){const d=u[c].lanes[s];if(!d.find(b=>b.id===r.id))return{newState:u};if(!(d.length>0&&d[d.length-1].id===r.id))return{newState:u};const h=c==="player"?"opponent":"player",_=u[c].lanes[s].some(b=>b.isFaceUp&&b.protocol==="Apathy"&&b.value===2&&b.id!==r.id),p=u[h].lanes[s].some(b=>b.isFaceUp&&b.protocol==="Apathy"&&b.value===2);if(_||p)return{newState:u};const m=`${r.protocol}-${r.value}`,S=qm[m];if(S){const b=S(r,s,u,c),R=pt(b.newState);return{...b,newState:R}}return{newState:u}}function Bm(r,s,u){if(!r.isFaceUp)return{newState:u};const c=["player","opponent"];let d=null;for(const h of c)if(u[h].lanes[s].some(_=>_.id===r.id)){d=h;break}if(!d)return console.error("Could not find owner for onCover effect card",r),{newState:u};const i=`${r.protocol}-${r.value}`,f=er[i];if(f){const h=f(r,s,u,d),_=pt(h.newState);return{...h,newState:_}}return{newState:u}}function Tp(r){const s=r.turn;let u={...r};const c=u.processedStartEffectIds||[],d=u[s].lanes.map(i=>i.length>0?i[i.length-1]:null).filter(i=>i!==null&&i.isFaceUp&&(i.top.includes("'emphasis'>Start:")||i.bottom.includes("'emphasis'>Start:"))&&!c.includes(i.id));for(const i of d){const f=`${i.protocol}-${i.value}`,h=Um[f];if(h){const _=h(i,u);if(u=pt(_.newState),u.processedStartEffectIds=[...u.processedStartEffectIds||[],i.id],u.actionRequired)return{newState:u}}}return{newState:u}}function Vm(r){const s=r.turn;let u={...r};const c=u.processedEndEffectIds||[],d=u[s].lanes.map(i=>i.length>0?i[i.length-1]:null).filter(i=>i!==null&&i.isFaceUp&&i.bottom.includes("'emphasis'>End:")&&!c.includes(i.id));for(const i of d){const f=`${i.protocol}-${i.value}`,h=Ym[f];if(h){const _=h(i,u);if(u=pt(_.newState),u.processedEndEffectIds=[...u.processedEndEffectIds||[],i.id],u.actionRequired)return{newState:u}}}return{newState:u}}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function Ce(r,s){if(!s)return null;for(const u of["player","opponent"])for(const c of r[u].lanes){const d=c.find(i=>i.id===s);if(d)return{card:d,owner:u}}return null}function cp(r,s,u,c){var h;if(!u||!c)return r;let d={...r};const i=(h=Ce(d,c))==null?void 0:h.card,f=i?`${i.protocol}-${i.value}`:"A card effect";switch(u){case"fire_1":d=$(d,s,`${f}: Discard successful. Prompting to delete 1 card.`),d.actionRequired={type:"select_cards_to_delete",count:1,sourceCardId:c,disallowedIds:[c],actor:s};break;case"fire_2":d=$(d,s,`${f}: Discard successful. Prompting to return 1 card.`),d.actionRequired={type:"select_card_to_return",sourceCardId:c,actor:s};break;case"fire_3":d=$(d,s,`${f}: Discard successful. Prompting to flip 1 card.`),d.actionRequired={type:"select_card_to_flip_for_fire_3",sourceCardId:c,actor:s};break}return d}function wt(r,s,u=null){const c=Ce(r,s);if(!c)return r;const{card:d,owner:i}=c,f=r.turn,h=f==="player"?"Player":"Opponent",_=i==="player"?"Player's":"Opponent's",p=d.isFaceUp?"face-down":"face-up",m=d.isFaceUp?`${d.protocol}-${d.value}`:"a face-down card";let S=$(r,f,`${h} flips ${_} ${m} ${p}.`);return S=Mt(new Set([s]),S),S[f].stats.cardsFlipped++,S.animationState={type:"flipCard",cardId:s},S.actionRequired=u,S}function Pi(r,s){const u=Ce(r,s);if(!u)return r;const{card:c,owner:d}=u;let i={...r};const f={...i[d]};f.lanes=f.lanes.map(S=>S.filter(b=>b.id!==s)),f.hand=[...f.hand,{...c,isFaceUp:!0,isRevealed:!1}],i[d]=f;const h=i.turn,_=h==="player"?"Player":"Opponent",p=d==="player"?"Player's":"Opponent's",m=`${c.protocol}-${c.value}`;return i=$(i,h,`${_} returns ${p} ${m} to their hand.`),i.actionRequired=null,pt(i)}function Kl(r,s,u,c,d){let i={...r};const f={...i[u]},h=f.lanes.flat().find(T=>T.id===s);if(!h)return r;let _=-1;if(f.lanes=f.lanes.map((T,N)=>T.some(O=>O.id===s)?(_=N,T.filter(O=>O.id!==s)):T),_===-1)return r;const p=f.lanes[c].length>0?f.lanes[c][f.lanes[c].length-1]:null;f.lanes[c]=[...f.lanes[c],h],i[u]=f;const m=d==="player"?"Player":"Opponent",S=u==="player"?"Player's":"Opponent's",b=h.isFaceUp?`${h.protocol}-${h.value}`:"a card",R=i[u].protocols[c];if(i=$(i,d,`${m} shifts ${S} ${b} to Protocol ${R}.`),i[d].stats.cardsShifted++,i.actionRequired=null,i=pt(i),p){const T=`${p.protocol}-${p.value}`,N=er[T];N&&(i=N(p,c,i,u).newState)}return i}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Gm=(r,s)=>{if(r[s].lanes.flat().some(d=>d.isFaceUp&&d.protocol==="Speed"&&d.value===1)){let d={...r};return d=$(d,s,"Speed-1 triggers after clearing cache: Draw 1 card."),d=Oe(d,s,1),d}return r},Pl=r=>{if(r.winner)return r;const s=r.turn;let u={...r};switch(r.phase){case"start":return u=Tp(u).newState,u.actionRequired?u:{...u,phase:"control"};case"control":return{...u,phase:"compile"};case"compile":{const c=Dp(u,s);return c.length>0?{...u,compilableLanes:c}:{...u,phase:"action",compilableLanes:[]}}case"action":return{...u,phase:"hand_limit"};case"hand_limit":{const c=u[s];return c.lanes.some(f=>f.length>0&&f[f.length-1].isFaceUp&&f[f.length-1].protocol==="Spirit"&&f[f.length-1].value===0)?{...$(u,s,"Spirit-0: Skipping Check Cache phase."),phase:"end"}:c.hand.length>5?{...u,actionRequired:{type:"discard",player:s,count:c.hand.length-5}}:{...Gm(u,s),phase:"end"}}case"end":{const c={...u};u=Vm(u).newState;const d=c.actionRequired,i=u.actionRequired;if(i&&i!==d)return u;const f=s==="player"?"opponent":"player",h={...u[s],cannotCompile:!1};return{...u,[s]:h,turn:f,phase:"start",processedStartEffectIds:[],processedEndEffectIds:[]}}}return r},qp=r=>{if(r.winner)return r;if(r._interruptedTurn){const c=r._interruptedTurn;let d={...r};delete d._interruptedTurn,d.turn=c,r=d}if(r.queuedActions&&r.queuedActions.length>0){let c={...r},d=[...c.queuedActions];for(;d.length>0;){const i=d[0];if(i.type==="reveal_opponent_hand"){d.shift();const f=c.turn==="player"?"opponent":"player",h={...c[f]};if(h.hand.length>0){h.hand=h.hand.map(m=>({...m,isRevealed:!0})),c[f]=h;const _=Ce(c,i.sourceCardId),p=_?`${_.card.protocol}-${_.card.value}`:"A card effect";c=$(c,c.turn,`${p}: Opponent reveals their hand.`)}else{const _=Ce(c,i.sourceCardId),p=_?`${_.card.protocol}-${_.card.value}`:"A card effect";c=$(c,c.turn,`${p}: Opponent has no cards to reveal.`)}}else return c.actionRequired=d.shift(),c.queuedActions=d,c}r={...c,queuedActions:[],actionRequired:null}}if(r.queuedEffect){const{card:c,laneIndex:d}=r.queuedEffect,i={...r,queuedEffect:void 0},f=Ce(i,c.id);if(f){const{card:h,owner:_}=f,{newState:p}=tu(h,d,i,_);if(p.actionRequired)return p;r=p}else console.error("Queued effect card not found on board!")}let s={...r,phase:"hand_limit",compilableLanes:[]};const u=r.turn;for(;s.turn===u&&!s.winner;){const c=s.actionRequired,d=s.phase;s=Pl(s);const i=s.actionRequired;if(i&&i!==c)break;if(s.phase===d&&s.turn===u){console.error("Game is stuck in a phase loop:",s.phase);break}}return s},au=r=>{if(r.winner)return r;let s={...r};const u=s.turn;for(;s.turn===u&&!s.actionRequired&&!s.winner;){const c=s.phase;if(c==="action")break;if(c==="compile"){const i=Dp(s,u);if(i.length>0){s={...s,compilableLanes:i};break}}const d=s.phase;if(s=Pl(s),d===s.phase&&!s.actionRequired){console.error("Game is stuck in an automatic phase loop:",d);break}}return s},vc=r=>{let s={...r,actionRequired:null};const u=Tp(s).newState;if(u.actionRequired)return u;let c=u;return c=Pl({...c,phase:"control"}),c.actionRequired||(c=Pl(c)),c},Ep=r=>{if(r.winner)return r;let s={...r,phase:"start"};return s=Pl(s),s.actionRequired?s:au(s)},op=Object.freeze(Object.defineProperty({__proto__:null,advancePhase:Pl,continueTurnAfterStartPhaseAction:vc,continueTurnProgression:au,processEndOfAction:qp,processStartOfTurn:Ep},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const La=(r,s)=>{if(r[s].lanes.flat().some(d=>d.isFaceUp&&d.protocol==="Hate"&&d.value===3)){let d={...r};return d=$(d,s,"Hate-3 triggers: Draw 1 card."),d=Oe(d,s,1),d}return r};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function $m(r,s,u){const c=Ce(r,s);if(c&&c.card.protocol==="Metal"&&c.card.value===6){let d=$(r,r.turn,"Metal-6 effect triggers on flip: deleting itself.");d[r.turn].stats.cardsDeleted++;const i=(f,h)=>{let _=La(f,r.turn);if(u&&"count"in u&&u.count>1){const p=u.count-1;return _.actionRequired={...u,count:p},_}if(_.actionRequired=null,_.queuedActions&&_.queuedActions.length>0){const p=[..._.queuedActions],m=p.shift();return{..._,actionRequired:m,queuedActions:p}}return h(_)};return{nextState:{...r,actionRequired:null},requiresAnimation:{animationRequests:[{type:"delete",cardId:s,owner:c.owner}],onCompleteCallback:i},requiresTurnEnd:!1}}return null}const Np=(r,s)=>{var f;if(!r.actionRequired)return{nextState:r};let u={...r},c=!0,d=null;const i=$m(r,s,r.actionRequired);if(i)return i;switch(r.actionRequired.type){case"select_opponent_face_up_card_to_flip":case"select_own_face_up_covered_card_to_flip":u=wt(r,s);break;case"select_opponent_card_to_flip":{const{actor:h}=r.actionRequired;u=wt(r,s,{type:"shift_flipped_card_optional",cardId:s,sourceCardId:r.actionRequired.sourceCardId,optional:!0,actor:h}),c=!1;break}case"select_own_covered_card_in_lane_to_flip":u=wt(r,s);break;case"shift_flipped_card_optional":case"select_opponent_covered_card_to_shift":case"select_face_down_card_to_shift_for_darkness_4":case"select_any_opponent_card_to_shift":{const h=Ce(r,s);if(h){const{owner:_}=h;let p=-1;for(let m=0;m<r[_].lanes.length;m++)if(r[_].lanes[m].some(S=>S.id===s)){p=m;break}if(p!==-1){const m={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:_,originalLaneIndex:p,sourceCardId:r.actionRequired.sourceCardId,actor:r.turn};u.actionRequired=m}}c=!1;break}case"select_own_other_card_to_shift":{const h=Ce(r,s);if(h){const{owner:_}=h;let p=-1;for(let m=0;m<r[_].lanes.length;m++)if(r[_].lanes[m].some(S=>S.id===s)){p=m;break}if(p!==-1){const m={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:_,originalLaneIndex:p,sourceCardId:r.actionRequired.sourceCardId,actor:r.turn};u.actionRequired=m}}c=!1;break}case"select_opponent_face_down_card_to_shift":{const h=Ce(r,s);if(h){const{owner:_}=h;let p=-1;for(let m=0;m<r[_].lanes.length;m++)if(r[_].lanes[m].some(S=>S.id===s)){p=m;break}if(p!==-1){const m={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:_,originalLaneIndex:p,sourceCardId:r.actionRequired.sourceCardId,actor:r.turn};u.actionRequired=m}}c=!1;break}case"select_own_card_to_shift_for_speed_3":{const h=Ce(r,s);if(h){const{owner:_}=h;let p=-1;for(let m=0;m<r[_].lanes.length;m++)if(r[_].lanes[m].some(S=>S.id===s)){p=m;break}if(p!==-1){const m={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:_,originalLaneIndex:p,sourceCardId:r.actionRequired.sourceCardId,actor:r.turn,sourceEffect:"speed_3_end"};u.actionRequired=m}}c=!1;break}case"select_card_to_delete_for_death_1":{const{sourceCardId:h,actor:_}=r.actionRequired,p=Ce(r,s),m=Ce(r,h);if(!p||!m)return{nextState:r};const S=_==="player"?"Player":"Opponent",b=p.owner==="player"?"Player's":"Opponent's",R=p.card.isFaceUp?`${p.card.protocol}-${p.card.value}`:"a face-down card";u=$(u,_,`Death-1: ${S} deletes ${b} ${R} and the Death-1 card itself.`),u[_].stats.cardsDeleted+=2,u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:p.owner},{type:"delete",cardId:h,owner:m.owner}],onCompleteCallback:(T,N)=>{let O=La(T,_);if(O=La(O,_),O.actionRequired=null,O.queuedActions&&O.queuedActions.length>0){const X=[...O.queuedActions],P=X.shift();return{...O,actionRequired:P,queuedActions:X}}return N(O)}},c=!1;break}case"select_cards_to_delete":case"select_face_down_card_to_delete":case"select_low_value_card_to_delete":{const h=Ce(r,s);if(!h)return{nextState:r};const _=r.turn==="player"?"Player":"Opponent",p=h.owner==="player"?"Player's":"Opponent's",m=h.card.isFaceUp?`${h.card.protocol}-${h.card.value}`:"a face-down card",S=Ce(r,r.actionRequired.sourceCardId),b=S?`${S.card.protocol}-${S.card.value}`:"a card effect";u=$(u,r.turn,`${b}: ${_} deletes ${p} ${m}.`),u[r.turn].stats.cardsDeleted++,u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:h.owner}],onCompleteCallback:(R,T)=>{var X;const N=r.turn;let O=La(R,N);if(((X=r.actionRequired)==null?void 0:X.type)==="select_cards_to_delete"){const P=r.actionRequired.count-1;if(P>0)return O.actionRequired={...r.actionRequired,count:P,disallowedIds:[...r.actionRequired.disallowedIds,s]},O}if(O.actionRequired=null,O.queuedActions&&O.queuedActions.length>0){const P=[...O.queuedActions],k=P.shift();return{...O,actionRequired:k,queuedActions:P}}return T(O)}},c=!1;break}case"select_card_from_other_lanes_to_delete":{const h=Ce(r,s);if(!h)return{nextState:r};let _=-1;for(let T=0;T<r[h.owner].lanes.length;T++)if(r[h.owner].lanes[T].some(N=>N.id===s)){_=T;break}if(_===-1)return{nextState:r};const p=r.turn==="player"?"Player":"Opponent",m=h.owner==="player"?"Player's":"Opponent's",S=h.card.isFaceUp?`${h.card.protocol}-${h.card.value}`:"a face-down card",b=Ce(r,r.actionRequired.sourceCardId),R=b?`${b.card.protocol}-${b.card.value}`:"a card effect";u=$(u,r.turn,`${R}: ${p} deletes ${m} ${S}.`),u[r.turn].stats.cardsDeleted++,u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:h.owner}],onCompleteCallback:(T,N)=>{let O=La(T,r.turn);const X=r.actionRequired;if((X==null?void 0:X.type)!=="select_card_from_other_lanes_to_delete")return N(O);const P=X.count-1;if(P>0)return{...O,actionRequired:{...X,lanesSelected:[...X.lanesSelected,_],count:P}};{let k={...O,actionRequired:null};if(k.queuedActions&&k.queuedActions.length>0){const I=[...k.queuedActions],L=I.shift();return{...k,actionRequired:L,queuedActions:I}}return N(k)}}},c=!1;break}case"plague_4_opponent_delete":{const{actor:h}=r.actionRequired,_=Ce(r,s);if(!_)return{nextState:r};const p=h==="player"?"opponent":"player";if(_.owner===p&&!_.card.isFaceUp){const m=p==="player"?"Player":"Opponent",S=`${_.card.protocol}-${_.card.value}`;u=$(u,p,`Plague-4: ${m} deletes their face-down card (${S}).`),u[p].stats.cardsDeleted++,u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:_.owner}],onCompleteCallback:(b,R)=>({...b,actionRequired:{type:"plague_4_player_flip_optional",sourceCardId:r.actionRequired.sourceCardId,optional:!0,actor:h}})}}c=!1;break}case"select_any_other_card_to_flip":{const{draws:h,sourceCardId:_}=r.actionRequired;if(u=wt(r,s),h>0){const p=Ce(u,_),m=p?`${p.card.protocol}-${p.card.value}`:"a card effect";u=$(u,u.turn,`${m}: Draw ${h} card(s).`),u=Oe(u,u.turn,h)}break}case"select_card_to_return":case"select_opponent_card_to_return":{if(u=Pi(r,s),r.actionRequired.type==="select_opponent_card_to_return"&&r.actionRequired.sourceCardId){const h=r.actionRequired.sourceCardId;u=$(u,r.turn,"Psychic-4: Flipping itself."),u=Mt(new Set([h]),u),u.animationState={type:"flipCard",cardId:h}}break}case"select_card_to_flip_for_fire_3":u=wt(r,s);break;case"select_card_to_shift_for_gravity_1":{const{sourceLaneIndex:h,sourceCardId:_,actor:p}=r.actionRequired,m=Ce(r,s);if(!m)return{nextState:r};let S=-1;for(let b=0;b<r[m.owner].lanes.length;b++)if(r[m.owner].lanes[b].some(R=>R.id===s)){S=b;break}S===h?(u.actionRequired={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:m.owner,originalLaneIndex:h,sourceCardId:_,actor:p},c=!1):u=Kl(r,s,m.owner,h,r.turn);break}case"select_card_to_flip_and_shift_for_gravity_2":{const{targetLaneIndex:h,actor:_}=r.actionRequired,p=Ce(r,s);if(!p)return{nextState:r};const{card:m,owner:S}=p,b=_==="player"?"Player":"Opponent",R=S==="player"?"Player's":"Opponent's",T=m.isFaceUp?"face-down":"face-up",N=m.isFaceUp?`${m.protocol}-${m.value}`:"a face-down card";let O=$(r,_,`${b} flips ${R} ${N} ${T}.`);O[_].stats.cardsFlipped++;let X=Mt(new Set([s]),O);X.animationState={type:"flipCard",cardId:s},u=Kl(X,s,p.owner,h,_),u.actionRequired=null;break}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:h,actor:_}=r.actionRequired,p=Ce(r,s);if(!p||p.card.isFaceUp)return{nextState:r};u=Kl(r,s,p.owner,h,_);break}case"select_any_card_to_flip":{const h=r.actionRequired.count-1;let _=null;h>0&&(_={...r.actionRequired,count:h}),u=wt(r,s,_),u.actionRequired||u.queuedActions&&u.queuedActions.length>0?c=!1:c=h<=0;break}case"select_any_card_to_flip_optional":case"select_any_face_down_card_to_flip_optional":u=wt(r,s);break;case"select_card_to_flip_for_light_0":{if(!((f=Ce(r,s))==null?void 0:f.card))return{nextState:r};const _=wt(r,s),p=Ce(_,s).card,m=p.isFaceUp?p.value:2;u=Oe(_,r.turn,m),u=$(u,r.turn,`Light-0: Drawing ${m} card(s).`);break}case"select_face_down_card_to_reveal_for_light_2":{const{actor:h}=r.actionRequired;u=wt(r,s,{type:"prompt_shift_or_flip_for_light_2",sourceCardId:r.actionRequired.sourceCardId,revealedCardId:s,optional:!0,actor:h}),c=!1;break}case"select_any_other_card_to_flip_for_water_0":{const h=wt(r,s),_=r.actionRequired.sourceCardId;u=wt(h,_),u=$(u,r.turn,"Water-0: Flips itself.");break}case"select_own_card_to_return_for_water_4":{const h=Ce(r,s);h&&h.owner===r.turn&&(u=Pi(r,s));break}default:return{nextState:r}}return(u.actionRequired||u.queuedActions&&u.queuedActions.length>0)&&(c=!1),{nextState:u,requiresAnimation:d,requiresTurnEnd:c}},ip=(r,s)=>{const u=r.actionRequired;if((u==null?void 0:u.type)==="select_opponent_card_to_flip"){const{actor:d}=u;return wt(r,s,{type:"shift_flipped_card_optional",cardId:s,sourceCardId:u.sourceCardId,optional:!0,actor:d})}return wt(r,s)},up=(r,s)=>Pi(r,s);/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ji=(r,s,u,c,d)=>{const f={...r[d]}.hand.find(k=>k.id===s);if(!f)return{newState:r};if(r[d==="player"?"opponent":"player"].lanes[u].some(k=>k.isFaceUp&&k.protocol==="Plague"&&k.value===0))return{newState:r};let p={newState:r};const m=r[d].lanes[u];if(m.length>0){const k=m[m.length-1];p=Bm(k,u,r)}const S=p.newState,b={...S[d]};b.hand=b.hand.filter(k=>k.id!==s),b.stats.cardsPlayed++;const R=[...b.lanes],T={...f,isFaceUp:c,isRevealed:!1};R[u]=[...R[u],T],b.lanes=R;let N={...S,[d]:b};N.lastPlayedCardId=T.id,N=pt(N);const O=d==="player"?"Player":"Opponent",X=N[d].protocols[u];let P;if(d==="opponent"&&!c)P=`${O} plays a face-down card into Protocol ${X}.`;else{const k=`${f.protocol}-${f.value}`;P=`${O} plays ${k}`,c||(P+=" face-down"),P+=` into Protocol ${X}.`}if(N=$(N,d,P),S.actionRequired)return c&&(N.queuedEffect={card:T,laneIndex:u}),{newState:N,animationRequests:p.animationRequests};{if(d==="opponent")return c&&(N.queuedEffect={card:T,laneIndex:u}),{newState:N,animationRequests:p.animationRequests};let k={newState:N};c&&(k=tu(T,u,N,d));const I=[...p.animationRequests||[],...k.animationRequests||[]];return{newState:k.newState,animationRequests:I.length>0?I:void 0}}},sp=(r,s)=>{const u=r[s];if(u.hand.length>=5)return r;const c=5-u.hand.length;if(c<=0)return r;const{drawnCards:d,remainingDeck:i,newDiscard:f,reshuffled:h}=fa(u.deck,u.discard,c);if(d.length===0)return r;const _=d.map(R=>({...R,id:Qt(),isFaceUp:!0})),p=_.map(R=>R.id),m={...u,deck:i,discard:f,hand:[...u.hand,..._]};let S={...r,[s]:m,animationState:{type:"drawCard",owner:s,cardIds:p}};return h&&(S=$(S,s,`${s==="player"?"Player":"Opponent"}'s deck is empty. Discard pile has been reshuffled into the deck.`)),S=$(S,s,`${s==="player"?"Player":"Opponent"} fills their hand, drawing ${c} card(s).`),S=eu(S,s),S};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const lu=(r,s)=>{if(!r.actionRequired)return{nextState:r};let u={...r},c=null;switch(r.actionRequired.type){case"select_lane_for_shift":{const{cardToShiftId:d,cardOwner:i,actor:f,sourceEffect:h}=r.actionRequired;if(u=Kl(r,d,i,s,f),h==="speed_3_end"){const _=r.actionRequired.sourceCardId;u=$(u,f,"Speed-3: Flipping itself after shifting a card."),u=Mt(new Set([_]),u),u.animationState={type:"flipCard",cardId:_}}break}case"shift_flipped_card_optional":{const d=r.actionRequired.cardId,i=r.turn==="player"?"opponent":"player";u=Kl(r,d,i,s,r.turn);break}case"select_lane_for_play":{const{cardInHandId:d,isFaceDown:i,actor:f}=r.actionRequired,h=r[f].hand.find(m=>m.id===d);if(!h){console.error("Card for play not found in hand"),u.actionRequired=null;break}let _;typeof i=="boolean"?_=!i:_=r[f].lanes.flat().some(S=>S.isFaceUp&&S.protocol==="Spirit"&&S.value===1)||h.protocol===r[f].protocols[s];const{newState:p}=Ji(r,d,s,_,f);u=p,u.actionRequired=null;break}case"select_lane_for_death_2":{const d=r.turn,i=d==="player"?"Player":"Opponent",f=r.player.protocols[s];u=$(u,d,`Death-2: ${i} targets Protocol ${f}.`);const h=[],_=[];for(const p of["player","opponent"]){const m=r[p],S=m.lanes[s].some(b=>b.isFaceUp&&b.protocol==="Darkness"&&b.value===2)?4:2;for(const b of m.lanes[s]){const R=b.isFaceUp?b.value:S;if(R===1||R===2){h.push({type:"delete",cardId:b.id,owner:p});const T=p==="player"?"Player's":"Opponent's",N=b.isFaceUp?`${b.protocol}-${b.value}`:"a face-down card";_.push(`${T} ${N}`)}}}if(_.length>0){const p=Ce(r,r.actionRequired.sourceCardId),m=p?`${p.card.protocol}-${p.card.value}`:"Death-2";u=$(u,d,`${m}: Deleting ${_.join(", ")}.`),u[d].stats.cardsDeleted+=_.length}u.actionRequired=null,h.length>0&&(c={animationRequests:h,onCompleteCallback:(p,m)=>{let S=La(p,r.turn);if(S.queuedActions&&S.queuedActions.length>0){const b=[...S.queuedActions],R=b.shift();return{...S,actionRequired:R,queuedActions:b}}return m(S)}});break}case"select_lane_for_metal_3_delete":{const d=r.turn,i=d==="player"?"Player":"Opponent",f=r.player.protocols[s];u=$(u,d,`Metal-3: ${i} targets Protocol ${f} for deletion.`);const h=[];for(const _ of["player","opponent"])for(const p of r[_].lanes[s])h.push({type:"delete",cardId:p.id,owner:_});u[d].stats.cardsDeleted+=h.length,u.actionRequired=null,h.length>0&&(c={animationRequests:h,onCompleteCallback:(_,p)=>{let m=_;for(let S=0;S<h.length;S++)m=La(m,r.turn);if(m.queuedActions&&m.queuedActions.length>0){const S=[...m.queuedActions],b=S.shift();return{...m,actionRequired:b,queuedActions:S}}return p(m)}});break}case"select_lane_for_life_3_play":{const{actor:d}=r.actionRequired,i={...r[d]},{drawnCards:f,remainingDeck:h,newDiscard:_}=fa(i.deck,i.discard,1);if(f.length>0){const p={...f[0],id:Qt(),isFaceUp:!1},m=[...i.lanes];m[s]=[...m[s],p];const S={...i,lanes:m,deck:h,discard:_};u={...r,[d]:S,actionRequired:null},u=$(u,d,"Life-3 On-Cover: Plays a card face-down.")}else u.actionRequired=null;break}case"select_lane_to_shift_revealed_card_for_light_2":{const{revealedCardId:d,actor:i}=r.actionRequired,f=Ce(r,d);f&&(u=Kl(r,d,f.owner,s,i));break}case"select_lane_to_shift_cards_for_light_3":{const{sourceLaneIndex:d,actor:i}=r.actionRequired,f=i==="player"?"opponent":"player",h=r[i].lanes[d].filter(b=>!b.isFaceUp),_=r[f].lanes[d].filter(b=>!b.isFaceUp),p=r[i].lanes.map((b,R)=>R===d?b.filter(T=>T.isFaceUp):R===s?[...b,...h]:b),m=r[f].lanes.map((b,R)=>R===d?b.filter(T=>T.isFaceUp):R===s?[...b,..._]:b);u={...r,[i]:{...r[i],lanes:p},[f]:{...r[f],lanes:m},actionRequired:null};const S=h.length+_.length;if(S>0){const b=r[i].protocols[d],R=r[i].protocols[s];u=$(u,i,`Light-3: Shifts ${S} face-down card(s) from Protocol ${b} to Protocol ${R}.`),u[i].stats.cardsShifted+=S}break}case"select_lane_for_water_3":{const d=r.turn,i=d==="player"?"opponent":"player",f={...r[d]},h={...r[i]},_=f.lanes[s].filter(R=>Ya(R,f.lanes[s])===2),p=h.lanes[s].filter(R=>Ya(R,h.lanes[s])===2);if(_.length===0&&p.length===0){u={...r,actionRequired:null};break}const m=new Set(_.map(R=>R.id)),S=new Set(p.map(R=>R.id));f.lanes[s]=f.lanes[s].filter(R=>!m.has(R.id)),h.lanes[s]=h.lanes[s].filter(R=>!S.has(R.id)),f.hand.push(..._),h.hand.push(...p),u={...r,[d]:f,[i]:h,actionRequired:null};const b=_.length+p.length;if(b>0){const R=d==="player"?"Player":"Opponent",T=Ce(r,r.actionRequired.sourceCardId),N=T?`${T.card.protocol}-${T.card.value}`:"a card effect";u=$(u,d,`${N}: ${R} returns ${b} card(s) with value 2.`)}break}default:return{nextState:r}}if(!c&&u.actionRequired===null&&u.queuedActions&&u.queuedActions.length>0){const d=[...u.queuedActions],i=d.shift();u={...u,actionRequired:i,queuedActions:d}}return{nextState:pt(u),requiresAnimation:c}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const $i=(r,s)=>{const u=s==="player"?"opponent":"player";if(r[u].lanes.flat().some(i=>i.isFaceUp&&i.protocol==="Plague"&&i.value===1)){let i={...r};return i=$(i,u,"Plague-1 triggers after opponent discards: Draw 1 card."),i=Oe(i,u,1),i}return r};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const rl=(r,s,u)=>{var T,N,O;const c=r[u],d=new Set(s),i=c.hand.filter(X=>d.has(X.id));if(i.length===0)return r;const f=c.hand.filter(X=>!d.has(X.id)),h=[...c.discard,...i.map(({id:X,isFaceUp:P,...k})=>k)],_=((T=r.animationState)==null?void 0:T.type)==="discardCard"&&((N=r.animationState.originalAction)==null?void 0:N.type)==="discard"?r.animationState.originalAction:((O=r.actionRequired)==null?void 0:O.type)==="discard"?r.actionRequired:null;let p={...r,[u]:{...c,hand:f,discard:h},actionRequired:null};p[u].stats.cardsDiscarded+=i.length;const m=u==="player"?"Player":"Opponent";let S;if(u==="player"||i.every(X=>X.isRevealed)){const X=i.map(P=>`${P.protocol}-${P.value}`).join(", ");S=`${m} discards ${X}.`}else{const X=i.length===1?"card":"cards";S=`${m} discards ${i.length} ${X}.`}if(p=$(p,u,S),_&&_.player===u){const X=_.count-s.length;if(X>0)return p.actionRequired={..._,count:X},p;{const P=$i(p,u);return cp(P,u,_.sourceEffect,_.sourceCardId)}}const b=r.actionRequired;if(b&&b.type==="discard"&&b.player===u){const X=b.count-s.length;if(X>0)return p.actionRequired={...b,count:X},p;{const P=$i(p,u);return cp(P,u,b.sourceEffect,b.sourceCardId)}}return $i(p,u)},Xm=(r,s)=>{var f;if(((f=r.actionRequired)==null?void 0:f.type)!=="plague_2_player_discard")return r;const u=r.turn,c=u==="player"?"opponent":"player";let d=rl(r,s,u);const i=s.length+1;return d[c].hand.length>0?d.actionRequired={type:"discard",player:c,count:Math.min(i,d[c].hand.length),sourceCardId:r.actionRequired.sourceCardId}:d.actionRequired=null,d},Op=(r,s)=>{var f;if(((f=r.actionRequired)==null?void 0:f.type)!=="plague_2_opponent_discard")return r;const u="opponent",c="player";let d=rl(r,s,u);const i=s.length+1;return d[c].hand.length>0?d.actionRequired={type:"discard",player:c,count:Math.min(i,d[c].hand.length),sourceCardId:r.actionRequired.sourceCardId}:d.actionRequired=null,d},dp=(r,s)=>{var i;if(((i=r.actionRequired)==null?void 0:i.type)!=="select_cards_from_hand_to_discard_for_fire_4")return r;const u=r.turn;let c=rl(r,s,u);const d=s.length+1;return c=$(c,u,`Fire-4: Drawing ${d} card(s).`),c=Oe(c,u,d),c},Xi=(r,s)=>{var i;if(((i=r.actionRequired)==null?void 0:i.type)!=="select_cards_from_hand_to_discard_for_hate_1")return r;const u=r.turn,{sourceCardId:c}=r.actionRequired;let d=rl(r,s,u);return d.actionRequired={type:"select_cards_to_delete",count:2,sourceCardId:c,disallowedIds:[c],actor:u},d};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const fp=(r,s)=>{var i;if(((i=r.actionRequired)==null?void 0:i.type)!=="prompt_death_1_effect")return r;const{sourceCardId:u,actor:c}=r.actionRequired;let d={...r};return s?(d=$(d,c,"Death-1: Player chooses to draw and delete."),d=Oe(d,c,1),d.actionRequired={type:"select_card_to_delete_for_death_1",sourceCardId:u,actor:c}):(d=$(d,c,"Death-1: Player skips the effect."),d.actionRequired=null),d},Qi=(r,s)=>{var d;if(((d=r.actionRequired)==null?void 0:d.type)!=="prompt_give_card_for_love_1")return r;const{actor:u}=r.actionRequired;let c={...r};return s?(c=$(c,u,"Love-1 End: Player chooses to give 1 card to draw 2."),c.actionRequired={type:"select_card_from_hand_to_give",sourceCardId:r.actionRequired.sourceCardId,sourceEffect:"love_1_end",actor:u}):(c=$(c,u,"Love-1 End: Player skips the effect."),c.actionRequired=null),c},pp=(r,s,u)=>{var d;if(((d=r.actionRequired)==null?void 0:d.type)!=="plague_4_player_flip_optional")return r;let c={...r,actionRequired:null};if(s){const{sourceCardId:i}=r.actionRequired;c=$(c,u,`Plague-4: ${u==="player"?"Player":"Opponent"} chooses to flip the card.`),c=Mt(new Set([i]),c),c.animationState={type:"flipCard",cardId:i}}else c=$(c,u,`Plague-4: ${u==="player"?"Player":"Opponent"} skips flipping the card.`);return c},hp=(r,s)=>{var d;if(((d=r.actionRequired)==null?void 0:d.type)!=="prompt_fire_3_discard")return r;const{actor:u}=r.actionRequired;let c={...r};return s?(c=$(c,u,"Fire-3 End: Player chooses to discard 1 to flip 1."),c.actionRequired={type:"discard",player:u,count:1,sourceCardId:r.actionRequired.sourceCardId,sourceEffect:"fire_3"}):(c=$(c,u,"Fire-3 End: Player skips the effect."),c.actionRequired=null),c},_p=(r,s)=>{var d;if(((d=r.actionRequired)==null?void 0:d.type)!=="prompt_shift_for_speed_3")return r;const{actor:u}=r.actionRequired;let c={...r};return s?(c=$(c,u,"Speed-3 End: Player chooses to shift a card."),c.actionRequired={type:"select_own_card_to_shift_for_speed_3",sourceCardId:r.actionRequired.sourceCardId,actor:u}):(c=$(c,u,"Speed-3 End: Player skips the shift."),c.actionRequired=null),c},Zi=(r,s)=>{var f;if(((f=r.actionRequired)==null?void 0:f.type)!=="prompt_shift_or_flip_for_light_2")return r;const{actor:u,sourceCardId:c,revealedCardId:d}=r.actionRequired;let i={...r};switch(s){case"shift":i=$(i,u,"Light-2: Player chooses to shift the revealed card."),i.actionRequired={type:"select_lane_to_shift_revealed_card_for_light_2",sourceCardId:c,revealedCardId:d,actor:u};break;case"flip":i=$(i,u,"Light-2: Player chooses to flip the card back face-down."),i=Mt(new Set([d]),i),i.animationState={type:"flipCard",cardId:d},i.actionRequired=null;break;case"skip":i=$(i,u,"Light-2: Player chooses to do nothing with the revealed card."),i.actionRequired=null;break}return i},yp=(r,s)=>{var m;if(((m=r.actionRequired)==null?void 0:m.type)!=="prompt_rearrange_protocols")return r;const{target:u,actor:c}=r.actionRequired;let d={...r};const i={...d[u]},f={};i.protocols.forEach((S,b)=>{f[S]=i.compiled[b]});const h=s.map(S=>f[S]);return i.protocols=s,i.compiled=h,d[u]=i,d.actionRequired=null,d=$(d,c,`${c==="player"?"Player":"Opponent"} rearranges ${u==="player"?"Player":"Opponent"}'s protocols.`),pt(d)},mp=(r,s)=>{var d;if(((d=r.actionRequired)==null?void 0:d.type)!=="prompt_return_for_psychic_4")return r;const{actor:u}=r.actionRequired;let c={...r};return s?(c=$(c,u,"Psychic-4 End: Player chooses to return an opponent's card."),c.actionRequired={type:"select_opponent_card_to_return",sourceCardId:r.actionRequired.sourceCardId,actor:u}):(c=$(c,u,"Psychic-4 End: Player skips the effect."),c.actionRequired=null),c},vp=(r,s)=>{var i;if(((i=r.actionRequired)==null?void 0:i.type)!=="prompt_spirit_1_start")return r;const{actor:u,sourceCardId:c}=r.actionRequired;let d={...r};return s==="discard"?(d=$(d,u,"Spirit-1 Start: Player chooses to discard 1 card."),d.actionRequired={type:"discard",player:u,count:1,sourceCardId:c,sourceEffect:"spirit_1_start"}):(d=$(d,u,"Spirit-1 Start: Player chooses to flip the card."),d=Mt(new Set([c]),d),d.animationState={type:"flipCard",cardId:c},d.actionRequired=null),d},gp=(r,s)=>{var i;if(((i=r.actionRequired)==null?void 0:i.type)!=="prompt_shift_for_spirit_3")return r;const{actor:u,sourceCardId:c}=r.actionRequired;let d={...r};if(s){const f=Ce(d,c);if(f){const{owner:h,card:_}=f;let p=-1;for(let m=0;m<d[h].lanes.length;m++)if(d[h].lanes[m].some(S=>S.id===_.id)){p=m;break}p!==-1&&(d=$(d,u,"Spirit-3 Trigger: Player chooses to shift the card."),d.actionRequired={type:"select_lane_for_shift",cardToShiftId:c,cardOwner:h,originalLaneIndex:p,sourceCardId:c,actor:u,sourceEffect:"speed_3_end"})}}else d=$(d,u,"Spirit-3 Trigger: Player skips the shift."),d.actionRequired=null;return d},Sp=(r,s)=>{var p;if(((p=r.actionRequired)==null?void 0:p.type)!=="prompt_swap_protocols")return r;const{actor:u}=r.actionRequired,c={...r[u]},[d,i]=s.sort((m,S)=>m-S),f=[...c.protocols],h=[...c.compiled];[f[d],f[i]]=[f[i],f[d]],[h[d],h[i]]=[h[i],h[d]],c.protocols=f,c.compiled=h;let _={...r,[u]:c,actionRequired:null};return _=$(_,u,`${u==="player"?"Player":"Opponent"} swaps protocols ${f[i]} and ${f[d]}.`),pt(_)};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const bp=(r,s,u)=>{const c=r.turn,d=c==="player"?"opponent":"player";let i={...r};const f={...i[c]},h={...i[d]},_=f.compiled[s],p=[],m=[],S=f.lanes[s].filter(L=>L.protocol==="Speed"&&L.value===2?(p.push(L),!1):!0),b=h.lanes[s].filter(L=>L.protocol==="Speed"&&L.value===2?(m.push(L),!1):!0);f.stats.cardsDeleted+=S.length,h.stats.cardsDeleted+=b.length,f.discard=[...f.discard,...S.map(({id:L,isFaceUp:F,...se})=>se)],h.discard=[...h.discard,...b.map(({id:L,isFaceUp:F,...se})=>se)];const R=[...f.lanes];R[s]=p,f.lanes=R;const T=[...h.lanes];T[s]=m,h.lanes=T;const N=[...f.compiled];N[s]=!0,f.compiled=N,i={...i,[c]:f,[d]:h};const O=c==="player"?"Player":"Opponent",X=f.protocols[s];if(i=$(i,c,`${O} compiles Protocol ${X}!`),_&&(i=$(i,c,`${O} draws 1 card from the opponent's deck as a re-compile reward.`),i=Oe(i,c,1)),i=pt(i),f.compiled.every(L=>L===!0))return i.winner=c,u(c,i),i;const k=S.length+b.length;for(let L=0;L<k;L++)i=La(i,c);const I=[...i.queuedActions];for(const L of p)i=$(i,c,"Speed-2 survives compilation and must be shifted."),I.push({type:"select_lane_for_shift",cardToShiftId:L.id,cardOwner:c,originalLaneIndex:s,sourceCardId:L.id,actor:c});for(const L of m)i=$(i,d,"Speed-2 survives compilation and must be shifted."),I.push({type:"select_lane_for_shift",cardToShiftId:L.id,cardOwner:d,originalLaneIndex:s,sourceCardId:L.id,actor:d});return m.length>0?(i._interruptedTurn=c,i.turn=d,i.actionRequired=I.shift()):I.length>0&&(i.actionRequired=I.shift()),i.queuedActions=I,i},Qm=(r,s)=>{var f;if(((f=r.actionRequired)==null?void 0:f.type)!=="select_card_from_hand_to_play")return r;const{disallowedLaneIndex:u,sourceCardId:c,isFaceDown:d,actor:i}=r.actionRequired;return{...r,actionRequired:{type:"select_lane_for_play",cardInHandId:s,disallowedLaneIndex:u,sourceCardId:c,isFaceDown:d,actor:i}}},wp=r=>{if(!r.actionRequired||!("optional"in r.actionRequired)||!r.actionRequired.optional)return r;const s=r.turn,u=s==="player"?"Player":"Opponent";let c={...r,actionRequired:null};return c=$(c,s,`${u} skips the optional action.`),c},Cp=r=>{var d;if(((d=r.actionRequired)==null?void 0:d.type)!=="reveal_opponent_hand")return r;const s=r.turn==="player"?"opponent":"player";let u={...r};const c={...u[s]};if(c.hand.length>0){c.hand=c.hand.map(h=>({...h,isRevealed:!0})),u[s]=c;const i=Ce(u,r.actionRequired.sourceCardId),f=i?`${i.card.protocol}-${i.card.value}`:"A card effect";u=$(u,r.turn,`${f}: Opponent reveals their hand.`)}return u.actionRequired=null,u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Fi=(r,s)=>{if(!r.actionRequired)return r;const{actionRequired:u}=r,c=r.turn,d=c==="player"?"opponent":"player";switch(u.type){case"select_card_from_hand_to_give":{const i=r[c].hand.find(S=>S.id===s);if(!i)return r;let f={...r};const h={...f[c]},_={...f[d]};h.hand=h.hand.filter(S=>S.id!==s),_.hand=[..._.hand,i],f={...f,[c]:h,[d]:_};const p=c==="player"?"Player":"Opponent",m=`${i.protocol}-${i.value}`;return f=$(f,c,`${p} gives ${m} to the opponent.`),u.sourceEffect==="love_1_end"&&(f=$(f,c,`Love-1: ${p} draws 2 cards.`),f=Oe(f,c,2)),f.actionRequired=null,f}case"select_card_from_hand_to_reveal":{const i=r[c].hand.find(S=>S.id===s);if(!i)return r;let f={...r};const h={...f[c]},_=h.hand.map(S=>S.id===s?{...S,isRevealed:!0}:S);h.hand=_,f={...f,[c]:h};const p=c==="player"?"Player":"Opponent",m=`${i.protocol}-${i.value}`;return f=$(f,c,`Love-4: ${p} reveals ${m} from their hand.`),f.actionRequired={type:"select_any_card_to_flip",count:1,sourceCardId:u.sourceCardId,actor:c},f}default:return r}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Zm=r=>{const{opponent:s,player:u}=r;if(s.hand.length===0)return null;for(let f=0;f<3;f++)if(!s.compiled[f]&&(s.laneValues[f]===8||s.laneValues[f]===9))return{cardId:s.hand[0].id,laneIndex:f,isFaceUp:!1};const d=[...s.hand].sort((f,h)=>h.value-f.value)[0];for(let f=0;f<3;f++)if(d.protocol===s.protocols[f])return{cardId:d.id,laneIndex:f,isFaceUp:!0};const i=Math.floor(Math.random()*3);return{cardId:d.id,laneIndex:i,isFaceUp:!1}},Fm=(r,s)=>{switch(s.type){case"discard":return{type:"discardCards",cardIds:[...r.opponent.hand].sort((i,f)=>i.value-f.value).slice(0,s.count).map(i=>i.id)};case"select_cards_to_delete":case"select_face_down_card_to_delete":case"select_card_to_delete_for_death_1":case"plague_4_opponent_delete":{const i="disallowedIds"in s&&s.disallowedIds?s.disallowedIds:[],f=r.player.lanes.flat().filter(_=>!i.includes(_.id));if(f.length>0)return{type:"deleteCard",cardId:f[0].id};const h=r.opponent.lanes.flat().filter(_=>!i.includes(_.id));return h.length>0?{type:"deleteCard",cardId:h[0].id}:{type:"skip"}}case"select_card_from_other_lanes_to_delete":{const{disallowedLaneIndex:i,lanesSelected:f}=s,h=[];for(let _=0;_<3;_++){if(_===i||f.includes(_))continue;const p=r.player.lanes[_];if(p.length>0){h.push(p[p.length-1]);continue}const m=r.opponent.lanes[_];m.length>0&&h.push(m[m.length-1])}return h.length>0?{type:"deleteCard",cardId:h[0].id}:{type:"skip"}}case"select_low_value_card_to_delete":{const i=[...r.player.lanes.flat(),...r.opponent.lanes.flat()].filter(f=>f.isFaceUp&&(f.value===0||f.value===1));return i.length>0?{type:"deleteCard",cardId:i[0].id}:{type:"skip"}}case"select_opponent_face_up_card_to_flip":{const i=r.player.lanes.flat().filter(f=>f.isFaceUp);return i.length>0?{type:"flipCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_opponent_card_to_flip":{const i=r.player.lanes.flat();return i.length>0?{type:"flipCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_own_face_up_covered_card_to_flip":case"select_any_other_card_to_flip":case"select_any_card_to_flip":case"select_any_card_to_flip_optional":case"select_card_to_flip_for_fire_3":case"select_card_to_flip_for_light_0":case"select_face_down_card_to_reveal_for_light_2":case"select_any_other_card_to_flip_for_water_0":{const i=[...r.player.lanes.flat(),...r.opponent.lanes.flat()];return i.length>0?{type:"flipCard",cardId:i[0].id}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_any_face_down_card_to_flip_optional":{const i=[...r.player.lanes.flat(),...r.opponent.lanes.flat()].filter(f=>!f.isFaceUp);return i.length>0?{type:"flipCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_own_covered_card_in_lane_to_flip":{const{laneIndex:i}=s,h=r.opponent.lanes[i].filter((_,p,m)=>p<m.length-1);return h.length>0?{type:"flipCard",cardId:h[0].id}:{type:"skip"}}case"select_card_to_return":case"select_opponent_card_to_return":{const i=[...r.player.lanes.flat(),...r.opponent.lanes.flat()];return i.length>0?{type:"returnCard",cardId:i[0].id}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_own_card_to_return_for_water_4":{const i=r.opponent.lanes.flat();return i.length>0?{type:"returnCard",cardId:i[Math.floor(Math.random()*i.length)].id}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_card_to_shift_for_gravity_1":{const i=[...r.player.lanes.flat(),...r.opponent.lanes.flat()];return i.length>0?{type:"deleteCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_card_to_flip_and_shift_for_gravity_2":{const i=r.player.lanes.flat();return i.length>0?{type:"deleteCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:i}=s,f=[];for(const h of["player","opponent"])for(let _=0;_<r[h].lanes.length;_++)if(_!==i)for(const p of r[h].lanes[_])p.isFaceUp||f.push(p);return f.length>0?{type:"deleteCard",cardId:f[Math.floor(Math.random()*f.length)].id}:{type:"skip"}}case"select_lane_for_shift":case"shift_flipped_card_optional":case"select_lane_for_play":case"select_lane_for_death_2":case"select_lane_for_life_3_play":case"select_lane_to_shift_revealed_card_for_light_2":case"select_lane_to_shift_cards_for_light_3":case"select_lane_for_metal_3_delete":case"select_lane_for_water_3":{let i=[0,1,2];return"disallowedLaneIndex"in s&&s.disallowedLaneIndex!==void 0&&(i=i.filter(f=>f!==s.disallowedLaneIndex)),"originalLaneIndex"in s&&s.originalLaneIndex!==void 0&&(i=i.filter(f=>f!==s.originalLaneIndex)),i.length>0?{type:"selectLane",laneIndex:i[Math.floor(Math.random()*i.length)]}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"prompt_death_1_effect":return{type:"resolveDeath1Prompt",accept:Math.random()>.7};case"prompt_give_card_for_love_1":return{type:"resolveLove1Prompt",accept:!1};case"plague_4_player_flip_optional":return{type:"resolvePlague4Flip",accept:!1};case"prompt_fire_3_discard":return{type:"resolveFire3Prompt",accept:!1};case"prompt_shift_for_speed_3":return{type:"resolveSpeed3Prompt",accept:!1};case"prompt_shift_for_spirit_3":return{type:"resolveSpirit3Prompt",accept:!1};case"prompt_return_for_psychic_4":return{type:"resolvePsychic4Prompt",accept:!1};case"prompt_spirit_1_start":return{type:"resolveSpirit1Prompt",choice:"flip"};case"prompt_shift_or_flip_for_light_2":return{type:"resolveLight2Prompt",choice:"skip"};case"plague_2_opponent_discard":return r.opponent.hand.length>0?{type:"resolvePlague2Discard",cardIds:[r.opponent.hand[0].id]}:{type:"skip"};case"select_cards_from_hand_to_discard_for_fire_4":return r.opponent.hand.length>0?{type:"resolveFire4Discard",cardIds:[r.opponent.hand[0].id]}:{type:"skip"};case"select_cards_from_hand_to_discard_for_hate_1":return r.opponent.hand.length>0?{type:"resolveHate1Discard",cardIds:r.opponent.hand.slice(0,s.count).map(i=>i.id)}:{type:"skip"};case"select_card_from_hand_to_play":if(r.opponent.hand.length>0){const i=r.opponent.hand[0],f=[0,1,2].filter(h=>h!==s.disallowedLaneIndex);return{type:"playCard",cardId:i.id,laneIndex:f[0],isFaceUp:!1}}return{type:"skip"};case"select_card_from_hand_to_give":return r.opponent.hand.length>0?{type:"giveCard",cardId:r.opponent.hand[0].id}:{type:"skip"};case"select_card_from_hand_to_reveal":return r.opponent.hand.length>0?{type:"revealCard",cardId:r.opponent.hand[0].id}:{type:"skip"};case"prompt_rearrange_protocols":return{type:"rearrangeProtocols",newOrder:bc([...r[s.target].protocols])};case"prompt_swap_protocols":return{type:"skip"};case"select_own_other_card_to_shift":{const i=r.opponent.lanes.flat().find(f=>f.id!==s.sourceCardId);return i?{type:"deleteCard",cardId:i.id}:{type:"skip"}}case"select_opponent_covered_card_to_shift":{const i=[];for(const f of r.player.lanes)for(let h=0;h<f.length-1;h++)i.push(f[h]);return i.length>0?{type:"deleteCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_any_opponent_card_to_shift":{const i=r.player.lanes.flat();return i.length>0?{type:"deleteCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}}return{type:"skip"}},Up=(r,s)=>{if(s)return Fm(r,s);if(r.phase==="compile"&&r.compilableLanes.length>0)return{type:"compile",laneIndex:r.compilableLanes[0]};if(r.phase==="action"){const u=Zm(r);return u?{type:"playCard",...u}:{type:"fillHand"}}return{type:"fillHand"}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const jp=["delete","flip","shift","return","discard"],gc=r=>{let s=r.value;return jp.some(u=>r.keywords[u])&&(s+=4),r.keywords.draw&&(s+=3),r.keywords.play&&(s+=5),s},Km=r=>{const{opponent:s,player:u}=r,c=[];for(const d of s.hand)for(let i=0;i<3;i++){if(s.compiled[i])continue;if(d.protocol===s.protocols[i]){let m=0;const S=d.value,b=s.laneValues[i]+S;b>=10&&b>u.laneValues[i]?m+=200:b>=8&&(m+=100),u.laneValues[i]>=8&&jp.some(T=>d.keywords[T])&&(m+=150),m+=gc(d),m+=b-u.laneValues[i],c.push({move:{type:"playCard",cardId:d.id,laneIndex:i,isFaceUp:!0},score:m})}let h=0;const _=Ya({...d,isFaceUp:!1},s.lanes[i]),p=s.laneValues[i]+_;p>=10&&p>u.laneValues[i]&&(h+=250),h+=_+(p-u.laneValues[i]),c.push({move:{type:"playCard",cardId:d.id,laneIndex:i,isFaceUp:!1},score:h})}if(s.hand.length<5){const i=10-s.hand.reduce((f,h)=>f+gc(h),0)/(s.hand.length||1);c.push({move:{type:"fillHand"},score:i})}return c.length===0?{type:"fillHand"}:(c.sort((d,i)=>i.score-d.score),c[0].move)},Pm=(r,s)=>{switch(s.type){case"discard":return{type:"discardCards",cardIds:[...r.opponent.hand].sort((h,_)=>gc(h)-gc(_)).slice(0,s.count).map(h=>h.id)};case"select_cards_to_delete":case"select_card_to_delete_for_death_1":{const h=s.type==="select_cards_to_delete"?s.disallowedIds:s.type==="select_card_to_delete_for_death_1"?[s.sourceCardId]:[],_=r.player.lanes.flat().filter(m=>!h.includes(m.id));if(_.length>0)return{type:"deleteCard",cardId:_.reduce((S,b)=>{const R=Ya(S,[]);return Ya(b,[])>R?b:S}).id};const p=r.opponent.lanes.flat().filter(m=>!h.includes(m.id));return p.length>0?{type:"deleteCard",cardId:p.reduce((S,b)=>b.value<S.value?b:S).id}:{type:"skip"}}case"select_any_face_down_card_to_flip_optional":{const h=[];return r.opponent.lanes.forEach((_,p)=>{_.forEach(m=>{if(!m.isFaceUp){let S=5;S+=r.opponent.laneValues[p],h.push({cardId:m.id,score:S})}})}),r.player.lanes.forEach((_,p)=>{_.forEach(m=>{m.isFaceUp||h.push({cardId:m.id,score:1})})}),h.length>0?(h.sort((_,p)=>p.score-_.score),{type:"flipCard",cardId:h[0].cardId}):{type:"skip"}}case"select_any_card_to_flip_optional":case"select_any_card_to_flip":case"select_card_to_flip_for_fire_3":case"select_any_other_card_to_flip":case"select_card_to_flip_for_light_0":case"select_any_other_card_to_flip_for_water_0":case"select_opponent_face_up_card_to_flip":case"select_opponent_card_to_flip":{const h=[];return r.player.lanes.flat().forEach(_=>{_.isFaceUp&&h.push({cardId:_.id,score:_.value})}),r.opponent.lanes.flat().forEach(_=>{_.isFaceUp||h.push({cardId:_.id,score:3})}),h.length>0?(h.sort((_,p)=>p.score-_.score),{type:"flipCard",cardId:h[0].cardId}):"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_card_from_other_lanes_to_delete":{const{disallowedLaneIndex:h,lanesSelected:_}=s,p=[];for(let m=0;m<3;m++){if(m===h||_.includes(m))continue;const S=r.player.lanes[m];S.length>0&&p.push(...S)}return p.length>0?(p.sort((m,S)=>S.value-m.value),{type:"deleteCard",cardId:p[0].id}):{type:"skip"}}case"select_face_down_card_to_delete":{const h=r.player.laneValues.map((p,m)=>({value:p,index:m})).sort((p,m)=>m.value-p.value);for(const p of h){const m=r.player.lanes[p.index].find(S=>!S.isFaceUp);if(m)return{type:"deleteCard",cardId:m.id}}const _=r.opponent.laneValues.map((p,m)=>({value:p,index:m})).sort((p,m)=>p.value-m.value);for(const p of _){const m=r.opponent.lanes[p.index].find(S=>!S.isFaceUp);if(m)return{type:"deleteCard",cardId:m.id}}return{type:"skip"}}case"plague_4_opponent_delete":{const h=r.opponent.laneValues.map((p,m)=>({diff:p-r.player.laneValues[m],index:m})).sort((p,m)=>p.diff-m.diff);for(const p of h){const m=r.opponent.lanes[p.index].find(S=>!S.isFaceUp);if(m)return{type:"deleteCard",cardId:m.id}}const _=r.opponent.lanes.flat().find(p=>!p.isFaceUp);return _?{type:"deleteCard",cardId:_.id}:{type:"skip"}}case"select_low_value_card_to_delete":{const h=[...r.player.lanes.flat(),...r.opponent.lanes.flat()].filter(_=>_.isFaceUp&&(_.value===0||_.value===1));return h.length>0?(h.sort((_,p)=>{const m=r.player.lanes.flat().some(b=>b.id===_.id),S=r.player.lanes.flat().some(b=>b.id===p.id);return m&&!S?-1:!m&&S?1:p.value-_.value}),{type:"deleteCard",cardId:h[0].id}):{type:"skip"}}case"select_own_covered_card_in_lane_to_flip":{const{laneIndex:h}=s,m=r.opponent.lanes[h].filter((S,b,R)=>b<R.length-1).find(S=>!S.isFaceUp);return m?{type:"flipCard",cardId:m.id}:{type:"skip"}}case"select_own_card_to_return_for_water_4":{const h=r.opponent.lanes.flat();return h.length>0?(h.sort((_,p)=>_.value-p.value),{type:"returnCard",cardId:h[0].id}):{type:"skip"}}case"prompt_rearrange_protocols":return{type:"rearrangeProtocols",newOrder:r[s.target].protocols.map((h,_)=>({protocol:h,value:r[s.target].laneValues[_]})).sort((h,_)=>_.value-h.value).map(h=>h.protocol)};case"select_card_to_shift_for_gravity_1":{const h=r.player.lanes.flat();if(h.length>0)return h.sort((p,m)=>m.value-p.value),{type:"deleteCard",cardId:h[0].id};const _=r.opponent.lanes.flat();return _.length>0?(_.sort((p,m)=>p.value-m.value),{type:"deleteCard",cardId:_[0].id}):{type:"skip"}}case"select_card_to_flip_and_shift_for_gravity_2":{const h=r.player.lanes.flat().filter(p=>p.isFaceUp);if(h.length>0)return h.sort((p,m)=>m.value-p.value),{type:"deleteCard",cardId:h[0].id};const _=r.player.lanes.flat().filter(p=>!p.isFaceUp);return _.length>0?{type:"deleteCard",cardId:_[Math.floor(Math.random()*_.length)].id}:{type:"skip"}}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:h}=s,_=[];for(let m=0;m<r.player.lanes.length;m++)m!==h&&r.player.lanes[m].forEach(S=>{S.isFaceUp||_.push(S)});if(_.length>0)return{type:"deleteCard",cardId:_[0].id};const p=[];for(let m=0;m<r.opponent.lanes.length;m++)m!==h&&r.opponent.lanes[m].forEach(S=>{S.isFaceUp||p.push(S)});return p.length>0?{type:"deleteCard",cardId:p[0].id}:{type:"skip"}}case"select_any_opponent_card_to_shift":{const h=r.player.lanes.flat();return h.length>0?(h.sort((_,p)=>p.value-_.value),{type:"deleteCard",cardId:h[0].id}):{type:"skip"}}case"select_lane_for_shift":{const{cardOwner:h,originalLaneIndex:_}=s,p=[0,1,2].filter(m=>m!==_);return h==="opponent"?{type:"selectLane",laneIndex:p.map(S=>({value:r.opponent.laneValues[S],index:S})).sort((S,b)=>S.value-b.value)[0].index}:{type:"selectLane",laneIndex:p.map(S=>({value:r.player.laneValues[S],index:S})).sort((S,b)=>b.value-S.value)[0].index}}case"prompt_death_1_effect":return{type:"resolveDeath1Prompt",accept:!0};case"prompt_give_card_for_love_1":return{type:"resolveLove1Prompt",accept:!0};case"plague_4_player_flip_optional":return{type:"resolvePlague4Flip",accept:!0};case"prompt_fire_3_discard":return{type:"resolveFire3Prompt",accept:r.opponent.hand.length>2};case"prompt_shift_for_speed_3":return{type:"resolveSpeed3Prompt",accept:!0};case"prompt_shift_for_spirit_3":return{type:"resolveSpirit3Prompt",accept:!0};case"prompt_return_for_psychic_4":return{type:"resolvePsychic4Prompt",accept:!0};case"prompt_spirit_1_start":return{type:"resolveSpirit1Prompt",choice:"flip"};case"prompt_shift_or_flip_for_light_2":return{type:"resolveLight2Prompt",choice:"shift"};case"select_opponent_covered_card_to_shift":{const h=[];for(const _ of r.player.lanes)for(let p=0;p<_.length-1;p++)h.push(_[p]);return h.length>0?(h.sort((_,p)=>_.isFaceUp&&!p.isFaceUp?-1:!_.isFaceUp&&p.isFaceUp?1:_.isFaceUp&&p.isFaceUp?p.value-_.value:0),{type:"deleteCard",cardId:h[0].id}):{type:"skip"}}default:const f=Up(r,s);return f||{type:"skip"}}},Mp=(r,s)=>s?Pm(r,s):r.phase==="compile"&&r.compilableLanes.length>0?{type:"compile",laneIndex:r.compilableLanes.reduce((c,d)=>r.opponent.laneValues[c]>r.opponent.laneValues[d]?c:d)}:r.phase==="action"?Km(r):{type:"fillHand"};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const zp=["delete","flip","shift","return","discard"],Fl=r=>{let s=10-r.value;return zp.some(u=>r.keywords[u])&&(s+=5),r.keywords.draw&&(s+=3),r.keywords.play&&(s+=6),s},Qe=(r,s,u)=>{let c;for(const i of u[s].lanes)if(i.some(f=>f.id===r.id)){c=i;break}if(!c)return 0;if(!r.isFaceUp)return c.some(f=>f.isFaceUp&&f.protocol==="Darkness"&&f.value===2)?4:2;let d=r.value*2;return r.top.length>0&&(d+=5),(r.bottom.includes("Start:")||r.bottom.includes("End:"))&&(d+=6),r.bottom.includes("covered:")&&(d+=4),d},Jm=r=>{const{opponent:s,player:u}=r,c=[],d=u.laneValues.map((f,h)=>u.compiled[h]?0:f>=10?3:f>=8?2:f>=6?1:0),i=u.lanes.flat().filter(f=>f.isFaceUp).sort((f,h)=>Qe(h,"player",r)-Qe(f,"player",r))[0];for(const f of s.hand)for(let h=0;h<3;h++){if(s.compiled[h])continue;const _=Fl(f);if(f.protocol===s.protocols[h]){let R=_,T=`Play ${f.protocol}-${f.value} face-up in lane ${h}.`;const N=f.value,O=s.laneValues[h]+N;R+=N,O>=10&&O>u.laneValues[h]?R+=200:O>=8&&(R+=100),R+=O-u.laneValues[h],zp.some(P=>f.keywords[P])&&(d[h]>0&&(R+=150*d[h],T+=` [DEFENSIVE: Disrupts player threat level ${d[h]}]`),i&&(f.keywords.flip||f.keywords.delete)&&(R+=Qe(i,"player",r)*2,T+=` [PROACTIVE: Targets strongest card ${i.protocol}-${i.value}]`)),c.push({move:{type:"playCard",cardId:f.id,laneIndex:h,isFaceUp:!0},score:R,description:T})}let p=0,m=`Play ${f.protocol}-${f.value} face-down in lane ${h}.`;const b=s.laneValues[h]+2;b>=10&&b>u.laneValues[h]&&s.laneValues[h]>=8?(p+=250,m+=" [WINNING MOVE: Sets up compile]"):s.laneValues[h]>=6?(p+=20*s.laneValues[h],m+=" [Secures strong lane]"):p+=1,c.push({move:{type:"playCard",cardId:f.id,laneIndex:h,isFaceUp:!1},score:p,description:m})}if(s.hand.length<5){let f=1;s.hand.reduce((_,p)=>_+Fl(p),0)/(s.hand.length||1)<8&&(f=5),s.hand.length===0&&(f=500),c.push({move:{type:"fillHand"},score:f,description:"Fill hand."})}return c.length===0?{type:"fillHand"}:(c.sort((f,h)=>h.score-f.score),c[0].move)},Im=(r,s)=>{var d;const{player:u,opponent:c}=r;switch(s.type){case"discard":return{type:"discardCards",cardIds:[...c.hand].sort((p,m)=>Fl(p)-Fl(m)).slice(0,s.count).map(p=>p.id)};case"select_cards_to_delete":case"select_card_to_delete_for_death_1":{const p=s.type==="select_cards_to_delete"?s.disallowedIds:s.type==="select_card_to_delete_for_death_1"?[s.sourceCardId]:[],m=u.lanes.flat().filter(S=>!p.includes(S.id));return m.length>0?{type:"deleteCard",cardId:m.sort((b,R)=>Qe(R,"player",r)-Qe(b,"player",r))[0].id}:{type:"skip"}}case"select_any_face_down_card_to_flip_optional":{const p=[];return r.opponent.lanes.forEach((m,S)=>{m.forEach(b=>{if(!b.isFaceUp){const R=Ya(b,m),T=b.value-R;let N=5+T;r.opponent.laneValues[S]+T>=10&&(N+=100),p.push({card:b,score:N})}})}),r.player.lanes.forEach((m,S)=>{m.forEach(b=>{if(!b.isFaceUp){let R=3-r.player.laneValues[S];p.push({card:b,score:R})}})}),p.length>0&&(p.sort((m,S)=>S.score-m.score),p[0].score>0)?{type:"flipCard",cardId:p[0].card.id}:{type:"skip"}}case"select_any_card_to_flip_optional":case"select_any_card_to_flip":case"select_card_to_flip_for_fire_3":case"select_any_other_card_to_flip":case"select_card_to_flip_for_light_0":case"select_any_other_card_to_flip_for_water_0":case"select_opponent_face_up_card_to_flip":case"select_opponent_card_to_flip":{const p=[];return u.lanes.flat().forEach(m=>{m.isFaceUp&&p.push({cardId:m.id,score:Qe(m,"player",r)})}),c.lanes.flat().forEach(m=>{if(!m.isFaceUp){const S=Qe({...m,isFaceUp:!0},"opponent",r)-Qe(m,"opponent",r);p.push({cardId:m.id,score:S+3})}}),p.length>0&&(p.sort((m,S)=>S.score-m.score),p[0].score>0)?{type:"flipCard",cardId:p[0].cardId}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_card_from_other_lanes_to_delete":{const{disallowedLaneIndex:p,lanesSelected:m}=s,S=[];for(let b=0;b<3;b++){if(b===p||m.includes(b))continue;const R=r.player.lanes[b];S.push(...R)}return S.length>0?(S.sort((b,R)=>Qe(R,"player",r)-Qe(b,"player",r)),{type:"deleteCard",cardId:S[0].id}):{type:"skip"}}case"select_low_value_card_to_delete":{const p=[...r.player.lanes.flat(),...r.opponent.lanes.flat()].filter(m=>m.isFaceUp&&(m.value===0||m.value===1));return p.length>0?(p.sort((m,S)=>{const b=r.player.lanes.flat().some(T=>T.id===m.id),R=r.player.lanes.flat().some(T=>T.id===S.id);return b&&!R?-1:!b&&R?1:Qe(S,b?"player":"opponent",r)-Qe(m,R?"player":"opponent",r)}),{type:"deleteCard",cardId:p[0].id}):{type:"skip"}}case"select_own_covered_card_in_lane_to_flip":{const{laneIndex:p}=s,b=r.opponent.lanes[p].filter((R,T,N)=>T<N.length-1).find(R=>!R.isFaceUp);return b?{type:"flipCard",cardId:b.id}:{type:"skip"}}case"select_own_card_to_return_for_water_4":{const p=c.lanes.flat();if(p.length>0){const m=p.map(S=>{let b=10-S.value;return(S.keywords.delete||S.keywords.play||S.keywords.draw||S.keywords.flip)&&(b+=5),{card:S,score:b}});return m.sort((S,b)=>b.score-S.score),{type:"returnCard",cardId:m[0].card.id}}return{type:"skip"}}case"select_lane_for_shift":{const{cardToShiftId:p,cardOwner:m,originalLaneIndex:S}=s,b=(d=Ce(r,p))==null?void 0:d.card;if(!b)return{type:"skip"};const R=[0,1,2].filter(T=>T!==S);if(m==="opponent"){const T=R.map(N=>{const O=Ya(b,r.opponent.lanes[N]),X=r.opponent.laneValues[N]+O;let k=X-r.player.laneValues[N];return X>=10&&X>r.player.laneValues[N]&&(k+=100),{laneIndex:N,score:k}});return T.sort((N,O)=>O.score-N.score),{type:"selectLane",laneIndex:T[0].laneIndex}}else{const T=R.map(N=>{const O=Ya(b,r.player.lanes[N]),P=r.player.laneValues[N]+O-r.opponent.laneValues[N];return{laneIndex:N,score:P}});return T.sort((N,O)=>N.score-O.score),{type:"selectLane",laneIndex:T[0].laneIndex}}}case"prompt_rearrange_protocols":return{type:"rearrangeProtocols",newOrder:r[s.target].protocols.map((p,m)=>({protocol:p,valueDifference:r.opponent.laneValues[m]-r.player.laneValues[m]})).sort((p,m)=>m.valueDifference-p.valueDifference).map(p=>p.protocol)};case"select_card_to_shift_for_gravity_1":{const p=r.player.lanes.flat();if(p.length>0)return p.sort((S,b)=>Qe(b,"player",r)-Qe(S,"player",r)),{type:"deleteCard",cardId:p[0].id};const m=r.opponent.lanes.flat();return m.length>0?(m.sort((S,b)=>Fl(S)-Fl(b)),{type:"deleteCard",cardId:m[0].id}):{type:"skip"}}case"select_card_to_flip_and_shift_for_gravity_2":{const p=[...r.player.lanes.flat(),...r.opponent.lanes.flat()];return p.length>0?(p.sort((m,S)=>{const b=r.player.lanes.flat().some(T=>T.id===m.id),R=r.player.lanes.flat().some(T=>T.id===S.id);return b&&!R?-1:!b&&R?1:Qe(S,b?"player":"opponent",r)-Qe(m,R?"player":"opponent",r)}),{type:"deleteCard",cardId:p[0].id}):{type:"skip"}}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:p}=s;let m=null,S=-1;for(let R=0;R<r.player.lanes.length;R++){if(R===p)continue;const T=r.player.laneValues[R];if(T>S){const N=r.player.lanes[R].find(O=>!O.isFaceUp);N&&(S=T,m=N)}}if(m)return{type:"deleteCard",cardId:m.id};const b=[];for(let R=0;R<r.opponent.lanes.length;R++)R!==p&&r.opponent.lanes[R].forEach(T=>{T.isFaceUp||b.push(T)});return b.length>0?{type:"deleteCard",cardId:b[0].id}:{type:"skip"}}case"select_any_opponent_card_to_shift":{const p=r.player.lanes.flat();return p.length>0?(p.sort((m,S)=>Qe(S,"player",r)-Qe(m,"player",r)),{type:"deleteCard",cardId:p[0].id}):{type:"skip"}}case"prompt_death_1_effect":return{type:"resolveDeath1Prompt",accept:!0};case"prompt_give_card_for_love_1":return{type:"resolveLove1Prompt",accept:!0};case"plague_4_player_flip_optional":return{type:"resolvePlague4Flip",accept:!0};case"prompt_fire_3_discard":return{type:"resolveFire3Prompt",accept:r.opponent.hand.length>1};case"prompt_shift_for_speed_3":return{type:"resolveSpeed3Prompt",accept:!0};case"prompt_shift_for_spirit_3":return{type:"resolveSpirit3Prompt",accept:!0};case"prompt_return_for_psychic_4":return{type:"resolvePsychic4Prompt",accept:!0};case"prompt_spirit_1_start":return{type:"resolveSpirit1Prompt",choice:"flip"};case"prompt_shift_or_flip_for_light_2":return{type:"resolveLight2Prompt",choice:"shift"};case"select_opponent_covered_card_to_shift":{const p=[];for(let m=0;m<r.player.lanes.length;m++){const S=r.player.lanes[m];for(let b=0;b<S.length-1;b++)p.push({card:S[b],laneIndex:m})}return p.length>0?(p.sort((m,S)=>{const b=r.player.laneValues[m.laneIndex],R=r.player.laneValues[S.laneIndex];return b!==R?R-b:Qe(S.card,"player",r)-Qe(m.card,"player",r)}),{type:"deleteCard",cardId:p[0].card.id}):{type:"skip"}}default:const _=Mp(r,s);return _||{type:"skip"}}},Wm=(r,s)=>s?Im(r,s):r.phase==="compile"&&r.compilableLanes.length>0?{type:"compile",laneIndex:r.compilableLanes.reduce((c,d)=>{const i=r.opponent.laneValues[c]-r.player.laneValues[c],f=r.opponent.laneValues[d]-r.player.laneValues[d];return i>f?c:d})}:r.phase==="action"?Jm(r):{type:"fillHand"};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Sc=(r,s,u)=>{switch(u){case"normal":return Mp(r,s);case"hard":return Wm(r,s);default:return Up(r,s)}},ev=(r,s,u,c,d,i)=>{s(f=>{const h=f.actionRequired;if(!h)return f;let _=!1;if((h.type==="discard"&&h.player==="opponent"||h.type==="plague_4_opponent_delete"&&h.actor==="player"||"actor"in h&&h.actor==="opponent")&&(_=!0),!_)return f;const p=Sc(f,h,u);if(p.type==="discardCards"&&h.type==="discard"){const S=c.discardCards(f,p.cardIds,"opponent");return S.actionRequired?S:d.processEndOfAction(S)}if(p.type==="selectLane"&&h.type==="select_lane_for_shift"){const{nextState:S}=lu(f,p.laneIndex);return d.processEndOfAction(S)}if(p.type==="deleteCard"&&h.type==="plague_4_opponent_delete"&&f.actionRequired){const S=f.actionRequired.sourceCardId,b={...f,actionRequired:null};return i([{type:"delete",cardId:p.cardId,owner:"opponent"}],()=>s(R=>({...R,actionRequired:{type:"plague_4_player_flip_optional",sourceCardId:S,optional:!0,actor:"player"}}))),b}if(h.type==="reveal_opponent_hand"){const S=c.revealOpponentHand(f);return d.processEndOfAction(S)}console.warn(`AI has no logic for mandatory action during player turn, clearing it: ${h.type}`);const m={...f,actionRequired:null};return d.processEndOfAction(m)})},tv=(r,s,u,c,d,i)=>{const f=Sc(r,r.actionRequired,u),h=r.actionRequired;if(f.type==="skip"){const p=c.skipAction(r);return r.phase==="start"?i.continueTurnAfterStartPhaseAction(p):i.processEndOfAction(p)}if(f.type==="resolveDeath1Prompt"&&h.type==="prompt_death_1_effect"){const p=c.resolveDeath1Prompt(r,f.accept);return p.actionRequired?p:i.continueTurnAfterStartPhaseAction(p)}if(f.type==="resolveLove1Prompt"&&h.type==="prompt_give_card_for_love_1"){const p=c.resolveLove1Prompt(r,f.accept);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="resolvePlague2Discard"&&h.type==="plague_2_opponent_discard")return Op(r,f.cardIds);if(f.type==="resolvePlague4Flip"&&h.type==="plague_4_player_flip_optional")return c.resolvePlague4Flip(r,f.accept,"opponent");if(f.type==="resolveFire3Prompt"&&h.type==="prompt_fire_3_discard"){const p=c.resolveFire3Prompt(r,f.accept);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="resolveSpeed3Prompt"&&h.type==="prompt_shift_for_speed_3"){const p=c.resolveSpeed3Prompt(r,f.accept);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="resolvePsychic4Prompt"&&h.type==="prompt_return_for_psychic_4"){const p=c.resolvePsychic4Prompt(r,f.accept);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="resolveSpirit1Prompt"&&h.type==="prompt_spirit_1_start"){const p=c.resolveSpirit1Prompt(r,f.choice);return p.actionRequired?p:i.continueTurnAfterStartPhaseAction(p)}if(f.type==="resolveSpirit3Prompt"&&h.type==="prompt_shift_for_spirit_3"){const p=c.resolveSpirit3Prompt(r,f.accept);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="resolveSwapProtocols"&&h.type==="prompt_swap_protocols"){const p=c.resolveSwapProtocols(r,f.indices);return i.processEndOfAction(p)}if(f.type==="resolveFire4Discard"&&h.type==="select_cards_from_hand_to_discard_for_fire_4"){const p=c.resolveFire4Discard(r,f.cardIds);return i.processEndOfAction(p)}if(f.type==="resolveHate1Discard"&&h.type==="select_cards_from_hand_to_discard_for_hate_1")return c.resolveHate1Discard(r,f.cardIds);if(f.type==="resolveLight2Prompt"&&h.type==="prompt_shift_or_flip_for_light_2"){const p=c.resolveLight2Prompt(r,f.choice);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="rearrangeProtocols"&&h.type==="prompt_rearrange_protocols"){const p=c.resolveRearrangeProtocols(r,f.newOrder);return i.processEndOfAction(p)}if(f.type==="selectLane"&&(h.type==="select_lane_for_shift"||h.type==="select_lane_for_death_2"||h.type==="select_lane_for_play"||h.type==="select_lane_for_water_3"||h.type==="select_lane_for_metal_3_delete")){const{nextState:p,requiresAnimation:m}=lu(r,f.laneIndex);if(m){const{animationRequests:S,onCompleteCallback:b}=m;return d(S,()=>{s(R=>b(R,T=>r.phase==="start"?i.continueTurnAfterStartPhaseAction(T):i.processEndOfAction(T)))}),p}return i.processEndOfAction(p)}if(f.type==="flipCard"||f.type==="deleteCard"||f.type==="returnCard"){const{nextState:p,requiresAnimation:m,requiresTurnEnd:S}=Np(r,f.cardId);if(m){const{animationRequests:b,onCompleteCallback:R}=m;return d(b,()=>{s(T=>R(T,N=>N.actionRequired?(Wn(N,s,u,c,d,i),N):N.phase==="start"?i.continueTurnAfterStartPhaseAction(N):i.processEndOfAction(N)))}),p}return S?i.processEndOfAction(p):p}if(f.type==="playCard"&&h.type==="select_card_from_hand_to_play"){const{cardId:p,laneIndex:m,isFaceUp:S}=f,{newState:b,animationRequests:R}=c.playCard({...r,actionRequired:null},p,m,S,"opponent"),T={...b,animationState:{type:"playCard",cardId:p,owner:"opponent"}};return setTimeout(()=>{s(N=>{let O={...N,animationState:null};return R&&R.length>0?(d(R,()=>s(X=>i.processEndOfAction(X))),O):O.actionRequired?(Wn(O,s,u,c,d,i),O):i.processEndOfAction(O)})},500),T}if(f.type==="discardCards"&&h.type==="discard"){const p=c.discardCards(r,f.cardIds,"opponent");return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="giveCard"&&h.type==="select_card_from_hand_to_give"){const p=c.resolveActionWithHandCard(r,f.cardId);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="revealCard"&&h.type==="select_card_from_hand_to_reveal")return c.resolveActionWithHandCard(r,f.cardId);console.warn(`AI has no logic for mandatory action, clearing it: ${h.type}`);const _={...r,actionRequired:null};return i.processEndOfAction(_)},Wn=(r,s,u,c,d,i)=>{s(f=>{if(f.turn!=="opponent"||f.winner||f.animationState)return f;if(f.actionRequired){const _=f.actionRequired;let p=!1;if((_.type==="discard"&&_.player==="player"||_.type==="plague_4_opponent_delete"&&_.actor==="opponent"||"actor"in _&&_.actor==="player")&&(p=!0),p)return f}let h={...f};if(h.actionRequired&&h.actionRequired.type==="reveal_opponent_hand"){const _=c.revealOpponentHand(h);return i.processEndOfAction(_)}if(h.phase==="start"&&(h=i.processStartOfTurn(h)),h.actionRequired)return tv(h,s,u,c,d,i);if(h.phase==="compile"&&h.compilableLanes.length>0){const _=Sc(h,null,u);if(_.type==="compile"){const p=_.laneIndex;return setTimeout(()=>{s(m=>{const S=c.compileLane(m,p);return S.winner?S:i.processEndOfAction(S)})},1e3),{...h,animationState:{type:"compile",laneIndex:p},compilableLanes:[]}}}if(h.phase==="action"){const _=Sc(h,null,u);if(_.type==="fillHand"){const p=c.fillHand(h,"opponent");return i.processEndOfAction(p)}if(_.type==="playCard"){const{newState:p,animationRequests:m}=c.playCard(h,_.cardId,_.laneIndex,_.isFaceUp,"opponent"),S={...p,animationState:{type:"playCard",cardId:_.cardId,owner:"opponent"}};return setTimeout(()=>{const b=()=>{s(R=>{let T={...R},N={newState:T};if(T.queuedEffect){const{card:k,laneIndex:I}=T.queuedEffect;N=tu(k,I,T,"opponent"),N.newState.queuedEffect=void 0}const O=N.animationRequests,X=N.newState,P=()=>{s(k=>(k.actionRequired?Wn(k,s,u,c,d,i):s(i.processEndOfAction(k)),k))};return O&&O.length>0?(d(O,P),X):(X.actionRequired?Wn(X,s,u,c,d,i):s(i.processEndOfAction(X)),X)})};s(R=>{const T={...R,animationState:null};return m&&m.length>0?d(m,b):b(),T})},500),S}}return i.processEndOfAction(h)})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function av(r,s){let u=null,c=null;const d=["player","opponent"];for(const m of d){for(const S of r[m].lanes){const b=S.find(R=>R.id===s);if(b){u=m,c=b;break}}if(u)break}if(!u||!c)return console.error("Card to delete not found on board:",s),r;const i={...r},f={...i[u]};f.lanes=f.lanes.map(m=>m.filter(S=>S.id!==s));const{id:h,isFaceUp:_,...p}=c;return f.discard=[...f.discard,p],i[u]=f,i}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const lv=(r,s,u,c)=>{const[d,i]=K.useState(()=>{const D=_y(r,s);return pt(D)}),[f,h]=K.useState(null),_=K.useCallback(D=>{switch(D){case"start":return vc;case"end":return au;case"action":case"hand_limit":case"compile":case"control":default:return qp}},[]),p=K.useCallback((D,M)=>{if(D.length===0){M();return}const[V,...w]=D;i(H=>({...H,animationState:{type:"deleteCard",cardId:V.cardId,owner:V.owner}})),setTimeout(()=>{i(H=>{const Z=av(H,V.cardId);return{...pt(Z),animationState:null}}),w.length>0?p(w,M):M()},500)},[]),m=(D,M)=>{if(!f||d.turn!=="player"||d.phase!=="action")return;const V=f;h(null),i(w=>{const H=_(w.phase),{newState:Z,animationRequests:Q}=Ji(w,V,D,M,"player"),W={...Z,animationState:{type:"playCard",cardId:V,owner:"player"}};return setTimeout(()=>{i(ye=>{let ne={...ye,animationState:null};return Q&&Q.length>0?(p(Q,()=>i(Be=>Be.actionRequired?Be:H(Be))),ne):ne.actionRequired?ne:H(ne)})},500),W})},S=()=>{d.turn!=="player"||d.phase!=="action"||d.actionRequired||i(D=>{const M=_(D.phase),V=sp(D,"player");return M(V)})},b=K.useCallback(D=>{i(M=>{var V;return((V=M.actionRequired)==null?void 0:V.type)!=="discard"?M:{...M,animationState:{type:"discardCard",owner:"player",cardIds:[D],originalAction:M.actionRequired}}})},[]),R=K.useCallback(D=>{i(M=>{if(M.winner||M.phase!=="compile")return M;const V=_(M.phase),w={...M,animationState:{type:"compile",laneIndex:D},compilableLanes:[]};return setTimeout(()=>{i(H=>{const Z=bp(H,D,u);return Z.winner?Z:{...V(Z),animationState:null}})},1e3),w})},[u,_]),T=D=>{i(M=>{const V=_(M.phase),{nextState:w,requiresAnimation:H,requiresTurnEnd:Z}=Np(M,D);return H?(p(H.animationRequests,()=>{i(Q=>H.onCompleteCallback(Q,V))}),w):w.actionRequired?w:Z?V(w):w})},N=D=>{i(M=>{const V=_(M.phase),{nextState:w,requiresAnimation:H}=lu(M,D);return H?(p(H.animationRequests,()=>{i(Z=>{const Q=H.onCompleteCallback(Z,W=>W);return Q.actionRequired?Q:V(Q)})}),w):w.actionRequired?w:V(w)})},O=D=>{i(M=>{const V=_(M.phase),w=Fi(M,D);return w.actionRequired?w:V(w)})},X=D=>{i(M=>Qm(M,D))},P=()=>{i(D=>{var w,H;const M=_(D.phase);let V={...D,animationState:null};return((w=V.actionRequired)==null?void 0:w.type)==="prompt_shift_or_flip_for_light_2"?V=Zi(V,"skip"):V=wp(V),((H=V.actionRequired)==null?void 0:H.type)==="plague_4_player_flip_optional"?V:M(V)})},k=K.useCallback(D=>{i(M=>{_(M.phase);const V=fp(M,D);return V.actionRequired?V:vc(V)})},[_]),I=K.useCallback(D=>{i(M=>{const V=_(M.phase),w=Qi(M,D);return D?w:V(w)})},[_]),L=K.useCallback(D=>{i(M=>{var V;return((V=M.actionRequired)==null?void 0:V.type)!=="plague_2_player_discard"?M:{...M,animationState:{type:"discardCard",owner:"player",cardIds:D,originalAction:M.actionRequired}}})},[]),F=K.useCallback(D=>{i(M=>{const V=_(M.phase),w=pp(M,D,"player");return V(w)})},[_]),se=K.useCallback(D=>{i(M=>{const V=_(M.phase),w=hp(M,D);return D?w:V(w)})},[_]),fe=K.useCallback(D=>{i(M=>{const V=_(M.phase),w=_p(M,D);return D?w:V(w)})},[_]),te=K.useCallback(D=>{i(M=>{var V;return((V=M.actionRequired)==null?void 0:V.type)!=="select_cards_from_hand_to_discard_for_fire_4"?M:{...M,animationState:{type:"discardCard",owner:"player",cardIds:D,originalAction:M.actionRequired}}})},[]),le=K.useCallback(D=>{i(M=>{var V;return((V=M.actionRequired)==null?void 0:V.type)!=="select_cards_from_hand_to_discard_for_hate_1"?M:{...M,animationState:{type:"discardCard",owner:"player",cardIds:D,originalAction:M.actionRequired}}})},[]),ce=K.useCallback(D=>{i(M=>{const V=_(M.phase),w=Zi(M,D);return w.actionRequired?w:V(w)})},[_]),ge=K.useCallback(D=>{i(M=>{const V=_(M.phase),w=yp(M,D);return V(w)})},[_]),Me=K.useCallback(D=>{i(M=>{const V=_(M.phase),w=mp(M,D);return D?w:V(w)})},[_]),xe=K.useCallback(D=>{i(M=>{_(M.phase);const V=vp(M,D);return V.actionRequired?V:vc(V)})},[_]),_e=K.useCallback(D=>{i(M=>{const V=_(M.phase),w=gp(M,D);return w.actionRequired?w:V(w)})},[_]),z=K.useCallback(D=>{i(M=>{const V=_(M.phase),w=Sp(M,D);return V(w)})},[_]);return K.useEffect(()=>{const D=d.animationState;if(!D)return;let M=0,V=!1;if(D.type==="flipCard"?(M=600,V=!0):D.type==="drawCard"?(M=1e3,V=!0):D.type==="discardCard"&&(M=800,V=!0),V){const w=setTimeout(()=>{i(H=>({...H,animationState:null}))},M);return()=>clearTimeout(w)}},[d.animationState]),K.useEffect(()=>{const D=d.animationState;if((D==null?void 0:D.type)==="discardCard"&&D.owner==="player"){const M=setTimeout(()=>{i(V=>{const w=V.animationState;if((w==null?void 0:w.type)!=="discardCard"||!w.originalAction)return V;const{cardIds:H,originalAction:Z}=w,Q=_(V.phase);let W;return Z.type==="plague_2_player_discard"?W=Xm(V,H):Z.type==="select_cards_from_hand_to_discard_for_fire_4"?W=dp(V,H):Z.type==="select_cards_from_hand_to_discard_for_hate_1"?W=Xi(V,H):W=rl(V,H,"player"),W.animationState=null,W.actionRequired?W:Q(W)})},500);return()=>clearTimeout(M)}},[d.animationState,_]),K.useEffect(()=>{if(d.turn==="opponent"&&!d.winner&&!d.animationState){const D=setTimeout(()=>{Wn(d,i,c,{compileLane:(M,V)=>bp(M,V,u),playCard:Ji,fillHand:sp,discardCards:rl,flipCard:ip,deleteCard:(M,V)=>({newState:M,animationRequests:[{type:"delete",cardId:V,owner:"opponent"}]}),returnCard:up,skipAction:wp,resolveDeath1Prompt:fp,resolveLove1Prompt:Qi,resolvePlague4Flip:(M,V)=>pp(M,V,"opponent"),resolvePlague2Discard:Op,resolveFire3Prompt:hp,resolveSpeed3Prompt:_p,resolveFire4Discard:dp,resolveHate1Discard:Xi,resolveLight2Prompt:Zi,resolveRearrangeProtocols:yp,resolveActionWithHandCard:Fi,resolvePsychic4Prompt:mp,resolveSpirit1Prompt:vp,resolveSpirit3Prompt:gp,resolveSwapProtocols:Sp,revealOpponentHand:Cp},p,op)},1500);return()=>clearTimeout(D)}},[d.turn,d.winner,d.animationState,c,u,p,d.actionRequired]),K.useEffect(()=>{const D=d.actionRequired;if(d.turn==="player"&&!d.animationState&&D&&(D.type==="discard"&&D.player==="opponent"||D.type==="select_lane_for_shift"&&D.actor==="opponent"||D.type==="plague_4_opponent_delete"||D.type==="reveal_opponent_hand")){const V=setTimeout(()=>{ev(d,i,c,{discardCards:rl,flipCard:ip,returnCard:up,deleteCard:(w,H)=>({newState:w,animationRequests:[{type:"delete",cardId:H,owner:"opponent"}]}),resolveActionWithHandCard:Fi,resolveLove1Prompt:Qi,resolveHate1Discard:Xi,revealOpponentHand:Cp},op,p)},1500);return()=>clearTimeout(V)}},[d.actionRequired,d.turn,d.animationState,c,p]),K.useEffect(()=>{i(D=>D.turn==="player"&&D.phase==="start"&&!D.actionRequired?Ep(D):D)},[d.turn,d.phase]),{gameState:d,selectedCard:f,setSelectedCard:h,playSelectedCard:m,fillHand:S,discardCardFromHand:b,compileLane:R,resolveActionWithCard:T,resolveActionWithLane:N,selectHandCardForAction:X,skipAction:P,resolvePlague2Discard:L,resolveActionWithHandCard:O,resolvePlague4Flip:F,resolveFire3Prompt:se,resolveFire4Discard:te,resolveHate1Discard:le,resolveLight2Prompt:ce,resolveRearrangeProtocols:ge,resolveSpeed3Prompt:fe,resolveDeath1Prompt:k,resolveLove1Prompt:I,resolvePsychic4Prompt:Me,resolveSpirit1Prompt:xe,resolveSpirit3Prompt:_e,resolveSwapProtocols:z}},Rp=({cards:r,isPlayable:s,isCompilable:u,isShiftTarget:c,isEffectTarget:d,isMatching:i,onLaneMouseDown:f,onCardMouseDown:h,onCardMouseEnter:_,onCardMouseLeave:p,owner:m,animationState:S,isCardTargetable:b,faceDownValue:R,sourceCardId:T})=>{const N=["lane"];return s&&N.push("playable"),i&&N.push("matching-protocol"),u&&N.push("compilable"),c&&N.push("shift-target"),d&&N.push("effect-target"),v.jsx("div",{className:N.join(" "),onMouseDown:f,children:v.jsx("div",{className:"lane-stack",children:r.map((O,X)=>v.jsx(Ct,{card:O,isFaceUp:O.isFaceUp,style:{"--i":X},onMouseDown:P=>{P.stopPropagation(),h(O)},onMouseEnter:()=>_(O),onMouseLeave:()=>p(O),animationState:S,isTargetable:b(O),isSourceOfEffect:O.id===T,faceDownValue:R},O.id))})})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ii=(r,s)=>{const{actionRequired:u}=s;if(!u)return!1;let c=null,d=-1,i=[];for(const f of["player","opponent"]){for(let h=0;h<s[f].lanes.length;h++)if(s[f].lanes[h].some(_=>_.id===r.id)){c=f,d=h,i=s[f].lanes[h];break}if(c)break}if(!c)return!1;switch(u.type){case"select_opponent_face_up_card_to_flip":return c==="opponent"&&r.isFaceUp;case"select_own_face_up_covered_card_to_flip":{const f=i.findIndex(h=>h.id===r.id);return c==="player"&&r.isFaceUp&&f<i.length-1}case"select_opponent_covered_card_to_shift":{const f=i.findIndex(_=>_.id===r.id),h=s.turn==="player"?"opponent":"player";return c===h&&f<i.length-1}case"select_opponent_card_to_flip":return c==="opponent";case"shift_flipped_card_optional":return r.id===u.cardId;case"select_own_covered_card_in_lane_to_flip":{const f=i.findIndex(h=>h.id===r.id);return c==="player"&&d===u.laneIndex&&f<i.length-1}case"select_face_down_card_to_shift_for_darkness_4":return!r.isFaceUp;case"select_cards_to_delete":return!u.disallowedIds.includes(r.id);case"select_card_to_delete_for_death_1":return r.id!==u.sourceCardId;case"select_face_down_card_to_delete":return!r.isFaceUp;case"select_low_value_card_to_delete":return r.isFaceUp&&(r.value===0||r.value===1);case"select_card_from_other_lanes_to_delete":{const{disallowedLaneIndex:f,lanesSelected:h}=u;return d!==f&&!h.includes(d)}case"plague_4_opponent_delete":return(s.turn==="player"?"opponent":"player")==="player"?c==="player"&&!r.isFaceUp:!1;case"select_any_other_card_to_flip":return r.id!==u.sourceCardId;case"select_card_to_return":return!0;case"select_card_to_flip_for_fire_3":return!0;case"select_card_to_shift_for_gravity_1":return!0;case"select_card_to_flip_and_shift_for_gravity_2":return!0;case"select_face_down_card_to_shift_for_gravity_4":return!r.isFaceUp&&d!==u.targetLaneIndex;case"select_any_card_to_flip":case"select_any_card_to_flip_optional":return!0;case"select_any_face_down_card_to_flip_optional":return!r.isFaceUp;case"select_card_to_flip_for_light_0":return!0;case"select_face_down_card_to_reveal_for_light_2":return!r.isFaceUp;case"select_any_other_card_to_flip_for_water_0":return r.id!==u.sourceCardId;case"select_own_card_to_return_for_water_4":return c===s.turn;case"select_own_other_card_to_shift":return c===s.turn&&r.id!==u.sourceCardId;case"select_own_card_to_shift_for_speed_3":return c===s.turn;case"select_opponent_face_down_card_to_shift":return c!==s.turn&&!r.isFaceUp;case"select_any_opponent_card_to_shift":return c!==s.turn;case"select_opponent_card_to_return":return c==="opponent";default:return!1}},nv=({gameState:r,onLaneMouseDown:s,onCardMouseDown:u,onCardMouseEnter:c,onCardMouseLeave:d,onOpponentHandCardMouseEnter:i,onOpponentHandCardMouseLeave:f,selectedCardId:h,sourceCardId:_})=>{const{player:p,opponent:m,animationState:S,phase:b,turn:R,compilableLanes:T,actionRequired:N}=r,O=L=>{const F=b==="compile"&&!N&&T.includes(L),se=R==="player",fe=b==="action"&&!N&&h,te=(N==null?void 0:N.type)==="select_lane_for_play";if(!se||!fe&&!te)return{isPlayable:!1,isMatching:!1,isCompilable:F};let le;if(fe?le=p.hand.find(D=>D.id===h):te&&(le=p.hand.find(D=>D.id===N.cardInHandId)),!le)return{isPlayable:!1,isMatching:!1,isCompilable:F};if(te&&L===N.disallowedLaneIndex)return{isPlayable:!1,isMatching:!1,isCompilable:F};const ce=m.lanes[L];if(ce.length>0&&ce[ce.length-1].isFaceUp&&ce[ce.length-1].protocol==="Plague"&&ce[ce.length-1].value===0)return{isPlayable:!1,isMatching:!1,isCompilable:F};const Me=m.lanes.flat().some(D=>D.isFaceUp&&D.protocol==="Psychic"&&D.value===1),_e=(p.lanes.flat().some(D=>D.isFaceUp&&D.protocol==="Spirit"&&D.value===1)||le.protocol===p.protocols[L])&&!Me;return ce.some(D=>D.isFaceUp&&D.protocol==="Metal"&&D.value===2)&&!_e?{isPlayable:!1,isMatching:!1,isCompilable:F}:{isPlayable:!0,isMatching:_e,isCompilable:F}},X=L=>{if(!N||R!=="player")return!1;switch(N.type){case"select_lane_for_death_2":case"select_lane_for_water_3":return!0;case"select_lane_for_metal_3_delete":return L===N.disallowedLaneIndex?!1:p.lanes[L].length+m.lanes[L].length>=8;default:return!1}},P=(L,F)=>{if(!N||R!=="player")return!1;switch(N.type){case"select_lane_for_shift":return F===N.cardOwner&&L!==N.originalLaneIndex;case"shift_flipped_card_optional":{if(F!=="opponent")return!1;const fe=N.cardId;let te=-1;for(let le=0;le<m.lanes.length;le++)if(m.lanes[le].some(ce=>ce.id===fe)){te=le;break}return L!==te}case"select_lane_for_life_3_play":return F==="player"&&L!==N.disallowedLaneIndex;case"select_lane_to_shift_revealed_card_for_light_2":return F==="player";case"select_lane_to_shift_cards_for_light_3":return L!==N.sourceLaneIndex;default:return!1}},k=(L,F,se)=>{let fe=[L];return F&&fe.push("compiled"),(S==null?void 0:S.type)==="compile"&&S.laneIndex===se&&fe.push("is-compiling"),fe.join(" ")},I=L=>L.some(se=>se.isFaceUp&&se.protocol==="Darkness"&&se.value===2)?4:2;return v.jsxs("div",{className:"game-board",children:[v.jsx("div",{className:"opponent-hand-area",children:m.hand.map(L=>v.jsx(Ct,{card:L,isFaceUp:L.isRevealed||!1,additionalClassName:"in-hand",onMouseEnter:()=>i(L),onMouseLeave:f},L.id))}),v.jsx("div",{className:`player-side opponent-side ${R==="opponent"?"active-turn":""}`,children:v.jsx("div",{className:"lanes",children:m.lanes.map((L,F)=>{const se=I(L);return v.jsx(Rp,{cards:L,isPlayable:!1,isCompilable:!1,isShiftTarget:P(F,"opponent"),isEffectTarget:X(F),onLaneMouseDown:()=>s(F),onCardMouseDown:fe=>u(fe,"opponent",F),onCardMouseEnter:fe=>c(fe,"opponent"),onCardMouseLeave:()=>d(),owner:"opponent",animationState:S,isCardTargetable:fe=>Ii(fe,r),faceDownValue:se,sourceCardId:_},`opp-lane-${F}`)})})}),v.jsxs("div",{className:"protocol-bars-container",children:[v.jsx("div",{className:"protocol-bar opponent-bar",children:m.protocols.map((L,F)=>v.jsxs("div",{className:k("protocol-display",m.compiled[F],F),children:[v.jsx("span",{className:"protocol-name",children:L}),v.jsx("span",{className:"protocol-value",children:m.laneValues[F]})]},`opp-proto-${L}-${F}`))}),v.jsx("div",{className:"protocol-bar player-bar",children:p.protocols.map((L,F)=>v.jsxs("div",{className:k("protocol-display",p.compiled[F],F),children:[v.jsx("span",{className:"protocol-name",children:L}),v.jsx("span",{className:"protocol-value",children:p.laneValues[F]})]},`player-proto-${L}-${F}`))})]}),v.jsx("div",{className:`player-side ${R==="player"?"active-turn":""}`,children:v.jsx("div",{className:"lanes",children:p.lanes.map((L,F)=>{const{isPlayable:se,isMatching:fe,isCompilable:te}=O(F),le=I(L);return v.jsx(Rp,{cards:L,isPlayable:se,isMatching:fe,isCompilable:te,isShiftTarget:P(F,"player"),isEffectTarget:X(F),onLaneMouseDown:()=>s(F),onCardMouseDown:ce=>u(ce,"player",F),onCardMouseEnter:ce=>c(ce,"player"),onCardMouseLeave:()=>d(),owner:"player",animationState:S,isCardTargetable:ce=>Ii(ce,r),faceDownValue:le,sourceCardId:_},`player-lane-${F}`)})})})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const rv=({gameState:r,onFillHand:s,onSkipAction:u,onResolvePlague2Discard:c,onResolvePlague4Flip:d,onResolveFire3Prompt:i,onResolveSpeed3Prompt:f,onResolveFire4Discard:h,onResolveHate1Discard:_,onResolveLight2Prompt:p,onResolveDeath1Prompt:m,onResolveLove1Prompt:S,onResolvePsychic4Prompt:b,onResolveSpirit1Prompt:R,onResolveSpirit3Prompt:T,selectedCardId:N,multiSelectedCardIds:O})=>{const{phase:X,turn:P,actionRequired:k,player:I,compilableLanes:L}=r,F=ge=>{for(const Me of["player","opponent"])for(const xe of r[Me].lanes){const _e=xe.find(z=>z.id===ge);if(_e)return _e}return null},se=k==null?void 0:k.sourceCardId,fe=se?F(se):null,te=P.charAt(0).toUpperCase()+P.slice(1),le=()=>{if(P!=="player")return v.jsx("button",{className:"btn",disabled:!0,children:"Processing..."});if((k==null?void 0:k.type)==="prompt_death_1_effect")return v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn",onClick:()=>m(!0),children:"Draw & Delete"}),v.jsx("button",{className:"btn btn-back",onClick:()=>m(!1),children:"Skip"})]});if((k==null?void 0:k.type)==="prompt_give_card_for_love_1")return v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn",onClick:()=>S(!0),children:"Give 1 Card"}),v.jsx("button",{className:"btn btn-back",onClick:()=>S(!1),children:"Skip"})]});if((k==null?void 0:k.type)==="prompt_fire_3_discard")return v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn",onClick:()=>i(!0),children:"Discard 1 Card"}),v.jsx("button",{className:"btn btn-back",onClick:()=>i(!1),children:"Skip"})]});if((k==null?void 0:k.type)==="prompt_shift_for_speed_3")return v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn",onClick:()=>f(!0),children:"Shift"}),v.jsx("button",{className:"btn btn-back",onClick:()=>f(!1),children:"Skip"})]});if((k==null?void 0:k.type)==="prompt_spirit_1_start")return v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn",onClick:()=>R("discard"),children:"Discard 1"}),v.jsx("button",{className:"btn btn-back",onClick:()=>R("flip"),children:"Flip Card"})]});if((k==null?void 0:k.type)==="prompt_shift_for_spirit_3")return v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn",onClick:()=>T(!0),children:"Shift"}),v.jsx("button",{className:"btn btn-back",onClick:()=>T(!1),children:"Skip"})]});if((k==null?void 0:k.type)==="prompt_return_for_psychic_4")return v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn",onClick:()=>b(!0),children:"Return Card"}),v.jsx("button",{className:"btn btn-back",onClick:()=>b(!1),children:"Skip"})]});if((k==null?void 0:k.type)==="prompt_shift_or_flip_for_light_2")return v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn",onClick:()=>p("shift"),children:"Shift"}),v.jsx("button",{className:"btn",onClick:()=>p("flip"),children:"Flip Back"}),v.jsx("button",{className:"btn btn-back",onClick:()=>p("skip"),children:"Skip"})]});if((k==null?void 0:k.type)==="plague_2_player_discard"||(k==null?void 0:k.type)==="select_cards_from_hand_to_discard_for_fire_4"||(k==null?void 0:k.type)==="select_cards_from_hand_to_discard_for_hate_1"){let ge,Me=0;return k.type==="plague_2_player_discard"?(ge=c,Me=1):k.type==="select_cards_from_hand_to_discard_for_fire_4"?(ge=h,Me=1):(ge=_,Me=k.count),v.jsxs("button",{className:"btn",onClick:()=>ge(O),disabled:O.length<Me,children:["Confirm Discard (",O.length,")"]})}if((k==null?void 0:k.type)==="plague_4_player_flip_optional")return v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"btn",onClick:()=>d(!0),children:"Flip Plague-4"}),v.jsx("button",{className:"btn btn-back",onClick:()=>d(!1),children:"Skip"})]});if(k&&"optional"in k&&k.optional)return v.jsx("button",{className:"btn btn-back",onClick:u,children:"Skip Action"});if(k)return v.jsx("button",{className:"btn",disabled:!0,children:"Action Required"});if(X==="compile"&&L.length>0)return v.jsx("button",{className:"btn",disabled:!0,children:"Select Lane to Compile"});if(X==="action"){const ge=I.hand.length<5;return I.hand.length===0?v.jsx("button",{className:"btn",onClick:s,children:"Fill Hand (Required)"}):v.jsx("button",{className:"btn",onClick:s,disabled:!ge||!!N,children:"Fill Hand"})}return v.jsx("button",{className:"btn",disabled:!0,children:"Processing..."})},ce=()=>{if(k)switch(k.type){case"discard":return k.player==="player"?`Action: Discard ${k.count} card(s) from your hand`:"Waiting for Opponent to discard...";case"select_opponent_face_up_card_to_flip":return"Action: Select an opponent's face-up card to flip";case"select_own_face_up_covered_card_to_flip":return"Action: Select one of your face-up, covered cards to flip";case"select_opponent_covered_card_to_shift":return"Action: Select one of your opponent's covered cards to shift";case"select_lane_for_shift":return"Action: Select a new lane for the card";case"select_opponent_card_to_flip":return"Action: Select an opponent's card to flip";case"shift_flipped_card_optional":return"Action: You may shift the card you just flipped. Select a lane or skip.";case"select_own_covered_card_in_lane_to_flip":return"Action: You may flip one of your covered cards in this lane. Select a card or skip.";case"select_card_from_hand_to_play":return"Action: Select a card from your hand to play";case"select_lane_for_play":return"Action: Select another lane to play your card in";case"select_face_down_card_to_shift_for_darkness_4":return"Action: Select any face-down card to shift";case"select_cards_to_delete":return`Action: Select a card to delete (${k.count} remaining)`;case"select_face_down_card_to_delete":return"Action: Select a face-down card to delete";case"select_low_value_card_to_delete":return"Action: Select a card with value 0 or 1 to delete";case"select_card_from_other_lanes_to_delete":return`Action: Select a card to delete (${k.count} remaining)`;case"select_lane_for_death_2":return"Action: Select a lane to delete cards with value 1 or 2";case"prompt_death_1_effect":return"Start Phase: Use Death-1 effect?";case"select_card_to_delete_for_death_1":return"Action: Select a card to delete";case"prompt_give_card_for_love_1":return"End Phase: Give 1 card to draw 2?";case"select_card_from_hand_to_give":return"Action: Select a card from your hand to give";case"select_card_from_hand_to_reveal":return"Action: Select a card from your hand to reveal";case"plague_2_player_discard":return"Action: Select 1 or more cards to discard";case"plague_4_opponent_delete":return"Waiting for opponent to delete one of their face-down cards";case"plague_4_player_flip_optional":return"Action: You may flip Plague-4";case"select_any_other_card_to_flip":return"Action: Select any other card to flip";case"select_card_to_return":return"Action: Select a card to return to its owner's hand";case"prompt_fire_3_discard":return"End Phase: Discard 1 card to flip 1 card?";case"select_card_to_flip_for_fire_3":return"Action: Select a card to flip";case"prompt_shift_for_speed_3":return"End Phase: Shift 1 card?";case"select_own_card_to_shift_for_speed_3":case"select_own_other_card_to_shift":return"Action: Select one of your cards to shift";case"select_opponent_face_down_card_to_shift":return"Action: Select an opponent's face-down card to shift";case"prompt_spirit_1_start":return"Start Phase: Discard 1 card or flip Spirit-1?";case"select_any_card_to_flip_optional":return"Action: You may flip one card. Select a card or skip.";case"prompt_shift_for_spirit_3":return"Triggered: You may shift your Spirit-3. Select a lane or skip.";case"prompt_swap_protocols":return"Action: Swap two of your protocols.";case"select_cards_from_hand_to_discard_for_fire_4":return"Action: Select 1 or more cards to discard";case"select_cards_from_hand_to_discard_for_hate_1":return`Action: Select ${k.count} card(s) to discard for Hate-1`;case"select_any_card_to_flip":return`Action: Select a card to flip (${k.count} remaining)`;case"select_any_face_down_card_to_flip_optional":return"Action: You may flip a face-down card. Select a card or skip.";case"select_lane_for_life_3_play":return"Action: Select another lane to play a card into";case"select_card_to_flip_for_light_0":return"Action: Select any card to flip";case"select_face_down_card_to_reveal_for_light_2":return"Action: Select a face-down card to reveal";case"prompt_shift_or_flip_for_light_2":return"Action: Choose to shift, flip back, or skip";case"select_lane_to_shift_revealed_card_for_light_2":return"Action: Select a lane to shift the revealed card to";case"select_lane_to_shift_cards_for_light_3":return"Action: Select a lane to shift all face-down cards to";case"select_lane_for_metal_3_delete":return"Action: Select a lane with 8+ cards to delete";case"select_any_other_card_to_flip_for_water_0":return"Action: Select any other card to flip";case"prompt_rearrange_protocols":return"Action: Rearrange protocols";case"select_lane_for_water_3":return"Action: Select a lane to return cards from";case"select_own_card_to_return_for_water_4":return"Action: Select one of your cards to return to your hand";case"prompt_return_for_psychic_4":return"End Phase: Return an opponent's card?";case"select_any_opponent_card_to_shift":return"Action: Select an opponent's card to shift";case"select_opponent_card_to_return":return"Action: Select an opponent's card to return";default:return"Action Required"}return X==="compile"&&L.length>0?"Phase: Compile":`Phase: ${X.replace("_"," ")}`};return v.jsxs("div",{className:"phase-controller",children:[v.jsxs("div",{className:"effect-source-info",children:[v.jsxs("span",{children:[te,"'s Turn"]}),k&&fe&&v.jsxs(v.Fragment,{children:[" | Effect from: ",v.jsxs("span",{children:[fe.protocol,"-",fe.value]})]})]}),v.jsxs("div",{className:"phase-controller-main",children:[v.jsx("div",{className:"phase-info",children:ce()}),v.jsx("div",{className:"phase-actions",children:le()})]})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const cv=({gameState:r,turn:s,animationState:u,onPlayerClick:c,onOpponentClick:d})=>{const{player:i,opponent:f}=r,h=_=>{const p=["info-section"];return p.push(_==="player"?"player-info":"opponent-info"),s===_&&p.push("active-turn"),(u==null?void 0:u.type)==="drawCard"&&u.owner===_&&p.push("is-drawing"),(u==null?void 0:u.type)==="discardCard"&&u.owner===_&&p.push("is-discarding"),p.join(" ")};return v.jsxs("div",{className:"game-info-panel",children:[v.jsxs("div",{className:h("opponent"),onClick:d,children:[v.jsx("h3",{children:"Opponent"}),v.jsxs("div",{className:"info-line",children:[v.jsx("span",{children:"Hand:"}),v.jsx("span",{children:f.hand.length})]}),v.jsxs("div",{className:"info-line",children:[v.jsx("span",{children:"Deck:"}),v.jsx("span",{children:f.deck.length})]}),v.jsxs("div",{className:"info-line",children:[v.jsx("span",{children:"Discard:"}),v.jsx("span",{children:f.discard.length})]})]}),v.jsxs("div",{className:h("player"),onClick:c,children:[v.jsx("h3",{children:"Player"}),v.jsxs("div",{className:"info-line",children:[v.jsx("span",{children:"Hand:"}),v.jsx("span",{children:i.hand.length})]}),v.jsxs("div",{className:"info-line",children:[v.jsx("span",{children:"Deck:"}),v.jsx("span",{children:i.deck.length})]}),v.jsxs("div",{className:"info-line",children:[v.jsx("span",{children:"Discard:"}),v.jsx("span",{children:i.discard.length})]})]})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function ov({log:r,onClose:s}){return v.jsx("div",{className:"modal-overlay",onClick:s,children:v.jsxs("div",{className:"modal-content log-modal-content",onClick:u=>u.stopPropagation(),children:[v.jsx("button",{className:"btn btn-back modal-close-btn",onClick:s,children:"X"}),v.jsx("h2",{children:"Game Log"}),v.jsx("ol",{className:"log-list",children:r.map((u,c)=>v.jsx("li",{className:`log-entry log-entry-${u.player}`,children:u.message},c))})]})})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function iv({message:r,player:s}){return v.jsx("div",{className:`toaster toaster-${s}`,children:r})}function uv({gameState:r,targetPlayer:s,onConfirm:u}){const[c,d]=K.useState(r[s].protocols),i=K.useRef(null),f=K.useRef(null),h=r[s],p=r[s==="player"?"opponent":"player"],m=K.useMemo(()=>{const I={};return h.protocols.forEach((L,F)=>{I[L]={value:h.laneValues[F],compiled:h.compiled[F]}}),I},[h.protocols,h.laneValues,h.compiled]),S=(I,L)=>{let F=[I];return L&&F.push("compiled"),F.join(" ")},b=(I,L)=>{i.current=L,I.dataTransfer.effectAllowed="move"},R=(I,L)=>{I.preventDefault(),f.current=L},T=()=>{if(i.current!==null&&f.current!==null&&i.current!==f.current){const I=[...c],L=I.splice(i.current,1)[0];I.splice(f.current,0,L),i.current=null,f.current=null,d(I)}},N=I=>{I.preventDefault()},O=s==="player",X=O?"Rearrange Your Protocols":"Rearrange Opponent's Protocols",P=v.jsx("div",{className:`protocol-bar ${O?"player-bar":"opponent-bar"}`,onDragOver:N,children:c.map((I,L)=>{const F=m[I];return v.jsxs("div",{className:S("protocol-display rearrange-item",F.compiled),draggable:!0,onDragStart:se=>b(se,L),onDragEnter:se=>R(se,L),onDragEnd:T,children:[v.jsx("span",{className:"protocol-name",children:I}),v.jsx("span",{className:"protocol-value",children:F.value})]},I)})}),k=v.jsx("div",{className:`protocol-bar ${O?"opponent-bar":"player-bar"}`,children:p.protocols.map((I,L)=>v.jsxs("div",{className:S("protocol-display",p.compiled[L]),children:[v.jsx("span",{className:"protocol-name",children:I}),v.jsx("span",{className:"protocol-value",children:p.laneValues[L]})]},`other-proto-${I}-${L}`))});return v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content rearrange-modal-content",onClick:I=>I.stopPropagation(),children:[v.jsx("h2",{children:X}),v.jsx("p",{children:"Drag and drop the protocols to reorder them."}),v.jsx("div",{className:"rearrange-board-view",children:v.jsxs("div",{className:"protocol-bars-container",children:[O?k:P,O?P:k]})}),v.jsx("div",{className:"rearrange-actions",children:v.jsx("button",{className:"btn",onClick:()=>u(c),children:"Confirm Rearrangement"})})]})})}function sv({gameState:r,onConfirm:s,onCancel:u}){const[c,d]=K.useState([]),i=r.player,f=p=>{c.includes(p)?d(m=>m.filter(S=>S!==p)):c.length<2&&d(m=>[...m,p])},h=()=>{c.length===2&&s(c)},_=p=>{let m=["protocol-display","rearrange-item"];return i.compiled[p]&&m.push("compiled"),c.includes(p)&&m.push("selected"),m.join(" ")};return v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content rearrange-modal-content",onClick:p=>p.stopPropagation(),children:[v.jsx("h2",{children:"Swap Protocols"}),v.jsx("p",{children:"Select two of your protocols to swap their positions."}),v.jsx("div",{className:"rearrange-board-view",children:v.jsx("div",{className:"protocol-bars-container",children:v.jsx("div",{className:"protocol-bar player-bar",children:i.protocols.map((p,m)=>v.jsxs("div",{className:_(m),onClick:()=>f(m),children:[v.jsx("span",{className:"protocol-name",children:p}),v.jsx("span",{className:"protocol-value",children:i.laneValues[m]})]},p))})})}),v.jsxs("div",{className:"rearrange-actions",children:[v.jsx("button",{className:"btn",onClick:h,disabled:c.length!==2,children:"Confirm Swap"}),v.jsx("button",{className:"btn btn-back",onClick:u,children:"Cancel"})]})]})})}function dv({player:r,playerState:s,onClose:u}){const c=r.charAt(0).toUpperCase()+r.slice(1),d=(i,f)=>{const h=i.map((_,p)=>({..._,id:`${f}-${_.protocol}-${_.value}-${p}`,isFaceUp:!0}));return v.jsxs(v.Fragment,{children:[v.jsxs("h3",{children:[f," (",h.length,")"]}),v.jsx("div",{className:"debug-card-grid",children:h.length>0?h.map(_=>v.jsx(Ct,{card:_,isFaceUp:!0,additionalClassName:"in-hand"},_.id)):v.jsxs("p",{className:"no-cards",children:["No cards in ",f.toLowerCase(),"."]})})]})};return v.jsx("div",{className:"modal-overlay",onClick:u,children:v.jsxs("div",{className:"modal-content debug-modal-content",onClick:i=>i.stopPropagation(),children:[v.jsx("button",{className:"btn btn-back modal-close-btn",onClick:u,children:"X"}),v.jsxs("h2",{children:[c,"'s Info"]}),d(s.deck,"Deck"),d(s.discard,"Discard Pile")]})})}const fv=(r,s)=>{if(!s)return null;for(const u of["player","opponent"])for(const c of r[u].lanes){const d=c.find(i=>i.id===s);if(d)return{card:d,owner:u}}return null};function pv({onBack:r,onEndGame:s,playerProtocols:u,opponentProtocols:c,difficulty:d}){var en,nr,rr;const{gameState:i,selectedCard:f,setSelectedCard:h,playSelectedCard:_,fillHand:p,discardCardFromHand:m,compileLane:S,resolveActionWithCard:b,resolveActionWithLane:R,selectHandCardForAction:T,resolveActionWithHandCard:N,skipAction:O,resolveDeath1Prompt:X,resolveLove1Prompt:P,resolvePlague2Discard:k,resolvePlague4Flip:I,resolveFire3Prompt:L,resolveFire4Discard:F,resolveHate1Discard:se,resolveLight2Prompt:fe,resolveRearrangeProtocols:te,resolveSpirit1Prompt:le,resolveSpirit3Prompt:ce,resolveSwapProtocols:ge,resolveSpeed3Prompt:Me,resolvePsychic4Prompt:xe}=lv(u,c,s,d),[_e,z]=K.useState(null),[D,M]=K.useState([]),[V,w]=K.useState(!1),[H,Z]=K.useState([]),Q=K.useRef(i.log.length),[W,ye]=K.useState(!1),[ne,Be]=K.useState(!1),[De,Rt]=K.useState(null),Jl=K.useMemo(()=>{if(i.lastPlayedCardId){const J=fv(i,i.lastPlayedCardId);if(J){const ue=J.owner==="player"||J.card.isFaceUp;return{card:J.card,showContents:ue}}}return null},[i.lastPlayedCardId,i.player.lanes,i.opponent.lanes]),Ba=_e||Jl;K.useEffect(()=>{i.log.length>Q.current&&i.log.slice(Q.current).forEach(ue=>{if(ue.message!=="Game Started."){const ze={message:ue.message,player:ue.player,id:Qt()};Z(je=>[...je,ze]),setTimeout(()=>{Z(je=>je.filter(pa=>pa.id!==ze.id))},5e3)}}),Q.current=i.log.length},[i.log]),K.useEffect(()=>{var J,ue,ze;((J=i.actionRequired)==null?void 0:J.type)!=="plague_2_player_discard"&&((ue=i.actionRequired)==null?void 0:ue.type)!=="select_cards_from_hand_to_discard_for_fire_4"&&((ze=i.actionRequired)==null?void 0:ze.type)!=="select_cards_from_hand_to_discard_for_hate_1"&&M([])},[i.actionRequired]),K.useEffect(()=>{var J,ue;ye(((J=i.actionRequired)==null?void 0:J.type)==="prompt_rearrange_protocols"&&i.turn==="player"),Be(((ue=i.actionRequired)==null?void 0:ue.type)==="prompt_swap_protocols"&&i.turn==="player")},[i.actionRequired,i.turn]),K.useEffect(()=>{const J=ue=>{ue.ctrlKey&&ue.shiftKey&&(ue.preventDefault(),ue.key.toLowerCase()==="w"?(console.log("Debug: Forcing player win."),s("player",i)):ue.key.toLowerCase()==="l"&&(console.log("Debug: Forcing opponent win."),s("opponent",i)))};return window.addEventListener("keydown",J),()=>{window.removeEventListener("keydown",J)}},[i,s]);const cl=J=>{const{actionRequired:ue,turn:ze,phase:je,compilableLanes:pa,player:Zt,opponent:il}=i,ha=ze==="player"&&ue&&["select_lane_for_shift","shift_flipped_card_optional","select_lane_for_play","select_lane_for_death_2","select_lane_for_life_3_play","select_lane_to_shift_revealed_card_for_light_2","select_lane_to_shift_cards_for_light_3","select_lane_for_water_3"].includes(ue.type),Ft=ze==="player"&&!ue&&je==="compile"&&pa.includes(J),zt=il.lanes.flat().some(ht=>ht.isFaceUp&&ht.protocol==="Psychic"&&ht.value===1),_a=f&&je==="action"&&!ue&&Zt.hand.some(ht=>ht.id===f)&&!il.lanes[J].some(ht=>ht.isFaceUp&&ht.protocol==="Plague"&&ht.value===0);if(ha||Ft||_a){if(ha)R(J);else if(Ft)S(J);else if(_a){const ht=Zt.hand.find(Kt=>Kt.id===f),cr=(Zt.lanes.flat().some(Kt=>Kt.isFaceUp&&Kt.protocol==="Spirit"&&Kt.value===1)||ht.protocol===Zt.protocols[J])&&!zt;_(J,cr),z(null)}}else f&&(h(null),z(null))},Il=J=>{if(i.actionRequired){if(i.actionRequired.type==="discard"&&i.actionRequired.player==="player"){m(J.id);return}if(i.actionRequired.type==="select_card_from_hand_to_play"){T(J.id);return}if(i.actionRequired.type==="select_card_from_hand_to_give"||i.actionRequired.type==="select_card_from_hand_to_reveal"){N(J.id);return}if(i.actionRequired.type==="plague_2_player_discard"||i.actionRequired.type==="select_cards_from_hand_to_discard_for_fire_4"||i.actionRequired.type==="select_cards_from_hand_to_discard_for_hate_1"){M(ue=>ue.includes(J.id)?ue.filter(ze=>ze!==J.id):[...ue,J.id]);return}return}i.turn!=="player"||i.phase!=="action"&&i.phase!=="compile"||(J.id===f?(h(null),z(null)):(h(J.id),z({card:J,showContents:!0})))},Wl=(J,ue,ze)=>{const{actionRequired:je,turn:pa,phase:Zt,compilableLanes:il}=i;if(je&&["select_lane_for_shift","shift_flipped_card_optional","select_lane_for_play","select_lane_for_death_2","select_lane_for_life_3_play","select_lane_to_shift_revealed_card_for_light_2","select_lane_to_shift_cards_for_light_3","select_lane_for_water_3"].includes(je.type)){const Yt=ue==="player"||J.isFaceUp;z({card:J,showContents:Yt});return}const Ft=pa==="player"&&!je&&f&&Zt==="action",zt=pa==="player"&&!je&&Zt==="compile"&&il.includes(ze);if(Ft||zt){cl(ze);return}if(Ii(J,i))b(J.id);else if(f)h(null),z(null);else{const Yt=ue==="player"||J.isFaceUp;z({card:J,showContents:Yt})}},wc=J=>{f||z({card:J,showContents:!0})},Cc=()=>{f||z(null)},At=(J,ue)=>{if(!f){const ze=ue==="player"||J.isFaceUp;z({card:J,showContents:ze})}},tr=()=>{f||z(null)},ar=J=>{!f&&!i.actionRequired&&z({card:J,showContents:J.isRevealed||!1})},lr=()=>{if(!Ba)return null;const{card:J,showContents:ue}=Ba;return v.jsx(Ct,{card:J,isFaceUp:ue})},ol=i.turn==="player"&&!i.actionRequired&&i.phase==="compile"&&i.compilableLanes.length>0,Rc=((en=i.actionRequired)==null?void 0:en.sourceCardId)??null;return v.jsxs("div",{className:"screen game-screen",children:[De&&v.jsx(dv,{player:De,playerState:i[De],onClose:()=>Rt(null)}),W&&((nr=i.actionRequired)==null?void 0:nr.type)==="prompt_rearrange_protocols"&&v.jsx(uv,{gameState:i,targetPlayer:i.actionRequired.target,onConfirm:J=>{te(J),ye(!1)}}),ne&&((rr=i.actionRequired)==null?void 0:rr.type)==="prompt_swap_protocols"&&v.jsx(sv,{gameState:i,onConfirm:J=>{ge(J),Be(!1)},onCancel:()=>{O(),Be(!1)}}),v.jsx("div",{className:"toaster-container",children:H.map(J=>v.jsx(iv,{message:J.message,player:J.player},J.id))}),V&&v.jsx(ov,{log:i.log,onClose:()=>w(!1)}),v.jsx("button",{className:"btn log-button",onClick:()=>w(!0),children:"Log"}),v.jsxs("div",{className:"game-screen-layout",children:[v.jsxs("div",{className:"game-preview-container",children:[v.jsx("h2",{children:"Mainframe"}),v.jsx(cv,{gameState:i,turn:i.turn,animationState:i.animationState,onPlayerClick:()=>Rt("player"),onOpponentClick:()=>Rt("opponent")}),v.jsx("div",{className:"preview-card-area",children:lr()}),v.jsx("button",{className:"btn btn-back",onClick:r,children:"Back"})]}),v.jsxs("div",{className:"game-main-area",children:[ol&&v.jsx("div",{className:"compile-prompt-container",children:v.jsx("h3",{children:"Select a Protocol to Compile"})}),v.jsx(nv,{gameState:i,onLaneMouseDown:cl,selectedCardId:f,onCardMouseDown:Wl,onCardMouseEnter:At,onCardMouseLeave:tr,onOpponentHandCardMouseEnter:ar,onOpponentHandCardMouseLeave:tr,sourceCardId:Rc}),v.jsxs("div",{className:"player-action-area",children:[v.jsx(rv,{gameState:i,onFillHand:p,onSkipAction:O,onResolveDeath1Prompt:X,onResolveLove1Prompt:P,onResolvePlague2Discard:k,onResolvePlague4Flip:I,onResolveFire3Prompt:L,onResolveSpeed3Prompt:Me,onResolveFire4Discard:F,onResolveHate1Discard:se,onResolveLight2Prompt:fe,onResolvePsychic4Prompt:xe,onResolveSpirit1Prompt:le,onResolveSpirit3Prompt:ce,selectedCardId:f,multiSelectedCardIds:D}),v.jsx("div",{className:`player-hand-area ${i.actionRequired?"action-required":""}`,children:i.player.hand.map(J=>v.jsx(Ct,{card:J,isFaceUp:!0,onMouseDown:()=>Il(J),onMouseEnter:()=>wc(J),onMouseLeave:Cc,isSelected:J.id===f,isMultiSelected:D.includes(J.id),animationState:i.animationState,additionalClassName:"in-hand"},J.id))})]})]})]})]})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function hv({onPlayAgain:r,winner:s,finalState:u}){if(!u)return v.jsxs("div",{className:"screen",children:[v.jsx("h1",{children:"Loading Results..."}),v.jsx("button",{className:"btn",onClick:r,children:"Back to Menu"})]});const c=s==="player",d=(i,f)=>{let h=[i];return f&&h.push("compiled"),h.join(" ")};return v.jsx("div",{className:`screen results-screen ${c?"victory":"defeat"}`,children:v.jsxs("div",{className:"results-screen-content",children:[v.jsxs("header",{className:"results-header",children:[v.jsx("h1",{children:c?"VICTORY":"DEFEAT"}),v.jsx("p",{children:c?"System compiled successfully.":"Critical error in the mainframe."})]}),v.jsxs("div",{className:"results-body",children:[v.jsxs("div",{className:"final-score-section",children:[v.jsx("h3",{children:"Final Score"}),v.jsxs("div",{className:"protocol-bars-container",children:[v.jsx("div",{className:"protocol-bar opponent-bar",children:u.opponent.protocols.map((i,f)=>v.jsxs("div",{className:d("protocol-display",u.opponent.compiled[f]),children:[v.jsx("span",{className:"protocol-name",children:i}),v.jsx("span",{className:"protocol-value",children:u.opponent.laneValues[f]})]},`opp-proto-${i}-${f}`))}),v.jsx("div",{className:"protocol-bar player-bar",children:u.player.protocols.map((i,f)=>v.jsxs("div",{className:d("protocol-display",u.player.compiled[f]),children:[v.jsx("span",{className:"protocol-name",children:i}),v.jsx("span",{className:"protocol-value",children:u.player.laneValues[f]})]},`player-proto-${i}-${f}`))})]})]}),v.jsxs("div",{className:"stats-section",children:[v.jsx("h3",{children:"Statistics"}),v.jsxs("div",{className:"stats-grid",children:[v.jsxs("div",{className:"stat-item",children:[v.jsx("span",{className:"stat-item-label",children:"Cards Played"}),v.jsx("span",{className:"stat-item-value player",children:u.stats.player.cardsPlayed}),v.jsx("span",{className:"stat-item-value opponent",children:u.stats.opponent.cardsPlayed})]}),v.jsxs("div",{className:"stat-item",children:[v.jsx("span",{className:"stat-item-label",children:"Cards Discarded"}),v.jsx("span",{className:"stat-item-value player",children:u.stats.player.cardsDiscarded}),v.jsx("span",{className:"stat-item-value opponent",children:u.stats.opponent.cardsDiscarded})]}),v.jsxs("div",{className:"stat-item",children:[v.jsx("span",{className:"stat-item-label",children:"Cards Deleted"}),v.jsx("span",{className:"stat-item-value player",children:u.stats.player.cardsDeleted}),v.jsx("span",{className:"stat-item-value opponent",children:u.stats.opponent.cardsDeleted})]}),v.jsxs("div",{className:"stat-item",children:[v.jsx("span",{className:"stat-item-label",children:"Cards Flipped"}),v.jsx("span",{className:"stat-item-value player",children:u.stats.player.cardsFlipped}),v.jsx("span",{className:"stat-item-value opponent",children:u.stats.opponent.cardsFlipped})]}),v.jsxs("div",{className:"stat-item",children:[v.jsx("span",{className:"stat-item-label",children:"Cards Shifted"}),v.jsx("span",{className:"stat-item-value player",children:u.stats.player.cardsShifted}),v.jsx("span",{className:"stat-item-value opponent",children:u.stats.opponent.cardsShifted})]})]})]})]}),v.jsx("button",{className:"btn",onClick:r,children:"Play Again"})]})})}function _v({onBack:r}){const[s,u]=K.useState(da[0]),c=K.useMemo(()=>{const f={};for(const h of da)f[h.protocol]||(f[h.protocol]=[]),f[h.protocol].push(h);for(const h in f)f[h].sort((_,p)=>_.value-p.value);return f},[]),d=f=>{u(f)},i=()=>{if(!s)return null;const f={...s,id:"preview",isFaceUp:!0};return v.jsx(Ct,{card:f,isFaceUp:!0})};return v.jsxs("div",{className:"screen card-library-screen",children:[v.jsx(Ap,{title:"Card Library",onBack:r}),v.jsxs("div",{className:"card-library-layout",children:[v.jsxs("div",{className:"game-preview-container",children:[v.jsx("h2",{children:"Card Preview"}),v.jsx("div",{className:"preview-card-area",children:i()})]}),v.jsx("div",{className:"card-list-container",children:Ki.map(f=>v.jsxs("div",{className:"protocol-group",children:[v.jsx("h3",{children:f}),v.jsx("div",{className:"protocol-card-grid",children:c[f].map(h=>{const _={...h,id:`${h.protocol}-${h.value}`,isFaceUp:!0};return v.jsx(Ct,{card:_,isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>d(h),onMouseDown:()=>d(h)},_.id)})})]},f))})]})]})}function yv(){const[r,s]=K.useState("MainMenu"),[u,c]=K.useState([]),[d,i]=K.useState([]),[f,h]=K.useState(null),[_,p]=K.useState("easy"),[m,S]=K.useState(null),b=K.useCallback(()=>{s("MainMenu"),c([]),i([]),h(null),S(null)},[]);K.useEffect(()=>{const O=X=>{X.key==="Escape"&&b()};return window.addEventListener("keydown",O),()=>{window.removeEventListener("keydown",O)}},[b]);const R=K.useCallback((O,X)=>{c(O),i(X),h(null),S(null),s("GameScreen")},[]),T=K.useCallback((O,X)=>{h(O),S(X),s("ResultsScreen")},[]),N=()=>{switch(r){case"MainMenu":return v.jsx(ap,{onNavigate:O=>s(O),difficulty:_,setDifficulty:p});case"ProtocolSelection":return v.jsx(sy,{onBack:b,onStartGame:R});case"GameScreen":return v.jsx(pv,{onBack:b,onEndGame:T,playerProtocols:u,opponentProtocols:d,difficulty:_});case"ResultsScreen":return v.jsx(hv,{onPlayAgain:b,winner:f,finalState:m});case"CardLibrary":return v.jsx(_v,{onBack:b});default:return v.jsx(ap,{onNavigate:O=>s(O),difficulty:_,setDifficulty:p})}};return v.jsx(v.Fragment,{children:N()})}const mv=document.getElementById("root"),vv=cy.createRoot(mv);vv.render(v.jsx(W_.StrictMode,{children:v.jsx(yv,{})}));
