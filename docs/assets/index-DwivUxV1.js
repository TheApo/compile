(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const i of d)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function u(d){const i={};return d.integrity&&(i.integrity=d.integrity),d.referrerPolicy&&(i.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?i.credentials="include":d.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(d){if(d.ep)return;d.ep=!0;const i=u(d);fetch(d.href,i)}})();function K_(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Hi={exports:{}},Jn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf;function P_(){if(Zf)return Jn;Zf=1;var c=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function u(o,d,i){var f=null;if(i!==void 0&&(f=""+i),d.key!==void 0&&(f=""+d.key),"key"in d){i={};for(var h in d)h!=="key"&&(i[h]=d[h])}else i=d;return d=i.ref,{$$typeof:c,type:o,key:f,ref:d!==void 0?d:null,props:i}}return Jn.Fragment=s,Jn.jsx=u,Jn.jsxs=u,Jn}var Ff;function J_(){return Ff||(Ff=1,Hi.exports=P_()),Hi.exports}var g=J_(),ki={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kf;function I_(){if(Kf)return de;Kf=1;var c=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),S=Symbol.iterator;function b(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,j={};function H(w,z,Z){this.props=w,this.context=z,this.refs=j,this.updater=Z||R}H.prototype.isReactComponent={},H.prototype.setState=function(w,z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,z,"setState")},H.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function X(){}X.prototype=H.prototype;function P(w,z,Z){this.props=w,this.context=z,this.refs=j,this.updater=Z||R}var L=P.prototype=new X;L.constructor=P,E(L,H.prototype),L.isPureReactComponent=!0;var J=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function ue(w,z,Z,Q,I,ye){return Z=ye.ref,{$$typeof:c,type:w,key:z,ref:Z!==void 0?Z:null,props:ye}}function fe(w,z){return ue(w.type,z,void 0,void 0,void 0,w.props)}function te(w){return typeof w=="object"&&w!==null&&w.$$typeof===c}function le(w){var z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(Z){return z[Z]})}var re=/\/+/g;function ge(w,z){return typeof w=="object"&&w!==null&&w.key!=null?le(""+w.key):z.toString(36)}function je(){}function Ae(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(je,je):(w.status="pending",w.then(function(z){w.status==="pending"&&(w.status="fulfilled",w.value=z)},function(z){w.status==="pending"&&(w.status="rejected",w.reason=z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function _e(w,z,Z,Q,I){var ye=typeof w;(ye==="undefined"||ye==="boolean")&&(w=null);var ne=!1;if(w===null)ne=!0;else switch(ye){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(w.$$typeof){case c:case s:ne=!0;break;case m:return ne=w._init,_e(ne(w._payload),z,Z,Q,I)}}if(ne)return I=I(w),ne=Q===""?"."+ge(w,0):Q,J(I)?(Z="",ne!=null&&(Z=ne.replace(re,"$&/")+"/"),_e(I,z,Z,"",function(Rt){return Rt})):I!=null&&(te(I)&&(I=fe(I,Z+(I.key==null||w&&w.key===I.key?"":(""+I.key).replace(re,"$&/")+"/")+ne)),z.push(I)),1;ne=0;var Be=Q===""?".":Q+":";if(J(w))for(var xe=0;xe<w.length;xe++)Q=w[xe],ye=Be+ge(Q,xe),ne+=_e(Q,z,Z,ye,I);else if(xe=b(w),typeof xe=="function")for(w=xe.call(w),xe=0;!(Q=w.next()).done;)Q=Q.value,ye=Be+ge(Q,xe++),ne+=_e(Q,z,Z,ye,I);else if(ye==="object"){if(typeof w.then=="function")return _e(Ae(w),z,Z,Q,I);throw z=String(w),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return ne}function M(w,z,Z){if(w==null)return w;var Q=[],I=0;return _e(w,Q,"","",function(ye){return z.call(Z,ye,I++)}),Q}function D(w){if(w._status===-1){var z=w._result;z=z(),z.then(function(Z){(w._status===0||w._status===-1)&&(w._status=1,w._result=Z)},function(Z){(w._status===0||w._status===-1)&&(w._status=2,w._result=Z)}),w._status===-1&&(w._status=0,w._result=z)}if(w._status===1)return w._result.default;throw w._result}var U=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function V(){}return de.Children={map:M,forEach:function(w,z,Z){M(w,function(){z.apply(this,arguments)},Z)},count:function(w){var z=0;return M(w,function(){z++}),z},toArray:function(w){return M(w,function(z){return z})||[]},only:function(w){if(!te(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},de.Component=H,de.Fragment=u,de.Profiler=d,de.PureComponent=P,de.StrictMode=o,de.Suspense=_,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,de.__COMPILER_RUNTIME={__proto__:null,c:function(w){return k.H.useMemoCache(w)}},de.cache=function(w){return function(){return w.apply(null,arguments)}},de.cloneElement=function(w,z,Z){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Q=E({},w.props),I=w.key,ye=void 0;if(z!=null)for(ne in z.ref!==void 0&&(ye=void 0),z.key!==void 0&&(I=""+z.key),z)!F.call(z,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&z.ref===void 0||(Q[ne]=z[ne]);var ne=arguments.length-2;if(ne===1)Q.children=Z;else if(1<ne){for(var Be=Array(ne),xe=0;xe<ne;xe++)Be[xe]=arguments[xe+2];Q.children=Be}return ue(w.type,I,void 0,void 0,ye,Q)},de.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:i,_context:w},w},de.createElement=function(w,z,Z){var Q,I={},ye=null;if(z!=null)for(Q in z.key!==void 0&&(ye=""+z.key),z)F.call(z,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(I[Q]=z[Q]);var ne=arguments.length-2;if(ne===1)I.children=Z;else if(1<ne){for(var Be=Array(ne),xe=0;xe<ne;xe++)Be[xe]=arguments[xe+2];I.children=Be}if(w&&w.defaultProps)for(Q in ne=w.defaultProps,ne)I[Q]===void 0&&(I[Q]=ne[Q]);return ue(w,ye,void 0,void 0,null,I)},de.createRef=function(){return{current:null}},de.forwardRef=function(w){return{$$typeof:h,render:w}},de.isValidElement=te,de.lazy=function(w){return{$$typeof:m,_payload:{_status:-1,_result:w},_init:D}},de.memo=function(w,z){return{$$typeof:p,type:w,compare:z===void 0?null:z}},de.startTransition=function(w){var z=k.T,Z={};k.T=Z;try{var Q=w(),I=k.S;I!==null&&I(Z,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(V,U)}catch(ye){U(ye)}finally{k.T=z}},de.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},de.use=function(w){return k.H.use(w)},de.useActionState=function(w,z,Z){return k.H.useActionState(w,z,Z)},de.useCallback=function(w,z){return k.H.useCallback(w,z)},de.useContext=function(w){return k.H.useContext(w)},de.useDebugValue=function(){},de.useDeferredValue=function(w,z){return k.H.useDeferredValue(w,z)},de.useEffect=function(w,z,Z){var Q=k.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(w,z)},de.useId=function(){return k.H.useId()},de.useImperativeHandle=function(w,z,Z){return k.H.useImperativeHandle(w,z,Z)},de.useInsertionEffect=function(w,z){return k.H.useInsertionEffect(w,z)},de.useLayoutEffect=function(w,z){return k.H.useLayoutEffect(w,z)},de.useMemo=function(w,z){return k.H.useMemo(w,z)},de.useOptimistic=function(w,z){return k.H.useOptimistic(w,z)},de.useReducer=function(w,z,Z){return k.H.useReducer(w,z,Z)},de.useRef=function(w){return k.H.useRef(w)},de.useState=function(w){return k.H.useState(w)},de.useSyncExternalStore=function(w,z,Z){return k.H.useSyncExternalStore(w,z,Z)},de.useTransition=function(){return k.H.useTransition()},de.version="19.1.1",de}var Pf;function eu(){return Pf||(Pf=1,ki.exports=I_()),ki.exports}var K=eu();const W_=K_(K);var Li={exports:{}},In={},Yi={exports:{}},Bi={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf;function ey(){return Jf||(Jf=1,(function(c){function s(M,D){var U=M.length;M.push(D);e:for(;0<U;){var V=U-1>>>1,w=M[V];if(0<d(w,D))M[V]=D,M[U]=w,U=V;else break e}}function u(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var D=M[0],U=M.pop();if(U!==D){M[0]=U;e:for(var V=0,w=M.length,z=w>>>1;V<z;){var Z=2*(V+1)-1,Q=M[Z],I=Z+1,ye=M[I];if(0>d(Q,U))I<w&&0>d(ye,Q)?(M[V]=ye,M[I]=U,V=I):(M[V]=Q,M[Z]=U,V=Z);else if(I<w&&0>d(ye,U))M[V]=ye,M[I]=U,V=I;else break e}}return D}function d(M,D){var U=M.sortIndex-D.sortIndex;return U!==0?U:M.id-D.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;c.unstable_now=function(){return i.now()}}else{var f=Date,h=f.now();c.unstable_now=function(){return f.now()-h}}var _=[],p=[],m=1,S=null,b=3,R=!1,E=!1,j=!1,H=!1,X=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function J(M){for(var D=u(p);D!==null;){if(D.callback===null)o(p);else if(D.startTime<=M)o(p),D.sortIndex=D.expirationTime,s(_,D);else break;D=u(p)}}function k(M){if(j=!1,J(M),!E)if(u(_)!==null)E=!0,F||(F=!0,ge());else{var D=u(p);D!==null&&_e(k,D.startTime-M)}}var F=!1,ue=-1,fe=5,te=-1;function le(){return H?!0:!(c.unstable_now()-te<fe)}function re(){if(H=!1,F){var M=c.unstable_now();te=M;var D=!0;try{e:{E=!1,j&&(j=!1,P(ue),ue=-1),R=!0;var U=b;try{t:{for(J(M),S=u(_);S!==null&&!(S.expirationTime>M&&le());){var V=S.callback;if(typeof V=="function"){S.callback=null,b=S.priorityLevel;var w=V(S.expirationTime<=M);if(M=c.unstable_now(),typeof w=="function"){S.callback=w,J(M),D=!0;break t}S===u(_)&&o(_),J(M)}else o(_);S=u(_)}if(S!==null)D=!0;else{var z=u(p);z!==null&&_e(k,z.startTime-M),D=!1}}break e}finally{S=null,b=U,R=!1}D=void 0}}finally{D?ge():F=!1}}}var ge;if(typeof L=="function")ge=function(){L(re)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Ae=je.port2;je.port1.onmessage=re,ge=function(){Ae.postMessage(null)}}else ge=function(){X(re,0)};function _e(M,D){ue=X(function(){M(c.unstable_now())},D)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(M){M.callback=null},c.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<M?Math.floor(1e3/M):5},c.unstable_getCurrentPriorityLevel=function(){return b},c.unstable_next=function(M){switch(b){case 1:case 2:case 3:var D=3;break;default:D=b}var U=b;b=D;try{return M()}finally{b=U}},c.unstable_requestPaint=function(){H=!0},c.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=b;b=M;try{return D()}finally{b=U}},c.unstable_scheduleCallback=function(M,D,U){var V=c.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?V+U:V):U=V,M){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=U+w,M={id:m++,callback:D,priorityLevel:M,startTime:U,expirationTime:w,sortIndex:-1},U>V?(M.sortIndex=U,s(p,M),u(_)===null&&M===u(p)&&(j?(P(ue),ue=-1):j=!0,_e(k,U-V))):(M.sortIndex=w,s(_,M),E||R||(E=!0,F||(F=!0,ge()))),M},c.unstable_shouldYield=le,c.unstable_wrapCallback=function(M){var D=b;return function(){var U=b;b=D;try{return M.apply(this,arguments)}finally{b=U}}}})(Bi)),Bi}var If;function ty(){return If||(If=1,Yi.exports=ey()),Yi.exports}var Vi={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wf;function ay(){if(Wf)return ct;Wf=1;var c=eu();function s(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var o={d:{f:u,r:function(){throw Error(s(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},d=Symbol.for("react.portal");function i(_,p,m){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:S==null?null:""+S,children:_,containerInfo:p,implementation:m}}var f=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ct.createPortal=function(_,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(s(299));return i(_,p,null,m)},ct.flushSync=function(_){var p=f.T,m=o.p;try{if(f.T=null,o.p=2,_)return _()}finally{f.T=p,o.p=m,o.d.f()}},ct.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(_,p))},ct.prefetchDNS=function(_){typeof _=="string"&&o.d.D(_)},ct.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var m=p.as,S=h(m,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?o.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:R}):m==="script"&&o.d.X(_,{crossOrigin:S,integrity:b,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ct.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=h(p.as,p.crossOrigin);o.d.M(_,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(_)},ct.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,S=h(m,p.crossOrigin);o.d.L(_,m,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ct.preloadModule=function(_,p){if(typeof _=="string")if(p){var m=h(p.as,p.crossOrigin);o.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(_)},ct.requestFormReset=function(_){o.d.r(_)},ct.unstable_batchedUpdates=function(_,p){return _(p)},ct.useFormState=function(_,p,m){return f.H.useFormState(_,p,m)},ct.useFormStatus=function(){return f.H.useHostTransitionStatus()},ct.version="19.1.1",ct}var ep;function ly(){if(ep)return Vi.exports;ep=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(s){console.error(s)}}return c(),Vi.exports=ay(),Vi.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function ny(){if(tp)return In;tp=1;var c=ty(),s=eu(),u=ly();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function i(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(i(e)!==e)throw Error(o(188))}function _(e){var t=e.alternate;if(!t){if(t=i(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return h(n),e;if(r===l)return h(n),t;r=r.sibling}throw Error(o(188))}if(a.return!==l.return)a=n,l=r;else{for(var y=!1,v=n.child;v;){if(v===a){y=!0,a=n,l=r;break}if(v===l){y=!0,l=n,a=r;break}v=v.sibling}if(!y){for(v=r.child;v;){if(v===a){y=!0,a=r,l=n;break}if(v===l){y=!0,l=r,a=n;break}v=v.sibling}if(!y)throw Error(o(189))}}if(a.alternate!==l)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,S=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),L=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function ge(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var je=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case H:return"Profiler";case j:return"StrictMode";case k:return"Suspense";case F:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case L:return(e.displayName||"Context")+".Provider";case P:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ue:return t=e.displayName||null,t!==null?t:Ae(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return Ae(e(t))}catch{}}return null}var _e=Array.isArray,M=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},V=[],w=-1;function z(e){return{current:e}}function Z(e){0>w||(e.current=V[w],V[w]=null,w--)}function Q(e,t){w++,V[w]=e.current,e.current=t}var I=z(null),ye=z(null),ne=z(null),Be=z(null);function xe(e,t){switch(Q(ne,t),Q(ye,e),Q(I,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=bf(t),e=wf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(I),Q(I,e)}function Rt(){Z(I),Z(ye),Z(ne)}function Jl(e){e.memoizedState!==null&&Q(Be,e);var t=I.current,a=wf(t,e.type);t!==a&&(Q(ye,e),Q(I,a))}function Ya(e){ye.current===e&&(Z(I),Z(ye)),Be.current===e&&(Z(Be),Qn._currentValue=U)}var cl=Object.prototype.hasOwnProperty,Il=c.unstable_scheduleCallback,Wl=c.unstable_cancelCallback,wr=c.unstable_shouldYield,Cr=c.unstable_requestPaint,At=c.unstable_now,tc=c.unstable_getCurrentPriorityLevel,ac=c.unstable_ImmediatePriority,lc=c.unstable_UserBlockingPriority,rl=c.unstable_NormalPriority,Rr=c.unstable_LowPriority,en=c.unstable_IdlePriority,nc=c.log,cc=c.unstable_setDisableYieldValue,W=null,se=null;function ze(e){if(typeof nc=="function"&&cc(e),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(W,e)}catch{}}var Me=Math.clz32?Math.clz32:ol,pa=Math.log,Zt=Math.LN2;function ol(e){return e>>>=0,e===0?32:31-(pa(e)/Zt|0)|0}var ha=256,Ft=4194304;function zt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _a(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,r=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var v=l&134217727;return v!==0?(l=v&~r,l!==0?n=zt(l):(y&=v,y!==0?n=zt(y):a||(a=v&~e,a!==0&&(n=zt(a))))):(v=l&~r,v!==0?n=zt(v):y!==0?n=zt(y):a||(a=l&~e,a!==0&&(n=zt(a)))),n===0?0:t!==0&&t!==n&&(t&r)===0&&(r=n&-n,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:n}function Yt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ht(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ar(){var e=ha;return ha<<=1,(ha&4194048)===0&&(ha=256),e}function rc(){var e=Ft;return Ft<<=1,(Ft&62914560)===0&&(Ft=4194304),e}function Kt(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function tn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hp(e,t,a,l,n,r){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,C=e.expirationTimes,q=e.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-Me(a),G=1<<Y;v[Y]=0,C[Y]=-1;var O=q[Y];if(O!==null)for(q[Y]=null,Y=0;Y<O.length;Y++){var N=O[Y];N!==null&&(N.lane&=-536870913)}a&=~G}l!==0&&cu(e,l,0),r!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=r&~(y&~t))}function cu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Me(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function ru(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Me(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Dr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ou(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:Bf(e.type))}function kp(e,t){var a=D.p;try{return D.p=e,t()}finally{D.p=a}}var ya=Math.random().toString(36).slice(2),lt="__reactFiber$"+ya,it="__reactProps$"+ya,il="__reactContainer$"+ya,Tr="__reactEvents$"+ya,Lp="__reactListeners$"+ya,Yp="__reactHandles$"+ya,iu="__reactResources$"+ya,an="__reactMarker$"+ya;function qr(e){delete e[lt],delete e[it],delete e[Tr],delete e[Lp],delete e[Yp]}function ul(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[il]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=xf(e);e!==null;){if(a=e[lt])return a;e=xf(e)}return t}e=a,a=e.parentNode}return null}function sl(e){if(e=e[lt]||e[il]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ln(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function dl(e){var t=e[iu];return t||(t=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[an]=!0}var uu=new Set,su={};function Ba(e,t){fl(e,t),fl(e+"Capture",t)}function fl(e,t){for(su[e]=t,e=0;e<t.length;e++)uu.add(t[e])}var Bp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),du={},fu={};function Vp(e){return cl.call(fu,e)?!0:cl.call(du,e)?!1:Bp.test(e)?fu[e]=!0:(du[e]=!0,!1)}function oc(e,t,a){if(Vp(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function ic(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Pt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var Er,pu;function pl(e){if(Er===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Er=t&&t[1]||"",pu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Er+e+pu}var Or=!1;function Nr(e,t){if(!e||Or)return"";Or=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(N){var O=N}Reflect.construct(e,[],G)}else{try{G.call()}catch(N){O=N}e.call(G.prototype)}}else{try{throw Error()}catch(N){O=N}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(N){if(N&&O&&typeof N.stack=="string")return[N.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=l.DetermineComponentFrameRoot(),y=r[0],v=r[1];if(y&&v){var C=y.split(`
`),q=v.split(`
`);for(n=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;n<q.length&&!q[n].includes("DetermineComponentFrameRoot");)n++;if(l===C.length||n===q.length)for(l=C.length-1,n=q.length-1;1<=l&&0<=n&&C[l]!==q[n];)n--;for(;1<=l&&0<=n;l--,n--)if(C[l]!==q[n]){if(l!==1||n!==1)do if(l--,n--,0>n||C[l]!==q[n]){var Y=`
`+C[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=n);break}}}finally{Or=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?pl(a):""}function Gp(e){switch(e.tag){case 26:case 27:case 5:return pl(e.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 15:return Nr(e.type,!1);case 11:return Nr(e.type.render,!1);case 1:return Nr(e.type,!0);case 31:return pl("Activity");default:return""}}function hu(e){try{var t="";do t+=Gp(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function xt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _u(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $p(e){var t=_u(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,r=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(y){l=""+y,r.call(this,y)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uc(e){e._valueTracker||(e._valueTracker=$p(e))}function yu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=_u(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function sc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xp=/[\n"\\]/g;function Dt(e){return e.replace(Xp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ur(e,t,a,l,n,r,y,v){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+xt(t)):e.value!==""+xt(t)&&(e.value=""+xt(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Mr(e,y,xt(t)):a!=null?Mr(e,y,xt(a)):l!=null&&e.removeAttribute("value"),n==null&&r!=null&&(e.defaultChecked=!!r),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+xt(v):e.removeAttribute("name")}function mu(e,t,a,l,n,r,y,v){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;a=a!=null?""+xt(a):"",t=t!=null?""+xt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=v?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function Mr(e,t,a){t==="number"&&sc(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hl(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+xt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function vu(e,t,a){if(t!=null&&(t=""+xt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+xt(a):""}function gu(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(o(92));if(_e(l)){if(1<l.length)throw Error(o(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=xt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function _l(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Qp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Qp.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function bu(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&Su(e,n,l)}else for(var r in t)t.hasOwnProperty(r)&&Su(e,r,t[r])}function jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dc(e){return Fp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zr=null;function Hr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yl=null,ml=null;function wu(e){var t=sl(e);if(t&&(e=t.stateNode)){var a=e[it]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ur(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[it]||null;if(!n)throw Error(o(90));Ur(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&yu(l)}break e;case"textarea":vu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&hl(e,!!a.multiple,t,!1)}}}var kr=!1;function Cu(e,t,a){if(kr)return e(t,a);kr=!0;try{var l=e(t);return l}finally{if(kr=!1,(yl!==null||ml!==null)&&(Pc(),yl&&(t=yl,e=ml,ml=yl=null,wu(t),e)))for(t=0;t<e.length;t++)wu(e[t])}}function nn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[it]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(Jt)try{var cn={};Object.defineProperty(cn,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",cn,cn),window.removeEventListener("test",cn,cn)}catch{Lr=!1}var ma=null,Yr=null,fc=null;function Ru(){if(fc)return fc;var e,t=Yr,a=t.length,l,n="value"in ma?ma.value:ma.textContent,r=n.length;for(e=0;e<a&&t[e]===n[e];e++);var y=a-e;for(l=1;l<=y&&t[a-l]===n[r-l];l++);return fc=n.slice(e,1<l?1-l:void 0)}function pc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hc(){return!0}function Au(){return!1}function ut(e){function t(a,l,n,r,y){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=r,this.target=y,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(r):r[v]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?hc:Au,this.isPropagationStopped=Au,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),t}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_c=ut(Va),rn=m({},Va,{view:0,detail:0}),Kp=ut(rn),Br,Vr,on,yc=m({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&e.type==="mousemove"?(Br=e.screenX-on.screenX,Vr=e.screenY-on.screenY):Vr=Br=0,on=e),Br)},movementY:function(e){return"movementY"in e?e.movementY:Vr}}),xu=ut(yc),Pp=m({},yc,{dataTransfer:0}),Jp=ut(Pp),Ip=m({},rn,{relatedTarget:0}),Gr=ut(Ip),Wp=m({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),eh=ut(Wp),th=m({},Va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ah=ut(th),lh=m({},Va,{data:0}),Du=ut(lh),nh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rh[e])?!!t[e]:!1}function $r(){return oh}var ih=m({},rn,{key:function(e){if(e.key){var t=nh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ch[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(e){return e.type==="keypress"?pc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uh=ut(ih),sh=m({},yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tu=ut(sh),dh=m({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r}),fh=ut(dh),ph=m({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),hh=ut(ph),_h=m({},yc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yh=ut(_h),mh=m({},Va,{newState:0,oldState:0}),vh=ut(mh),gh=[9,13,27,32],Xr=Jt&&"CompositionEvent"in window,un=null;Jt&&"documentMode"in document&&(un=document.documentMode);var Sh=Jt&&"TextEvent"in window&&!un,qu=Jt&&(!Xr||un&&8<un&&11>=un),Eu=" ",Ou=!1;function Nu(e,t){switch(e){case"keyup":return gh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vl=!1;function bh(e,t){switch(e){case"compositionend":return Uu(t);case"keypress":return t.which!==32?null:(Ou=!0,Eu);case"textInput":return e=t.data,e===Eu&&Ou?null:e;default:return null}}function wh(e,t){if(vl)return e==="compositionend"||!Xr&&Nu(e,t)?(e=Ru(),fc=Yr=ma=null,vl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qu&&t.locale!=="ko"?null:t.data;default:return null}}var Ch={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ch[e.type]:t==="textarea"}function ju(e,t,a,l){yl?ml?ml.push(l):ml=[l]:yl=l,t=ar(t,"onChange"),0<t.length&&(a=new _c("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var sn=null,dn=null;function Rh(e){yf(e,0)}function mc(e){var t=ln(e);if(yu(t))return e}function zu(e,t){if(e==="change")return t}var Hu=!1;if(Jt){var Qr;if(Jt){var Zr="oninput"in document;if(!Zr){var ku=document.createElement("div");ku.setAttribute("oninput","return;"),Zr=typeof ku.oninput=="function"}Qr=Zr}else Qr=!1;Hu=Qr&&(!document.documentMode||9<document.documentMode)}function Lu(){sn&&(sn.detachEvent("onpropertychange",Yu),dn=sn=null)}function Yu(e){if(e.propertyName==="value"&&mc(dn)){var t=[];ju(t,dn,e,Hr(e)),Cu(Rh,t)}}function Ah(e,t,a){e==="focusin"?(Lu(),sn=t,dn=a,sn.attachEvent("onpropertychange",Yu)):e==="focusout"&&Lu()}function xh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mc(dn)}function Dh(e,t){if(e==="click")return mc(t)}function Th(e,t){if(e==="input"||e==="change")return mc(t)}function qh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:qh;function fn(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!cl.call(t,n)||!_t(e[n],t[n]))return!1}return!0}function Bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vu(e,t){var a=Bu(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bu(a)}}function Gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $u(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=sc(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=sc(e.document)}return t}function Fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Eh=Jt&&"documentMode"in document&&11>=document.documentMode,gl=null,Kr=null,pn=null,Pr=!1;function Xu(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Pr||gl==null||gl!==sc(l)||(l=gl,"selectionStart"in l&&Fr(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pn&&fn(pn,l)||(pn=l,l=ar(Kr,"onSelect"),0<l.length&&(t=new _c("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=gl)))}function Ga(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Sl={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},Jr={},Qu={};Jt&&(Qu=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function $a(e){if(Jr[e])return Jr[e];if(!Sl[e])return e;var t=Sl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Qu)return Jr[e]=t[a];return e}var Zu=$a("animationend"),Fu=$a("animationiteration"),Ku=$a("animationstart"),Oh=$a("transitionrun"),Nh=$a("transitionstart"),Uh=$a("transitioncancel"),Pu=$a("transitionend"),Ju=new Map,Ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ir.push("scrollEnd");function Ht(e,t){Ju.set(e,t),Ba(t,[e])}var Iu=new WeakMap;function Tt(e,t){if(typeof e=="object"&&e!==null){var a=Iu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:hu(t)},Iu.set(e,t),t)}return{value:e,source:t,stack:hu(t)}}var qt=[],bl=0,Wr=0;function vc(){for(var e=bl,t=Wr=bl=0;t<e;){var a=qt[t];qt[t++]=null;var l=qt[t];qt[t++]=null;var n=qt[t];qt[t++]=null;var r=qt[t];if(qt[t++]=null,l!==null&&n!==null){var y=l.pending;y===null?n.next=n:(n.next=y.next,y.next=n),l.pending=n}r!==0&&Wu(a,n,r)}}function gc(e,t,a,l){qt[bl++]=e,qt[bl++]=t,qt[bl++]=a,qt[bl++]=l,Wr|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function eo(e,t,a,l){return gc(e,t,a,l),Sc(e)}function wl(e,t){return gc(e,null,null,t),Sc(e)}function Wu(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,r=e.return;r!==null;)r.childLanes|=a,l=r.alternate,l!==null&&(l.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(n=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,n&&t!==null&&(n=31-Me(a),e=r.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),r):null}function Sc(e){if(50<kn)throw kn=0,oi=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Cl={};function Mh(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,a,l){return new Mh(e,t,a,l)}function to(e){return e=e.prototype,!(!e||!e.isReactComponent)}function It(e,t){var a=e.alternate;return a===null?(a=yt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function es(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bc(e,t,a,l,n,r){var y=0;if(l=e,typeof e=="function")to(e)&&(y=1);else if(typeof e=="string")y=z_(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=yt(31,a,t,n),e.elementType=te,e.lanes=r,e;case E:return Xa(a.children,n,r,t);case j:y=8,n|=24;break;case H:return e=yt(12,a,t,n|2),e.elementType=H,e.lanes=r,e;case k:return e=yt(13,a,t,n),e.elementType=k,e.lanes=r,e;case F:return e=yt(19,a,t,n),e.elementType=F,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:case L:y=10;break e;case P:y=9;break e;case J:y=11;break e;case ue:y=14;break e;case fe:y=16,l=null;break e}y=29,a=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=yt(y,a,t,n),t.elementType=e,t.type=l,t.lanes=r,t}function Xa(e,t,a,l){return e=yt(7,e,l,t),e.lanes=a,e}function ao(e,t,a){return e=yt(6,e,null,t),e.lanes=a,e}function lo(e,t,a){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Rl=[],Al=0,wc=null,Cc=0,Et=[],Ot=0,Qa=null,Wt=1,ea="";function Za(e,t){Rl[Al++]=Cc,Rl[Al++]=wc,wc=e,Cc=t}function ts(e,t,a){Et[Ot++]=Wt,Et[Ot++]=ea,Et[Ot++]=Qa,Qa=e;var l=Wt;e=ea;var n=32-Me(l)-1;l&=~(1<<n),a+=1;var r=32-Me(t)+n;if(30<r){var y=n-n%5;r=(l&(1<<y)-1).toString(32),l>>=y,n-=y,Wt=1<<32-Me(t)+n|a<<n|l,ea=r+e}else Wt=1<<r|a<<n|l,ea=e}function no(e){e.return!==null&&(Za(e,1),ts(e,1,0))}function co(e){for(;e===wc;)wc=Rl[--Al],Rl[Al]=null,Cc=Rl[--Al],Rl[Al]=null;for(;e===Qa;)Qa=Et[--Ot],Et[Ot]=null,ea=Et[--Ot],Et[Ot]=null,Wt=Et[--Ot],Et[Ot]=null}var rt=null,Le=null,we=!1,Fa=null,Bt=!1,ro=Error(o(519));function Ka(e){var t=Error(o(418,""));throw yn(Tt(t,e)),ro}function as(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[lt]=e,t[it]=l,a){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(a=0;a<Yn.length;a++)ve(Yn[a],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),mu(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),uc(t);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),gu(t,l.value,l.defaultValue,l.children),uc(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Sf(t.textContent,a)?(l.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),l.onScroll!=null&&ve("scroll",t),l.onScrollEnd!=null&&ve("scrollend",t),l.onClick!=null&&(t.onclick=lr),t=!0):t=!1,t||Ka(e)}function ls(e){for(rt=e.return;rt;)switch(rt.tag){case 5:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:rt=rt.return}}function hn(e){if(e!==rt)return!1;if(!we)return ls(e),we=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ci(e.type,e.memoizedProps)),a=!a),a&&Le&&Ka(e),ls(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Le=Lt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Le=null}}else t===27?(t=Le,Ua(e.type)?(e=Di,Di=null,Le=e):Le=t):Le=rt?Lt(e.stateNode.nextSibling):null;return!0}function _n(){Le=rt=null,we=!1}function ns(){var e=Fa;return e!==null&&(ft===null?ft=e:ft.push.apply(ft,e),Fa=null),e}function yn(e){Fa===null?Fa=[e]:Fa.push(e)}var oo=z(null),Pa=null,ta=null;function va(e,t,a){Q(oo,t._currentValue),t._currentValue=a}function aa(e){e._currentValue=oo.current,Z(oo)}function io(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function uo(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var r=n.dependencies;if(r!==null){var y=n.child;r=r.firstContext;e:for(;r!==null;){var v=r;r=n;for(var C=0;C<t.length;C++)if(v.context===t[C]){r.lanes|=a,v=r.alternate,v!==null&&(v.lanes|=a),io(r.return,a,e),l||(y=null);break e}r=v.next}}else if(n.tag===18){if(y=n.return,y===null)throw Error(o(341));y.lanes|=a,r=y.alternate,r!==null&&(r.lanes|=a),io(y,a,e),y=null}else y=n.child;if(y!==null)y.return=n;else for(y=n;y!==null;){if(y===e){y=null;break}if(n=y.sibling,n!==null){n.return=y.return,y=n;break}y=y.return}n=y}}function mn(e,t,a,l){e=null;for(var n=t,r=!1;n!==null;){if(!r){if((n.flags&524288)!==0)r=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var y=n.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var v=n.type;_t(n.pendingProps.value,y.value)||(e!==null?e.push(v):e=[v])}}else if(n===Be.current){if(y=n.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Qn):e=[Qn])}n=n.return}e!==null&&uo(t,e,a,l),t.flags|=262144}function Rc(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ja(e){Pa=e,ta=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return cs(Pa,e)}function Ac(e,t){return Pa===null&&Ja(e),cs(e,t)}function cs(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ta===null){if(e===null)throw Error(o(308));ta=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ta=ta.next=t;return a}var jh=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},zh=c.unstable_scheduleCallback,Hh=c.unstable_NormalPriority,Ze={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function so(){return{controller:new jh,data:new Map,refCount:0}}function vn(e){e.refCount--,e.refCount===0&&zh(Hh,function(){e.controller.abort()})}var gn=null,fo=0,xl=0,Dl=null;function kh(e,t){if(gn===null){var a=gn=[];fo=0,xl=hi(),Dl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return fo++,t.then(rs,rs),t}function rs(){if(--fo===0&&gn!==null){Dl!==null&&(Dl.status="fulfilled");var e=gn;gn=null,xl=0,Dl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Lh(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var os=M.S;M.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&kh(e,t),os!==null&&os(e,t)};var Ia=z(null);function po(){var e=Ia.current;return e!==null?e:Ue.pooledCache}function xc(e,t){t===null?Q(Ia,Ia.current):Q(Ia,t.pool)}function is(){var e=po();return e===null?null:{parent:Ze._currentValue,pool:e}}var Sn=Error(o(460)),us=Error(o(474)),Dc=Error(o(542)),ho={then:function(){}};function ss(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tc(){}function ds(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Tc,Tc),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ps(e),e;default:if(typeof t.status=="string")t.then(Tc,Tc);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ps(e),e}throw bn=t,Sn}}var bn=null;function fs(){if(bn===null)throw Error(o(459));var e=bn;return bn=null,e}function ps(e){if(e===Sn||e===Dc)throw Error(o(483))}var ga=!1;function _o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Sa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=Sc(e),Wu(e,null,a),t}return gc(e,l,t,a),Sc(e)}function wn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,ru(e,a)}}function mo(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=y:r=r.next=y,a=a.next}while(a!==null);r===null?n=r=t:r=r.next=t}else n=r=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var vo=!1;function Cn(){if(vo){var e=Dl;if(e!==null)throw e}}function Rn(e,t,a,l){vo=!1;var n=e.updateQueue;ga=!1;var r=n.firstBaseUpdate,y=n.lastBaseUpdate,v=n.shared.pending;if(v!==null){n.shared.pending=null;var C=v,q=C.next;C.next=null,y===null?r=q:y.next=q,y=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,v=Y.lastBaseUpdate,v!==y&&(v===null?Y.firstBaseUpdate=q:v.next=q,Y.lastBaseUpdate=C))}if(r!==null){var G=n.baseState;y=0,Y=q=C=null,v=r;do{var O=v.lane&-536870913,N=O!==v.lane;if(N?(Se&O)===O:(l&O)===O){O!==0&&O===xl&&(vo=!0),Y!==null&&(Y=Y.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ie=e,ce=v;O=t;var qe=a;switch(ce.tag){case 1:if(ie=ce.payload,typeof ie=="function"){G=ie.call(qe,G,O);break e}G=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ce.payload,O=typeof ie=="function"?ie.call(qe,G,O):ie,O==null)break e;G=m({},G,O);break e;case 2:ga=!0}}O=v.callback,O!==null&&(e.flags|=64,N&&(e.flags|=8192),N=n.callbacks,N===null?n.callbacks=[O]:N.push(O))}else N={lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},Y===null?(q=Y=N,C=G):Y=Y.next=N,y|=O;if(v=v.next,v===null){if(v=n.shared.pending,v===null)break;N=v,v=N.next,N.next=null,n.lastBaseUpdate=N,n.shared.pending=null}}while(!0);Y===null&&(C=G),n.baseState=C,n.firstBaseUpdate=q,n.lastBaseUpdate=Y,r===null&&(n.shared.lanes=0),qa|=y,e.lanes=y,e.memoizedState=G}}function hs(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function _s(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)hs(a[e],t)}var Tl=z(null),qc=z(0);function ys(e,t){e=ua,Q(qc,e),Q(Tl,t),ua=e|t.baseLanes}function go(){Q(qc,ua),Q(Tl,Tl.current)}function So(){ua=qc.current,Z(Tl),Z(qc)}var wa=0,pe=null,De=null,$e=null,Ec=!1,ql=!1,Wa=!1,Oc=0,An=0,El=null,Yh=0;function Ve(){throw Error(o(321))}function bo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!_t(e[a],t[a]))return!1;return!0}function wo(e,t,a,l,n,r){return wa=r,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Ws:ed,Wa=!1,r=a(l,n),Wa=!1,ql&&(r=vs(t,a,l,n)),ms(e),r}function ms(e){M.H=Hc;var t=De!==null&&De.next!==null;if(wa=0,$e=De=pe=null,Ec=!1,An=0,El=null,t)throw Error(o(300));e===null||Pe||(e=e.dependencies,e!==null&&Rc(e)&&(Pe=!0))}function vs(e,t,a,l){pe=e;var n=0;do{if(ql&&(El=null),An=0,ql=!1,25<=n)throw Error(o(301));if(n+=1,$e=De=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}M.H=Zh,r=t(a,l)}while(ql);return r}function Bh(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?xn(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(pe.flags|=1024),t}function Co(){var e=Oc!==0;return Oc=0,e}function Ro(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ao(e){if(Ec){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ec=!1}wa=0,$e=De=pe=null,ql=!1,An=Oc=0,El=null}function st(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?pe.memoizedState=$e=e:$e=$e.next=e,$e}function Xe(){if(De===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=$e===null?pe.memoizedState:$e.next;if(t!==null)$e=t,De=e;else{if(e===null)throw pe.alternate===null?Error(o(467)):Error(o(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},$e===null?pe.memoizedState=$e=e:$e=$e.next=e}return $e}function xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xn(e){var t=An;return An+=1,El===null&&(El=[]),e=ds(El,e,t),t=pe,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Ws:ed),e}function Nc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xn(e);if(e.$$typeof===L)return nt(e)}throw Error(o(438,String(e)))}function Do(e){var t=null,a=pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=xo(),pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=le;return t.index++,a}function la(e,t){return typeof t=="function"?t(e):t}function Uc(e){var t=Xe();return To(t,De,e)}function To(e,t,a){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=a;var n=e.baseQueue,r=l.pending;if(r!==null){if(n!==null){var y=n.next;n.next=r.next,r.next=y}t.baseQueue=n=r,l.pending=null}if(r=e.baseState,n===null)e.memoizedState=r;else{t=n.next;var v=y=null,C=null,q=t,Y=!1;do{var G=q.lane&-536870913;if(G!==q.lane?(Se&G)===G:(wa&G)===G){var O=q.revertLane;if(O===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),G===xl&&(Y=!0);else if((wa&O)===O){q=q.next,O===xl&&(Y=!0);continue}else G={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(v=C=G,y=r):C=C.next=G,pe.lanes|=O,qa|=O;G=q.action,Wa&&a(r,G),r=q.hasEagerState?q.eagerState:a(r,G)}else O={lane:G,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(v=C=O,y=r):C=C.next=O,pe.lanes|=G,qa|=G;q=q.next}while(q!==null&&q!==t);if(C===null?y=r:C.next=v,!_t(r,e.memoizedState)&&(Pe=!0,Y&&(a=Dl,a!==null)))throw a;e.memoizedState=r,e.baseState=y,e.baseQueue=C,l.lastRenderedState=r}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function qo(e){var t=Xe(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,r=t.memoizedState;if(n!==null){a.pending=null;var y=n=n.next;do r=e(r,y.action),y=y.next;while(y!==n);_t(r,t.memoizedState)||(Pe=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,l]}function gs(e,t,a){var l=pe,n=Xe(),r=we;if(r){if(a===void 0)throw Error(o(407));a=a()}else a=t();var y=!_t((De||n).memoizedState,a);y&&(n.memoizedState=a,Pe=!0),n=n.queue;var v=ws.bind(null,l,n,e);if(Dn(2048,8,v,[e]),n.getSnapshot!==t||y||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,Ol(9,Mc(),bs.bind(null,l,n,a,t),null),Ue===null)throw Error(o(349));r||(wa&124)!==0||Ss(l,t,a)}return a}function Ss(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=pe.updateQueue,t===null?(t=xo(),pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function bs(e,t,a,l){t.value=a,t.getSnapshot=l,Cs(t)&&Rs(e)}function ws(e,t,a){return a(function(){Cs(t)&&Rs(e)})}function Cs(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!_t(e,a)}catch{return!0}}function Rs(e){var t=wl(e,2);t!==null&&bt(t,e,2)}function Eo(e){var t=st();if(typeof e=="function"){var a=e;if(e=a(),Wa){ze(!0);try{a()}finally{ze(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:e},t}function As(e,t,a,l){return e.baseState=a,To(e,De,typeof l=="function"?l:la)}function Vh(e,t,a,l,n){if(zc(e))throw Error(o(485));if(e=t.action,e!==null){var r={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){r.listeners.push(y)}};M.T!==null?a(!0):r.isTransition=!1,l(r),a=t.pending,a===null?(r.next=t.pending=r,xs(t,r)):(r.next=a.next,t.pending=a.next=r)}}function xs(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var r=M.T,y={};M.T=y;try{var v=a(n,l),C=M.S;C!==null&&C(y,v),Ds(e,t,v)}catch(q){Oo(e,t,q)}finally{M.T=r}}else try{r=a(n,l),Ds(e,t,r)}catch(q){Oo(e,t,q)}}function Ds(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ts(e,t,l)},function(l){return Oo(e,t,l)}):Ts(e,t,a)}function Ts(e,t,a){t.status="fulfilled",t.value=a,qs(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,xs(e,a)))}function Oo(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,qs(t),t=t.next;while(t!==l)}e.action=null}function qs(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Es(e,t){return t}function Os(e,t){if(we){var a=Ue.formState;if(a!==null){e:{var l=pe;if(we){if(Le){t:{for(var n=Le,r=Bt;n.nodeType!==8;){if(!r){n=null;break t}if(n=Lt(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){Le=Lt(n.nextSibling),l=n.data==="F!";break e}}Ka(l)}l=!1}l&&(t=a[0])}}return a=st(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},a.queue=l,a=Ps.bind(null,pe,l),l.dispatch=a,l=Eo(!1),r=zo.bind(null,pe,!1,l.queue),l=st(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Vh.bind(null,pe,n,r,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function Ns(e){var t=Xe();return Us(t,De,e)}function Us(e,t,a){if(t=To(e,t,Es)[0],e=Uc(la)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=xn(t)}catch(y){throw y===Sn?Dc:y}else l=t;t=Xe();var n=t.queue,r=n.dispatch;return a!==t.memoizedState&&(pe.flags|=2048,Ol(9,Mc(),Gh.bind(null,n,a),null)),[l,r,e]}function Gh(e,t){e.action=t}function Ms(e){var t=Xe(),a=De;if(a!==null)return Us(t,a,e);Xe(),t=t.memoizedState,a=Xe();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Ol(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=pe.updateQueue,t===null&&(t=xo(),pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Mc(){return{destroy:void 0,resource:void 0}}function js(){return Xe().memoizedState}function jc(e,t,a,l){var n=st();l=l===void 0?null:l,pe.flags|=e,n.memoizedState=Ol(1|t,Mc(),a,l)}function Dn(e,t,a,l){var n=Xe();l=l===void 0?null:l;var r=n.memoizedState.inst;De!==null&&l!==null&&bo(l,De.memoizedState.deps)?n.memoizedState=Ol(t,r,a,l):(pe.flags|=e,n.memoizedState=Ol(1|t,r,a,l))}function zs(e,t){jc(8390656,8,e,t)}function Hs(e,t){Dn(2048,8,e,t)}function ks(e,t){return Dn(4,2,e,t)}function Ls(e,t){return Dn(4,4,e,t)}function Ys(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bs(e,t,a){a=a!=null?a.concat([e]):null,Dn(4,4,Ys.bind(null,t,e),a)}function No(){}function Vs(e,t){var a=Xe();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&bo(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Gs(e,t){var a=Xe();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&bo(t,l[1]))return l[0];if(l=e(),Wa){ze(!0);try{e()}finally{ze(!1)}}return a.memoizedState=[l,t],l}function Uo(e,t,a){return a===void 0||(wa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Qd(),pe.lanes|=e,qa|=e,a)}function $s(e,t,a,l){return _t(a,t)?a:Tl.current!==null?(e=Uo(e,a,l),_t(e,t)||(Pe=!0),e):(wa&42)===0?(Pe=!0,e.memoizedState=a):(e=Qd(),pe.lanes|=e,qa|=e,t)}function Xs(e,t,a,l,n){var r=D.p;D.p=r!==0&&8>r?r:8;var y=M.T,v={};M.T=v,zo(e,!1,t,a);try{var C=n(),q=M.S;if(q!==null&&q(v,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=Lh(C,l);Tn(e,t,Y,St(e))}else Tn(e,t,l,St(e))}catch(G){Tn(e,t,{then:function(){},status:"rejected",reason:G},St())}finally{D.p=r,M.T=y}}function $h(){}function Mo(e,t,a,l){if(e.tag!==5)throw Error(o(476));var n=Qs(e).queue;Xs(e,n,t,U,a===null?$h:function(){return Zs(e),a(l)})}function Qs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:U},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zs(e){var t=Qs(e).next.queue;Tn(e,t,{},St())}function jo(){return nt(Qn)}function Fs(){return Xe().memoizedState}function Ks(){return Xe().memoizedState}function Xh(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=St();e=Sa(a);var l=ba(t,e,a);l!==null&&(bt(l,t,a),wn(l,t,a)),t={cache:so()},e.payload=t;return}t=t.return}}function Qh(e,t,a){var l=St();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zc(e)?Js(t,a):(a=eo(e,t,a,l),a!==null&&(bt(a,e,l),Is(a,t,l)))}function Ps(e,t,a){var l=St();Tn(e,t,a,l)}function Tn(e,t,a,l){var n={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zc(e))Js(t,n);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var y=t.lastRenderedState,v=r(y,a);if(n.hasEagerState=!0,n.eagerState=v,_t(v,y))return gc(e,t,n,0),Ue===null&&vc(),!1}catch{}finally{}if(a=eo(e,t,n,l),a!==null)return bt(a,e,l),Is(a,t,l),!0}return!1}function zo(e,t,a,l){if(l={lane:2,revertLane:hi(),action:l,hasEagerState:!1,eagerState:null,next:null},zc(e)){if(t)throw Error(o(479))}else t=eo(e,a,l,2),t!==null&&bt(t,e,2)}function zc(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Js(e,t){ql=Ec=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Is(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,ru(e,a)}}var Hc={readContext:nt,use:Nc,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve},Ws={readContext:nt,use:Nc,useCallback:function(e,t){return st().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:zs,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,jc(4194308,4,Ys.bind(null,t,e),a)},useLayoutEffect:function(e,t){return jc(4194308,4,e,t)},useInsertionEffect:function(e,t){jc(4,2,e,t)},useMemo:function(e,t){var a=st();t=t===void 0?null:t;var l=e();if(Wa){ze(!0);try{e()}finally{ze(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=st();if(a!==void 0){var n=a(t);if(Wa){ze(!0);try{a(t)}finally{ze(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=Qh.bind(null,pe,e),[l.memoizedState,e]},useRef:function(e){var t=st();return e={current:e},t.memoizedState=e},useState:function(e){e=Eo(e);var t=e.queue,a=Ps.bind(null,pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:No,useDeferredValue:function(e,t){var a=st();return Uo(a,e,t)},useTransition:function(){var e=Eo(!1);return e=Xs.bind(null,pe,e.queue,!0,!1),st().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=pe,n=st();if(we){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),Ue===null)throw Error(o(349));(Se&124)!==0||Ss(l,t,a)}n.memoizedState=a;var r={value:a,getSnapshot:t};return n.queue=r,zs(ws.bind(null,l,r,e),[e]),l.flags|=2048,Ol(9,Mc(),bs.bind(null,l,r,a,t),null),a},useId:function(){var e=st(),t=Ue.identifierPrefix;if(we){var a=ea,l=Wt;a=(l&~(1<<32-Me(l)-1)).toString(32)+a,t="«"+t+"R"+a,a=Oc++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Yh++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:jo,useFormState:Os,useActionState:Os,useOptimistic:function(e){var t=st();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=zo.bind(null,pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Do,useCacheRefresh:function(){return st().memoizedState=Xh.bind(null,pe)}},ed={readContext:nt,use:Nc,useCallback:Vs,useContext:nt,useEffect:Hs,useImperativeHandle:Bs,useInsertionEffect:ks,useLayoutEffect:Ls,useMemo:Gs,useReducer:Uc,useRef:js,useState:function(){return Uc(la)},useDebugValue:No,useDeferredValue:function(e,t){var a=Xe();return $s(a,De.memoizedState,e,t)},useTransition:function(){var e=Uc(la)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:xn(e),t]},useSyncExternalStore:gs,useId:Fs,useHostTransitionStatus:jo,useFormState:Ns,useActionState:Ns,useOptimistic:function(e,t){var a=Xe();return As(a,De,e,t)},useMemoCache:Do,useCacheRefresh:Ks},Zh={readContext:nt,use:Nc,useCallback:Vs,useContext:nt,useEffect:Hs,useImperativeHandle:Bs,useInsertionEffect:ks,useLayoutEffect:Ls,useMemo:Gs,useReducer:qo,useRef:js,useState:function(){return qo(la)},useDebugValue:No,useDeferredValue:function(e,t){var a=Xe();return De===null?Uo(a,e,t):$s(a,De.memoizedState,e,t)},useTransition:function(){var e=qo(la)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:xn(e),t]},useSyncExternalStore:gs,useId:Fs,useHostTransitionStatus:jo,useFormState:Ms,useActionState:Ms,useOptimistic:function(e,t){var a=Xe();return De!==null?As(a,De,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Do,useCacheRefresh:Ks},Nl=null,qn=0;function kc(e){var t=qn;return qn+=1,Nl===null&&(Nl=[]),ds(Nl,e,t)}function En(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Lc(e,t){throw t.$$typeof===S?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function td(e){var t=e._init;return t(e._payload)}function ad(e){function t(x,A){if(e){var T=x.deletions;T===null?(x.deletions=[A],x.flags|=16):T.push(A)}}function a(x,A){if(!e)return null;for(;A!==null;)t(x,A),A=A.sibling;return null}function l(x){for(var A=new Map;x!==null;)x.key!==null?A.set(x.key,x):A.set(x.index,x),x=x.sibling;return A}function n(x,A){return x=It(x,A),x.index=0,x.sibling=null,x}function r(x,A,T){return x.index=T,e?(T=x.alternate,T!==null?(T=T.index,T<A?(x.flags|=67108866,A):T):(x.flags|=67108866,A)):(x.flags|=1048576,A)}function y(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function v(x,A,T,B){return A===null||A.tag!==6?(A=ao(T,x.mode,B),A.return=x,A):(A=n(A,T),A.return=x,A)}function C(x,A,T,B){var ee=T.type;return ee===E?Y(x,A,T.props.children,B,T.key):A!==null&&(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&td(ee)===A.type)?(A=n(A,T.props),En(A,T),A.return=x,A):(A=bc(T.type,T.key,T.props,null,x.mode,B),En(A,T),A.return=x,A)}function q(x,A,T,B){return A===null||A.tag!==4||A.stateNode.containerInfo!==T.containerInfo||A.stateNode.implementation!==T.implementation?(A=lo(T,x.mode,B),A.return=x,A):(A=n(A,T.children||[]),A.return=x,A)}function Y(x,A,T,B,ee){return A===null||A.tag!==7?(A=Xa(T,x.mode,B,ee),A.return=x,A):(A=n(A,T),A.return=x,A)}function G(x,A,T){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=ao(""+A,x.mode,T),A.return=x,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case b:return T=bc(A.type,A.key,A.props,null,x.mode,T),En(T,A),T.return=x,T;case R:return A=lo(A,x.mode,T),A.return=x,A;case fe:var B=A._init;return A=B(A._payload),G(x,A,T)}if(_e(A)||ge(A))return A=Xa(A,x.mode,T,null),A.return=x,A;if(typeof A.then=="function")return G(x,kc(A),T);if(A.$$typeof===L)return G(x,Ac(x,A),T);Lc(x,A)}return null}function O(x,A,T,B){var ee=A!==null?A.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return ee!==null?null:v(x,A,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case b:return T.key===ee?C(x,A,T,B):null;case R:return T.key===ee?q(x,A,T,B):null;case fe:return ee=T._init,T=ee(T._payload),O(x,A,T,B)}if(_e(T)||ge(T))return ee!==null?null:Y(x,A,T,B,null);if(typeof T.then=="function")return O(x,A,kc(T),B);if(T.$$typeof===L)return O(x,A,Ac(x,T),B);Lc(x,T)}return null}function N(x,A,T,B,ee){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return x=x.get(T)||null,v(A,x,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return x=x.get(B.key===null?T:B.key)||null,C(A,x,B,ee);case R:return x=x.get(B.key===null?T:B.key)||null,q(A,x,B,ee);case fe:var he=B._init;return B=he(B._payload),N(x,A,T,B,ee)}if(_e(B)||ge(B))return x=x.get(T)||null,Y(A,x,B,ee,null);if(typeof B.then=="function")return N(x,A,T,kc(B),ee);if(B.$$typeof===L)return N(x,A,T,Ac(A,B),ee);Lc(A,B)}return null}function ie(x,A,T,B){for(var ee=null,he=null,ae=A,oe=A=0,Ie=null;ae!==null&&oe<T.length;oe++){ae.index>oe?(Ie=ae,ae=null):Ie=ae.sibling;var be=O(x,ae,T[oe],B);if(be===null){ae===null&&(ae=Ie);break}e&&ae&&be.alternate===null&&t(x,ae),A=r(be,A,oe),he===null?ee=be:he.sibling=be,he=be,ae=Ie}if(oe===T.length)return a(x,ae),we&&Za(x,oe),ee;if(ae===null){for(;oe<T.length;oe++)ae=G(x,T[oe],B),ae!==null&&(A=r(ae,A,oe),he===null?ee=ae:he.sibling=ae,he=ae);return we&&Za(x,oe),ee}for(ae=l(ae);oe<T.length;oe++)Ie=N(ae,x,oe,T[oe],B),Ie!==null&&(e&&Ie.alternate!==null&&ae.delete(Ie.key===null?oe:Ie.key),A=r(Ie,A,oe),he===null?ee=Ie:he.sibling=Ie,he=Ie);return e&&ae.forEach(function(ka){return t(x,ka)}),we&&Za(x,oe),ee}function ce(x,A,T,B){if(T==null)throw Error(o(151));for(var ee=null,he=null,ae=A,oe=A=0,Ie=null,be=T.next();ae!==null&&!be.done;oe++,be=T.next()){ae.index>oe?(Ie=ae,ae=null):Ie=ae.sibling;var ka=O(x,ae,be.value,B);if(ka===null){ae===null&&(ae=Ie);break}e&&ae&&ka.alternate===null&&t(x,ae),A=r(ka,A,oe),he===null?ee=ka:he.sibling=ka,he=ka,ae=Ie}if(be.done)return a(x,ae),we&&Za(x,oe),ee;if(ae===null){for(;!be.done;oe++,be=T.next())be=G(x,be.value,B),be!==null&&(A=r(be,A,oe),he===null?ee=be:he.sibling=be,he=be);return we&&Za(x,oe),ee}for(ae=l(ae);!be.done;oe++,be=T.next())be=N(ae,x,oe,be.value,B),be!==null&&(e&&be.alternate!==null&&ae.delete(be.key===null?oe:be.key),A=r(be,A,oe),he===null?ee=be:he.sibling=be,he=be);return e&&ae.forEach(function(F_){return t(x,F_)}),we&&Za(x,oe),ee}function qe(x,A,T,B){if(typeof T=="object"&&T!==null&&T.type===E&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case b:e:{for(var ee=T.key;A!==null;){if(A.key===ee){if(ee=T.type,ee===E){if(A.tag===7){a(x,A.sibling),B=n(A,T.props.children),B.return=x,x=B;break e}}else if(A.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===fe&&td(ee)===A.type){a(x,A.sibling),B=n(A,T.props),En(B,T),B.return=x,x=B;break e}a(x,A);break}else t(x,A);A=A.sibling}T.type===E?(B=Xa(T.props.children,x.mode,B,T.key),B.return=x,x=B):(B=bc(T.type,T.key,T.props,null,x.mode,B),En(B,T),B.return=x,x=B)}return y(x);case R:e:{for(ee=T.key;A!==null;){if(A.key===ee)if(A.tag===4&&A.stateNode.containerInfo===T.containerInfo&&A.stateNode.implementation===T.implementation){a(x,A.sibling),B=n(A,T.children||[]),B.return=x,x=B;break e}else{a(x,A);break}else t(x,A);A=A.sibling}B=lo(T,x.mode,B),B.return=x,x=B}return y(x);case fe:return ee=T._init,T=ee(T._payload),qe(x,A,T,B)}if(_e(T))return ie(x,A,T,B);if(ge(T)){if(ee=ge(T),typeof ee!="function")throw Error(o(150));return T=ee.call(T),ce(x,A,T,B)}if(typeof T.then=="function")return qe(x,A,kc(T),B);if(T.$$typeof===L)return qe(x,A,Ac(x,T),B);Lc(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,A!==null&&A.tag===6?(a(x,A.sibling),B=n(A,T),B.return=x,x=B):(a(x,A),B=ao(T,x.mode,B),B.return=x,x=B),y(x)):a(x,A)}return function(x,A,T,B){try{qn=0;var ee=qe(x,A,T,B);return Nl=null,ee}catch(ae){if(ae===Sn||ae===Dc)throw ae;var he=yt(29,ae,null,x.mode);return he.lanes=B,he.return=x,he}finally{}}}var Ul=ad(!0),ld=ad(!1),Nt=z(null),Vt=null;function Ca(e){var t=e.alternate;Q(Fe,Fe.current&1),Q(Nt,e),Vt===null&&(t===null||Tl.current!==null||t.memoizedState!==null)&&(Vt=e)}function nd(e){if(e.tag===22){if(Q(Fe,Fe.current),Q(Nt,e),Vt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Vt=e)}}else Ra()}function Ra(){Q(Fe,Fe.current),Q(Nt,Nt.current)}function na(e){Z(Nt),Vt===e&&(Vt=null),Z(Fe)}var Fe=z(0);function Yc(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||xi(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ho(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:m({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ko={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=St(),n=Sa(l);n.payload=t,a!=null&&(n.callback=a),t=ba(e,n,l),t!==null&&(bt(t,e,l),wn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=St(),n=Sa(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ba(e,n,l),t!==null&&(bt(t,e,l),wn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=St(),l=Sa(a);l.tag=2,t!=null&&(l.callback=t),t=ba(e,l,a),t!==null&&(bt(t,e,a),wn(t,e,a))}};function cd(e,t,a,l,n,r,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,r,y):t.prototype&&t.prototype.isPureReactComponent?!fn(a,l)||!fn(n,r):!0}function rd(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&ko.enqueueReplaceState(t,t.state,null)}function el(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=m({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var Bc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function od(e){Bc(e)}function id(e){console.error(e)}function ud(e){Bc(e)}function Vc(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function sd(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Lo(e,t,a){return a=Sa(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(e,t)},a}function dd(e){return e=Sa(e),e.tag=3,e}function fd(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=l.value;e.payload=function(){return n(r)},e.callback=function(){sd(t,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){sd(t,a,l),typeof n!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function Fh(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&mn(t,a,n,!0),a=Nt.current,a!==null){switch(a.tag){case 13:return Vt===null?ui():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===ho?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),di(e,l,n)),!1;case 22:return a.flags|=65536,l===ho?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),di(e,l,n)),!1}throw Error(o(435,a.tag))}return di(e,l,n),ui(),!1}if(we)return t=Nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==ro&&(e=Error(o(422),{cause:l}),yn(Tt(e,a)))):(l!==ro&&(t=Error(o(423),{cause:l}),yn(Tt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=Tt(l,a),n=Lo(e.stateNode,l,n),mo(e,n),Ye!==4&&(Ye=2)),!1;var r=Error(o(520),{cause:l});if(r=Tt(r,a),Hn===null?Hn=[r]:Hn.push(r),Ye!==4&&(Ye=2),t===null)return!0;l=Tt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=Lo(a.stateNode,l,e),mo(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ea===null||!Ea.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=dd(n),fd(n,e,a,l),mo(a,n),!1}a=a.return}while(a!==null);return!1}var pd=Error(o(461)),Pe=!1;function We(e,t,a,l){t.child=e===null?ld(t,null,a,l):Ul(t,e.child,a,l)}function hd(e,t,a,l,n){a=a.render;var r=t.ref;if("ref"in l){var y={};for(var v in l)v!=="ref"&&(y[v]=l[v])}else y=l;return Ja(t),l=wo(e,t,a,y,r,n),v=Co(),e!==null&&!Pe?(Ro(e,t,n),ca(e,t,n)):(we&&v&&no(t),t.flags|=1,We(e,t,l,n),t.child)}function _d(e,t,a,l,n){if(e===null){var r=a.type;return typeof r=="function"&&!to(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,yd(e,t,r,l,n)):(e=bc(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!Zo(e,n)){var y=r.memoizedProps;if(a=a.compare,a=a!==null?a:fn,a(y,l)&&e.ref===t.ref)return ca(e,t,n)}return t.flags|=1,e=It(r,l),e.ref=t.ref,e.return=t,t.child=e}function yd(e,t,a,l,n){if(e!==null){var r=e.memoizedProps;if(fn(r,l)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=l=r,Zo(e,n))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,ca(e,t,n)}return Yo(e,t,a,l,n)}function md(e,t,a){var l=t.pendingProps,n=l.children,r=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=r!==null?r.baseLanes|a:a,e!==null){for(n=t.child=e.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;t.childLanes=r&~l}else t.childLanes=0,t.child=null;return vd(e,t,l,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xc(t,r!==null?r.cachePool:null),r!==null?ys(t,r):go(),nd(t);else return t.lanes=t.childLanes=536870912,vd(e,t,r!==null?r.baseLanes|a:a,a)}else r!==null?(xc(t,r.cachePool),ys(t,r),Ra(),t.memoizedState=null):(e!==null&&xc(t,null),go(),Ra());return We(e,t,n,a),t.child}function vd(e,t,a,l){var n=po();return n=n===null?null:{parent:Ze._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&xc(t,null),go(),nd(t),e!==null&&mn(e,t,l,!0),null}function Gc(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Yo(e,t,a,l,n){return Ja(t),a=wo(e,t,a,l,void 0,n),l=Co(),e!==null&&!Pe?(Ro(e,t,n),ca(e,t,n)):(we&&l&&no(t),t.flags|=1,We(e,t,a,n),t.child)}function gd(e,t,a,l,n,r){return Ja(t),t.updateQueue=null,a=vs(t,l,a,n),ms(e),l=Co(),e!==null&&!Pe?(Ro(e,t,r),ca(e,t,r)):(we&&l&&no(t),t.flags|=1,We(e,t,a,r),t.child)}function Sd(e,t,a,l,n){if(Ja(t),t.stateNode===null){var r=Cl,y=a.contextType;typeof y=="object"&&y!==null&&(r=nt(y)),r=new a(l,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ko,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=l,r.state=t.memoizedState,r.refs={},_o(t),y=a.contextType,r.context=typeof y=="object"&&y!==null?nt(y):Cl,r.state=t.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Ho(t,a,y,l),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(y=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),y!==r.state&&ko.enqueueReplaceState(r,r.state,null),Rn(t,l,r,n),Cn(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){r=t.stateNode;var v=t.memoizedProps,C=el(a,v);r.props=C;var q=r.context,Y=a.contextType;y=Cl,typeof Y=="object"&&Y!==null&&(y=nt(Y));var G=a.getDerivedStateFromProps;Y=typeof G=="function"||typeof r.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,Y||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(v||q!==y)&&rd(t,r,l,y),ga=!1;var O=t.memoizedState;r.state=O,Rn(t,l,r,n),Cn(),q=t.memoizedState,v||O!==q||ga?(typeof G=="function"&&(Ho(t,a,G,l),q=t.memoizedState),(C=ga||cd(t,a,C,l,O,q,y))?(Y||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=q),r.props=l,r.state=q,r.context=y,l=C):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{r=t.stateNode,yo(e,t),y=t.memoizedProps,Y=el(a,y),r.props=Y,G=t.pendingProps,O=r.context,q=a.contextType,C=Cl,typeof q=="object"&&q!==null&&(C=nt(q)),v=a.getDerivedStateFromProps,(q=typeof v=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(y!==G||O!==C)&&rd(t,r,l,C),ga=!1,O=t.memoizedState,r.state=O,Rn(t,l,r,n),Cn();var N=t.memoizedState;y!==G||O!==N||ga||e!==null&&e.dependencies!==null&&Rc(e.dependencies)?(typeof v=="function"&&(Ho(t,a,v,l),N=t.memoizedState),(Y=ga||cd(t,a,Y,l,O,N,C)||e!==null&&e.dependencies!==null&&Rc(e.dependencies))?(q||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(l,N,C),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(l,N,C)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=N),r.props=l,r.state=N,r.context=C,l=Y):(typeof r.componentDidUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),l=!1)}return r=l,Gc(e,t),l=(t.flags&128)!==0,r||l?(r=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&l?(t.child=Ul(t,e.child,null,n),t.child=Ul(t,null,a,n)):We(e,t,a,n),t.memoizedState=r.state,e=t.child):e=ca(e,t,n),e}function bd(e,t,a,l){return _n(),t.flags|=256,We(e,t,a,l),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:is()}}function Go(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ut),e}function wd(e,t,a){var l=t.pendingProps,n=!1,r=(t.flags&128)!==0,y;if((y=r)||(y=e!==null&&e.memoizedState===null?!1:(Fe.current&2)!==0),y&&(n=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(n?Ca(t):Ra(),we){var v=Le,C;if(C=v){e:{for(C=v,v=Bt;C.nodeType!==8;){if(!v){v=null;break e}if(C=Lt(C.nextSibling),C===null){v=null;break e}}v=C}v!==null?(t.memoizedState={dehydrated:v,treeContext:Qa!==null?{id:Wt,overflow:ea}:null,retryLane:536870912,hydrationErrors:null},C=yt(18,null,null,0),C.stateNode=v,C.return=t,t.child=C,rt=t,Le=null,C=!0):C=!1}C||Ka(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return xi(v)?t.lanes=32:t.lanes=536870912,null;na(t)}return v=l.children,l=l.fallback,n?(Ra(),n=t.mode,v=$c({mode:"hidden",children:v},n),l=Xa(l,n,a,null),v.return=t,l.return=t,v.sibling=l,t.child=v,n=t.child,n.memoizedState=Vo(a),n.childLanes=Go(e,y,a),t.memoizedState=Bo,l):(Ca(t),$o(t,v))}if(C=e.memoizedState,C!==null&&(v=C.dehydrated,v!==null)){if(r)t.flags&256?(Ca(t),t.flags&=-257,t=Xo(e,t,a)):t.memoizedState!==null?(Ra(),t.child=e.child,t.flags|=128,t=null):(Ra(),n=l.fallback,v=t.mode,l=$c({mode:"visible",children:l.children},v),n=Xa(n,v,a,null),n.flags|=2,l.return=t,n.return=t,l.sibling=n,t.child=l,Ul(t,e.child,null,a),l=t.child,l.memoizedState=Vo(a),l.childLanes=Go(e,y,a),t.memoizedState=Bo,t=n);else if(Ca(t),xi(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var q=y.dgst;y=q,l=Error(o(419)),l.stack="",l.digest=y,yn({value:l,source:null,stack:null}),t=Xo(e,t,a)}else if(Pe||mn(e,t,a,!1),y=(a&e.childLanes)!==0,Pe||y){if(y=Ue,y!==null&&(l=a&-a,l=(l&42)!==0?1:xr(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,wl(e,l),bt(y,e,l),pd;v.data==="$?"||ui(),t=Xo(e,t,a)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=C.treeContext,Le=Lt(v.nextSibling),rt=t,we=!0,Fa=null,Bt=!1,e!==null&&(Et[Ot++]=Wt,Et[Ot++]=ea,Et[Ot++]=Qa,Wt=e.id,ea=e.overflow,Qa=t),t=$o(t,l.children),t.flags|=4096);return t}return n?(Ra(),n=l.fallback,v=t.mode,C=e.child,q=C.sibling,l=It(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,q!==null?n=It(q,n):(n=Xa(n,v,a,null),n.flags|=2),n.return=t,l.return=t,l.sibling=n,t.child=l,l=n,n=t.child,v=e.child.memoizedState,v===null?v=Vo(a):(C=v.cachePool,C!==null?(q=Ze._currentValue,C=C.parent!==q?{parent:q,pool:q}:C):C=is(),v={baseLanes:v.baseLanes|a,cachePool:C}),n.memoizedState=v,n.childLanes=Go(e,y,a),t.memoizedState=Bo,l):(Ca(t),a=e.child,e=a.sibling,a=It(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=a,t.memoizedState=null,a)}function $o(e,t){return t=$c({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $c(e,t){return e=yt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Xo(e,t,a){return Ul(t,e.child,null,a),e=$o(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cd(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),io(e.return,t,a)}function Qo(e,t,a,l,n){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=n)}function Rd(e,t,a){var l=t.pendingProps,n=l.revealOrder,r=l.tail;if(We(e,t,l.children,a),l=Fe.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cd(e,a,t);else if(e.tag===19)Cd(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Q(Fe,l),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Yc(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Qo(t,!1,n,a,r);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Yc(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Qo(t,!0,a,null,r);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ca(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),qa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(mn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=It(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=It(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Zo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Rc(e)))}function Kh(e,t,a){switch(t.tag){case 3:xe(t,t.stateNode.containerInfo),va(t,Ze,e.memoizedState.cache),_n();break;case 27:case 5:Jl(t);break;case 4:xe(t,t.stateNode.containerInfo);break;case 10:va(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ca(t),t.flags|=128,null):(a&t.child.childLanes)!==0?wd(e,t,a):(Ca(t),e=ca(e,t,a),e!==null?e.sibling:null);Ca(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(mn(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Rd(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Q(Fe,Fe.current),l)break;return null;case 22:case 23:return t.lanes=0,md(e,t,a);case 24:va(t,Ze,e.memoizedState.cache)}return ca(e,t,a)}function Ad(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!Zo(e,a)&&(t.flags&128)===0)return Pe=!1,Kh(e,t,a);Pe=(e.flags&131072)!==0}else Pe=!1,we&&(t.flags&1048576)!==0&&ts(t,Cc,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,n=l._init;if(l=n(l._payload),t.type=l,typeof l=="function")to(l)?(e=el(l,e),t.tag=1,t=Sd(null,t,l,e,a)):(t.tag=0,t=Yo(null,t,l,e,a));else{if(l!=null){if(n=l.$$typeof,n===J){t.tag=11,t=hd(null,t,l,e,a);break e}else if(n===ue){t.tag=14,t=_d(null,t,l,e,a);break e}}throw t=Ae(l)||l,Error(o(306,t,""))}}return t;case 0:return Yo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=el(l,t.pendingProps),Sd(e,t,l,n,a);case 3:e:{if(xe(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var r=t.memoizedState;n=r.element,yo(e,t),Rn(t,l,null,a);var y=t.memoizedState;if(l=y.cache,va(t,Ze,l),l!==r.cache&&uo(t,[Ze],a,!0),Cn(),l=y.element,r.isDehydrated)if(r={element:l,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=bd(e,t,l,a);break e}else if(l!==n){n=Tt(Error(o(424)),t),yn(n),t=bd(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Lt(e.firstChild),rt=t,we=!0,Fa=null,Bt=!0,a=ld(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(_n(),l===n){t=ca(e,t,a);break e}We(e,t,l,a)}t=t.child}return t;case 26:return Gc(e,t),e===null?(a=Ef(t.type,null,t.pendingProps,null))?t.memoizedState=a:we||(a=t.type,e=t.pendingProps,l=nr(ne.current).createElement(a),l[lt]=t,l[it]=e,tt(l,a,e),Ke(l),t.stateNode=l):t.memoizedState=Ef(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Jl(t),e===null&&we&&(l=t.stateNode=Df(t.type,t.pendingProps,ne.current),rt=t,Bt=!0,n=Le,Ua(t.type)?(Di=n,Le=Lt(l.firstChild)):Le=n),We(e,t,t.pendingProps.children,a),Gc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((n=l=Le)&&(l=C_(l,t.type,t.pendingProps,Bt),l!==null?(t.stateNode=l,rt=t,Le=Lt(l.firstChild),Bt=!1,n=!0):n=!1),n||Ka(t)),Jl(t),n=t.type,r=t.pendingProps,y=e!==null?e.memoizedProps:null,l=r.children,Ci(n,r)?l=null:y!==null&&Ci(n,y)&&(t.flags|=32),t.memoizedState!==null&&(n=wo(e,t,Bh,null,null,a),Qn._currentValue=n),Gc(e,t),We(e,t,l,a),t.child;case 6:return e===null&&we&&((e=a=Le)&&(a=R_(a,t.pendingProps,Bt),a!==null?(t.stateNode=a,rt=t,Le=null,e=!0):e=!1),e||Ka(t)),null;case 13:return wd(e,t,a);case 4:return xe(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ul(t,null,l,a):We(e,t,l,a),t.child;case 11:return hd(e,t,t.type,t.pendingProps,a);case 7:return We(e,t,t.pendingProps,a),t.child;case 8:return We(e,t,t.pendingProps.children,a),t.child;case 12:return We(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,va(t,t.type,l.value),We(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,Ja(t),n=nt(n),l=l(n),t.flags|=1,We(e,t,l,a),t.child;case 14:return _d(e,t,t.type,t.pendingProps,a);case 15:return yd(e,t,t.type,t.pendingProps,a);case 19:return Rd(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=$c(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=It(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return md(e,t,a);case 24:return Ja(t),l=nt(Ze),e===null?(n=po(),n===null&&(n=Ue,r=so(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),t.memoizedState={parent:l,cache:n},_o(t),va(t,Ze,n)):((e.lanes&a)!==0&&(yo(e,t),Rn(t,null,null,a),Cn()),n=e.memoizedState,r=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),va(t,Ze,l)):(l=r.cache,va(t,Ze,l),l!==n.cache&&uo(t,[Ze],a,!0))),We(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function ra(e){e.flags|=4}function xd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!jf(t)){if(t=Nt.current,t!==null&&((Se&4194048)===Se?Vt!==null:(Se&62914560)!==Se&&(Se&536870912)===0||t!==Vt))throw bn=ho,us;e.flags|=8192}}function Xc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rc():536870912,e.lanes|=t,Hl|=t)}function On(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function Ph(e,t,a){var l=t.pendingProps;switch(co(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),aa(Ze),Rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hn(t)?ra(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ns())),ke(t),null;case 26:return a=t.memoizedState,e===null?(ra(t),a!==null?(ke(t),xd(t,a)):(ke(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ra(t),ke(t),xd(t,a)):(ke(t),t.flags&=-16777217):(e.memoizedProps!==l&&ra(t),ke(t),t.flags&=-16777217),null;case 27:Ya(t),a=ne.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ra(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return ke(t),null}e=I.current,hn(t)?as(t):(e=Df(n,l,a),t.stateNode=e,ra(t))}return ke(t),null;case 5:if(Ya(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ra(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return ke(t),null}if(e=I.current,hn(t))as(t);else{switch(n=nr(ne.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?n.createElement(a,{is:l.is}):n.createElement(a)}}e[lt]=t,e[it]=l;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(tt(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ra(t)}}return ke(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ra(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=ne.current,hn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=rt,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Sf(e.nodeValue,a)),e||Ka(t)}else e=nr(e).createTextNode(l),e[lt]=t,t.stateNode=e}return ke(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=hn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[lt]=t}else _n(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),n=!1}else n=ns(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(na(t),t):(na(t),null)}if(na(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var r=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==n&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Xc(t,t.updateQueue),ke(t),null;case 4:return Rt(),e===null&&vi(t.stateNode.containerInfo),ke(t),null;case 10:return aa(t.type),ke(t),null;case 19:if(Z(Fe),n=t.memoizedState,n===null)return ke(t),null;if(l=(t.flags&128)!==0,r=n.rendering,r===null)if(l)On(n,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(r=Yc(e),r!==null){for(t.flags|=128,On(n,!1),e=r.updateQueue,t.updateQueue=e,Xc(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)es(a,e),a=a.sibling;return Q(Fe,Fe.current&1|2),t.child}e=e.sibling}n.tail!==null&&At()>Fc&&(t.flags|=128,l=!0,On(n,!1),t.lanes=4194304)}else{if(!l)if(e=Yc(r),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Xc(t,e),On(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!we)return ke(t),null}else 2*At()-n.renderingStartTime>Fc&&a!==536870912&&(t.flags|=128,l=!0,On(n,!1),t.lanes=4194304);n.isBackwards?(r.sibling=t.child,t.child=r):(e=n.last,e!==null?e.sibling=r:t.child=r,n.last=r)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=At(),t.sibling=null,e=Fe.current,Q(Fe,l?e&1|2:e&1),t):(ke(t),null);case 22:case 23:return na(t),So(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),a=t.updateQueue,a!==null&&Xc(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&Z(Ia),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),aa(Ze),ke(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Jh(e,t){switch(co(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return aa(Ze),Rt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ya(t),null;case 13:if(na(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(Fe),null;case 4:return Rt(),null;case 10:return aa(t.type),null;case 22:case 23:return na(t),So(),e!==null&&Z(Ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return aa(Ze),null;case 25:return null;default:return null}}function Dd(e,t){switch(co(t),t.tag){case 3:aa(Ze),Rt();break;case 26:case 27:case 5:Ya(t);break;case 4:Rt();break;case 13:na(t);break;case 19:Z(Fe);break;case 10:aa(t.type);break;case 22:case 23:na(t),So(),e!==null&&Z(Ia);break;case 24:aa(Ze)}}function Nn(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var r=a.create,y=a.inst;l=r(),y.destroy=l}a=a.next}while(a!==n)}}catch(v){Ee(t,t.return,v)}}function Aa(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var r=n.next;l=r;do{if((l.tag&e)===e){var y=l.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,n=t;var C=a,q=v;try{q()}catch(Y){Ee(n,C,Y)}}}l=l.next}while(l!==r)}}catch(Y){Ee(t,t.return,Y)}}function Td(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{_s(t,a)}catch(l){Ee(e,e.return,l)}}}function qd(e,t,a){a.props=el(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ee(e,t,l)}}function Un(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){Ee(e,t,n)}}function Gt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){Ee(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Ee(e,t,n)}else a.current=null}function Ed(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){Ee(e,e.return,n)}}function Fo(e,t,a){try{var l=e.stateNode;v_(l,e.type,a,t),l[it]=t}catch(n){Ee(e,e.return,n)}}function Od(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ua(e.type)||e.tag===4}function Ko(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ua(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Po(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=lr));else if(l!==4&&(l===27&&Ua(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Po(e,t,a),e=e.sibling;e!==null;)Po(e,t,a),e=e.sibling}function Qc(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&Ua(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Qc(e,t,a),e=e.sibling;e!==null;)Qc(e,t,a),e=e.sibling}function Nd(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);tt(t,l,a),t[lt]=e,t[it]=a}catch(r){Ee(e,e.return,r)}}var oa=!1,Ge=!1,Jo=!1,Ud=typeof WeakSet=="function"?WeakSet:Set,Je=null;function Ih(e,t){if(e=e.containerInfo,bi=sr,e=$u(e),Fr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,r=l.focusNode;l=l.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var y=0,v=-1,C=-1,q=0,Y=0,G=e,O=null;t:for(;;){for(var N;G!==a||n!==0&&G.nodeType!==3||(v=y+n),G!==r||l!==0&&G.nodeType!==3||(C=y+l),G.nodeType===3&&(y+=G.nodeValue.length),(N=G.firstChild)!==null;)O=G,G=N;for(;;){if(G===e)break t;if(O===a&&++q===n&&(v=y),O===r&&++Y===l&&(C=y),(N=G.nextSibling)!==null)break;G=O,O=G.parentNode}G=N}a=v===-1||C===-1?null:{start:v,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(wi={focusedElem:e,selectionRange:a},sr=!1,Je=t;Je!==null;)if(t=Je,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Je=e;else for(;Je!==null;){switch(t=Je,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&r!==null){e=void 0,a=t,n=r.memoizedProps,r=r.memoizedState,l=a.stateNode;try{var ie=el(a.type,n,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ie,r),l.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Ee(a,a.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Ai(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ai(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Je=e;break}Je=t.return}}function Md(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xa(e,a),l&4&&Nn(5,a);break;case 1:if(xa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(y){Ee(a,a.return,y)}else{var n=el(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ee(a,a.return,y)}}l&64&&Td(a),l&512&&Un(a,a.return);break;case 3:if(xa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{_s(e,t)}catch(y){Ee(a,a.return,y)}}break;case 27:t===null&&l&4&&Nd(a);case 26:case 5:xa(e,a),t===null&&l&4&&Ed(a),l&512&&Un(a,a.return);break;case 12:xa(e,a);break;case 13:xa(e,a),l&4&&Hd(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=o_.bind(null,a),A_(e,a))));break;case 22:if(l=a.memoizedState!==null||oa,!l){t=t!==null&&t.memoizedState!==null||Ge,n=oa;var r=Ge;oa=l,(Ge=t)&&!r?Da(e,a,(a.subtreeFlags&8772)!==0):xa(e,a),oa=n,Ge=r}break;case 30:break;default:xa(e,a)}}function jd(e){var t=e.alternate;t!==null&&(e.alternate=null,jd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&qr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,dt=!1;function ia(e,t,a){for(a=a.child;a!==null;)zd(e,t,a),a=a.sibling}function zd(e,t,a){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(W,a)}catch{}switch(a.tag){case 26:Ge||Gt(a,t),ia(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ge||Gt(a,t);var l=He,n=dt;Ua(a.type)&&(He=a.stateNode,dt=!1),ia(e,t,a),Vn(a.stateNode),He=l,dt=n;break;case 5:Ge||Gt(a,t);case 6:if(l=He,n=dt,He=null,ia(e,t,a),He=l,dt=n,He!==null)if(dt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(r){Ee(a,t,r)}else try{He.removeChild(a.stateNode)}catch(r){Ee(a,t,r)}break;case 18:He!==null&&(dt?(e=He,Af(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Pn(e)):Af(He,a.stateNode));break;case 4:l=He,n=dt,He=a.stateNode.containerInfo,dt=!0,ia(e,t,a),He=l,dt=n;break;case 0:case 11:case 14:case 15:Ge||Aa(2,a,t),Ge||Aa(4,a,t),ia(e,t,a);break;case 1:Ge||(Gt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&qd(a,t,l)),ia(e,t,a);break;case 21:ia(e,t,a);break;case 22:Ge=(l=Ge)||a.memoizedState!==null,ia(e,t,a),Ge=l;break;default:ia(e,t,a)}}function Hd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pn(e)}catch(a){Ee(t,t.return,a)}}function Wh(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ud),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ud),t;default:throw Error(o(435,e.tag))}}function Io(e,t){var a=Wh(e);t.forEach(function(l){var n=i_.bind(null,e,l);a.has(l)||(a.add(l),l.then(n,n))})}function mt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],r=e,y=t,v=y;e:for(;v!==null;){switch(v.tag){case 27:if(Ua(v.type)){He=v.stateNode,dt=!1;break e}break;case 5:He=v.stateNode,dt=!1;break e;case 3:case 4:He=v.stateNode.containerInfo,dt=!0;break e}v=v.return}if(He===null)throw Error(o(160));zd(r,y,n),He=null,dt=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)kd(t,e),t=t.sibling}var kt=null;function kd(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mt(t,e),vt(e),l&4&&(Aa(3,e,e.return),Nn(3,e),Aa(5,e,e.return));break;case 1:mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),l&64&&oa&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=kt;if(mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),l&4){var r=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":r=n.getElementsByTagName("title")[0],(!r||r[an]||r[lt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(l),n.head.insertBefore(r,n.querySelector("head > title"))),tt(r,l,a),r[lt]=e,Ke(r),l=r;break e;case"link":var y=Uf("link","href",n).get(l+(a.href||""));if(y){for(var v=0;v<y.length;v++)if(r=y[v],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(v,1);break t}}r=n.createElement(l),tt(r,l,a),n.head.appendChild(r);break;case"meta":if(y=Uf("meta","content",n).get(l+(a.content||""))){for(v=0;v<y.length;v++)if(r=y[v],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(v,1);break t}}r=n.createElement(l),tt(r,l,a),n.head.appendChild(r);break;default:throw Error(o(468,l))}r[lt]=e,Ke(r),l=r}e.stateNode=l}else Mf(n,e.type,e.stateNode);else e.stateNode=Nf(n,l,e.memoizedProps);else r!==l?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,l===null?Mf(n,e.type,e.stateNode):Nf(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Fo(e,e.memoizedProps,a.memoizedProps)}break;case 27:mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),a!==null&&l&4&&Fo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(mt(t,e),vt(e),l&512&&(Ge||a===null||Gt(a,a.return)),e.flags&32){n=e.stateNode;try{_l(n,"")}catch(N){Ee(e,e.return,N)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,Fo(e,n,a!==null?a.memoizedProps:n)),l&1024&&(Jo=!0);break;case 6:if(mt(t,e),vt(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(N){Ee(e,e.return,N)}}break;case 3:if(or=null,n=kt,kt=cr(t.containerInfo),mt(t,e),kt=n,vt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pn(t.containerInfo)}catch(N){Ee(e,e.return,N)}Jo&&(Jo=!1,Ld(e));break;case 4:l=kt,kt=cr(e.stateNode.containerInfo),mt(t,e),vt(e),kt=l;break;case 12:mt(t,e),vt(e);break;case 13:mt(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ni=At()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Io(e,l)));break;case 22:n=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,q=oa,Y=Ge;if(oa=q||n,Ge=Y||C,mt(t,e),Ge=Y,oa=q,vt(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||C||oa||Ge||tl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){C=a=t;try{if(r=C.stateNode,n)y=r.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=C.stateNode;var G=C.memoizedProps.style,O=G!=null&&G.hasOwnProperty("display")?G.display:null;v.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(N){Ee(C,C.return,N)}}}else if(t.tag===6){if(a===null){C=t;try{C.stateNode.nodeValue=n?"":C.memoizedProps}catch(N){Ee(C,C.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Io(e,a))));break;case 19:mt(t,e),vt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Io(e,l)));break;case 30:break;case 21:break;default:mt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Od(l)){a=l;break}l=l.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var n=a.stateNode,r=Ko(e);Qc(e,r,n);break;case 5:var y=a.stateNode;a.flags&32&&(_l(y,""),a.flags&=-33);var v=Ko(e);Qc(e,v,y);break;case 3:case 4:var C=a.stateNode.containerInfo,q=Ko(e);Po(e,q,C);break;default:throw Error(o(161))}}catch(Y){Ee(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ld(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ld(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function xa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Md(e,t.alternate,t),t=t.sibling}function tl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Aa(4,t,t.return),tl(t);break;case 1:Gt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&qd(t,t.return,a),tl(t);break;case 27:Vn(t.stateNode);case 26:case 5:Gt(t,t.return),tl(t);break;case 22:t.memoizedState===null&&tl(t);break;case 30:tl(t);break;default:tl(t)}e=e.sibling}}function Da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,r=t,y=r.flags;switch(r.tag){case 0:case 11:case 15:Da(n,r,a),Nn(4,r);break;case 1:if(Da(n,r,a),l=r,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(q){Ee(l,l.return,q)}if(l=r,n=l.updateQueue,n!==null){var v=l.stateNode;try{var C=n.shared.hiddenCallbacks;if(C!==null)for(n.shared.hiddenCallbacks=null,n=0;n<C.length;n++)hs(C[n],v)}catch(q){Ee(l,l.return,q)}}a&&y&64&&Td(r),Un(r,r.return);break;case 27:Nd(r);case 26:case 5:Da(n,r,a),a&&l===null&&y&4&&Ed(r),Un(r,r.return);break;case 12:Da(n,r,a);break;case 13:Da(n,r,a),a&&y&4&&Hd(n,r);break;case 22:r.memoizedState===null&&Da(n,r,a),Un(r,r.return);break;case 30:break;default:Da(n,r,a)}t=t.sibling}}function Wo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&vn(a))}function ei(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vn(e))}function $t(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yd(e,t,a,l),t=t.sibling}function Yd(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:$t(e,t,a,l),n&2048&&Nn(9,t);break;case 1:$t(e,t,a,l);break;case 3:$t(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vn(e)));break;case 12:if(n&2048){$t(e,t,a,l),e=t.stateNode;try{var r=t.memoizedProps,y=r.id,v=r.onPostCommit;typeof v=="function"&&v(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Ee(t,t.return,C)}}else $t(e,t,a,l);break;case 13:$t(e,t,a,l);break;case 23:break;case 22:r=t.stateNode,y=t.alternate,t.memoizedState!==null?r._visibility&2?$t(e,t,a,l):Mn(e,t):r._visibility&2?$t(e,t,a,l):(r._visibility|=2,Ml(e,t,a,l,(t.subtreeFlags&10256)!==0)),n&2048&&Wo(y,t);break;case 24:$t(e,t,a,l),n&2048&&ei(t.alternate,t);break;default:$t(e,t,a,l)}}function Ml(e,t,a,l,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,y=t,v=a,C=l,q=y.flags;switch(y.tag){case 0:case 11:case 15:Ml(r,y,v,C,n),Nn(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?Ml(r,y,v,C,n):Mn(r,y):(Y._visibility|=2,Ml(r,y,v,C,n)),n&&q&2048&&Wo(y.alternate,y);break;case 24:Ml(r,y,v,C,n),n&&q&2048&&ei(y.alternate,y);break;default:Ml(r,y,v,C,n)}t=t.sibling}}function Mn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:Mn(a,l),n&2048&&Wo(l.alternate,l);break;case 24:Mn(a,l),n&2048&&ei(l.alternate,l);break;default:Mn(a,l)}t=t.sibling}}var jn=8192;function jl(e){if(e.subtreeFlags&jn)for(e=e.child;e!==null;)Bd(e),e=e.sibling}function Bd(e){switch(e.tag){case 26:jl(e),e.flags&jn&&e.memoizedState!==null&&k_(kt,e.memoizedState,e.memoizedProps);break;case 5:jl(e);break;case 3:case 4:var t=kt;kt=cr(e.stateNode.containerInfo),jl(e),kt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=jn,jn=16777216,jl(e),jn=t):jl(e));break;default:jl(e)}}function Vd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function zn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Je=l,$d(l,e)}Vd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gd(e),e=e.sibling}function Gd(e){switch(e.tag){case 0:case 11:case 15:zn(e),e.flags&2048&&Aa(9,e,e.return);break;case 3:zn(e);break;case 12:zn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Zc(e)):zn(e);break;default:zn(e)}}function Zc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];Je=l,$d(l,e)}Vd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Aa(8,t,t.return),Zc(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Zc(t));break;default:Zc(t)}e=e.sibling}}function $d(e,t){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Aa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Je=l;else e:for(a=e;Je!==null;){l=Je;var n=l.sibling,r=l.return;if(jd(l),l===a){Je=null;break e}if(n!==null){n.return=r,Je=n;break e}Je=r}}}var e_={getCacheForType:function(e){var t=nt(Ze),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},t_=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Ue=null,me=null,Se=0,Re=0,gt=null,Ta=!1,zl=!1,ti=!1,ua=0,Ye=0,qa=0,al=0,ai=0,Ut=0,Hl=0,Hn=null,ft=null,li=!1,ni=0,Fc=1/0,Kc=null,Ea=null,et=0,Oa=null,kl=null,Ll=0,ci=0,ri=null,Xd=null,kn=0,oi=null;function St(){if((Ce&2)!==0&&Se!==0)return Se&-Se;if(M.T!==null){var e=xl;return e!==0?e:hi()}return ou()}function Qd(){Ut===0&&(Ut=(Se&536870912)===0||we?Ar():536870912);var e=Nt.current;return e!==null&&(e.flags|=32),Ut}function bt(e,t,a){(e===Ue&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(Yl(e,0),Na(e,Se,Ut,!1)),tn(e,a),((Ce&2)===0||e!==Ue)&&(e===Ue&&((Ce&2)===0&&(al|=a),Ye===4&&Na(e,Se,Ut,!1)),Xt(e))}function Zd(e,t,a){if((Ce&6)!==0)throw Error(o(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Yt(e,t),n=l?n_(e,t):si(e,t,!0),r=l;do{if(n===0){zl&&!l&&Na(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!a_(a)){n=si(e,t,!1),r=!1;continue}if(n===2){if(r=t,e.errorRecoveryDisabledLanes&r)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var v=e;n=Hn;var C=v.current.memoizedState.isDehydrated;if(C&&(Yl(v,y).flags|=256),y=si(v,y,!1),y!==2){if(ti&&!C){v.errorRecoveryDisabledLanes|=r,al|=r,n=4;break e}r=ft,ft=n,r!==null&&(ft===null?ft=r:ft.push.apply(ft,r))}n=y}if(r=!1,n!==2)continue}}if(n===1){Yl(e,0),Na(e,t,0,!0);break}e:{switch(l=e,r=n,r){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Na(l,t,Ut,!Ta);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=ni+300-At(),10<n)){if(Na(l,t,Ut,!Ta),_a(l,0,!0)!==0)break e;l.timeoutHandle=Cf(Fd.bind(null,l,a,ft,Kc,li,t,Ut,al,Hl,Ta,r,2,-0,0),n);break e}Fd(l,a,ft,Kc,li,t,Ut,al,Hl,Ta,r,0,-0,0)}}break}while(!0);Xt(e)}function Fd(e,t,a,l,n,r,y,v,C,q,Y,G,O,N){if(e.timeoutHandle=-1,G=t.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(Xn={stylesheets:null,count:0,unsuspend:H_},Bd(t),G=L_(),G!==null)){e.cancelPendingCommit=G(tf.bind(null,e,t,r,a,l,n,y,v,C,Y,1,O,N)),Na(e,r,y,!q);return}tf(e,t,r,a,l,n,y,v,C)}function a_(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],r=n.getSnapshot;n=n.value;try{if(!_t(r(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Na(e,t,a,l){t&=~ai,t&=~al,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var r=31-Me(n),y=1<<r;l[r]=-1,n&=~y}a!==0&&cu(e,a,t)}function Pc(){return(Ce&6)===0?(Ln(0),!1):!0}function ii(){if(me!==null){if(Re===0)var e=me.return;else e=me,ta=Pa=null,Ao(e),Nl=null,qn=0,e=me;for(;e!==null;)Dd(e.alternate,e),e=e.return;me=null}}function Yl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,S_(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ii(),Ue=e,me=a=It(e.current,null),Se=t,Re=0,gt=null,Ta=!1,zl=Yt(e,t),ti=!1,Hl=Ut=ai=al=qa=Ye=0,ft=Hn=null,li=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-Me(l),r=1<<n;t|=e[n],l&=~r}return ua=t,vc(),a}function Kd(e,t){pe=null,M.H=Hc,t===Sn||t===Dc?(t=fs(),Re=3):t===us?(t=fs(),Re=4):Re=t===pd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,gt=t,me===null&&(Ye=1,Vc(e,Tt(t,e.current)))}function Pd(){var e=M.H;return M.H=Hc,e===null?Hc:e}function Jd(){var e=M.A;return M.A=e_,e}function ui(){Ye=4,Ta||(Se&4194048)!==Se&&Nt.current!==null||(zl=!0),(qa&134217727)===0&&(al&134217727)===0||Ue===null||Na(Ue,Se,Ut,!1)}function si(e,t,a){var l=Ce;Ce|=2;var n=Pd(),r=Jd();(Ue!==e||Se!==t)&&(Kc=null,Yl(e,t)),t=!1;var y=Ye;e:do try{if(Re!==0&&me!==null){var v=me,C=gt;switch(Re){case 8:ii(),y=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var q=Re;if(Re=0,gt=null,Bl(e,v,C,q),a&&zl){y=0;break e}break;default:q=Re,Re=0,gt=null,Bl(e,v,C,q)}}l_(),y=Ye;break}catch(Y){Kd(e,Y)}while(!0);return t&&e.shellSuspendCounter++,ta=Pa=null,Ce=l,M.H=n,M.A=r,me===null&&(Ue=null,Se=0,vc()),y}function l_(){for(;me!==null;)Id(me)}function n_(e,t){var a=Ce;Ce|=2;var l=Pd(),n=Jd();Ue!==e||Se!==t?(Kc=null,Fc=At()+500,Yl(e,t)):zl=Yt(e,t);e:do try{if(Re!==0&&me!==null){t=me;var r=gt;t:switch(Re){case 1:Re=0,gt=null,Bl(e,t,r,1);break;case 2:case 9:if(ss(r)){Re=0,gt=null,Wd(t);break}t=function(){Re!==2&&Re!==9||Ue!==e||(Re=7),Xt(e)},r.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:ss(r)?(Re=0,gt=null,Wd(t)):(Re=0,gt=null,Bl(e,t,r,7));break;case 5:var y=null;switch(me.tag){case 26:y=me.memoizedState;case 5:case 27:var v=me;if(!y||jf(y)){Re=0,gt=null;var C=v.sibling;if(C!==null)me=C;else{var q=v.return;q!==null?(me=q,Jc(q)):me=null}break t}}Re=0,gt=null,Bl(e,t,r,5);break;case 6:Re=0,gt=null,Bl(e,t,r,6);break;case 8:ii(),Ye=6;break e;default:throw Error(o(462))}}c_();break}catch(Y){Kd(e,Y)}while(!0);return ta=Pa=null,M.H=l,M.A=n,Ce=a,me!==null?0:(Ue=null,Se=0,vc(),Ye)}function c_(){for(;me!==null&&!wr();)Id(me)}function Id(e){var t=Ad(e.alternate,e,ua);e.memoizedProps=e.pendingProps,t===null?Jc(e):me=t}function Wd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=gd(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=gd(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:Ao(t);default:Dd(a,t),t=me=es(t,ua),t=Ad(a,t,ua)}e.memoizedProps=e.pendingProps,t===null?Jc(e):me=t}function Bl(e,t,a,l){ta=Pa=null,Ao(t),Nl=null,qn=0;var n=t.return;try{if(Fh(e,n,t,a,Se)){Ye=1,Vc(e,Tt(a,e.current)),me=null;return}}catch(r){if(n!==null)throw me=n,r;Ye=1,Vc(e,Tt(a,e.current)),me=null;return}t.flags&32768?(we||l===1?e=!0:zl||(Se&536870912)!==0?e=!1:(Ta=e=!0,(l===2||l===9||l===3||l===6)&&(l=Nt.current,l!==null&&l.tag===13&&(l.flags|=16384))),ef(t,e)):Jc(t)}function Jc(e){var t=e;do{if((t.flags&32768)!==0){ef(t,Ta);return}e=t.return;var a=Ph(t.alternate,t,ua);if(a!==null){me=a;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Ye===0&&(Ye=5)}function ef(e,t){do{var a=Jh(e.alternate,e);if(a!==null){a.flags&=32767,me=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=a}while(e!==null);Ye=6,me=null}function tf(e,t,a,l,n,r,y,v,C){e.cancelPendingCommit=null;do Ic();while(et!==0);if((Ce&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(r=t.lanes|t.childLanes,r|=Wr,Hp(e,a,r,y,v,C),e===Ue&&(me=Ue=null,Se=0),kl=t,Oa=e,Ll=a,ci=r,ri=n,Xd=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,u_(rl,function(){return rf(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,n=D.p,D.p=2,y=Ce,Ce|=4;try{Ih(e,t,a)}finally{Ce=y,D.p=n,M.T=l}}et=1,af(),lf(),nf()}}function af(){if(et===1){et=0;var e=Oa,t=kl,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var l=D.p;D.p=2;var n=Ce;Ce|=4;try{kd(t,e);var r=wi,y=$u(e.containerInfo),v=r.focusedElem,C=r.selectionRange;if(y!==v&&v&&v.ownerDocument&&Gu(v.ownerDocument.documentElement,v)){if(C!==null&&Fr(v)){var q=C.start,Y=C.end;if(Y===void 0&&(Y=q),"selectionStart"in v)v.selectionStart=q,v.selectionEnd=Math.min(Y,v.value.length);else{var G=v.ownerDocument||document,O=G&&G.defaultView||window;if(O.getSelection){var N=O.getSelection(),ie=v.textContent.length,ce=Math.min(C.start,ie),qe=C.end===void 0?ce:Math.min(C.end,ie);!N.extend&&ce>qe&&(y=qe,qe=ce,ce=y);var x=Vu(v,ce),A=Vu(v,qe);if(x&&A&&(N.rangeCount!==1||N.anchorNode!==x.node||N.anchorOffset!==x.offset||N.focusNode!==A.node||N.focusOffset!==A.offset)){var T=G.createRange();T.setStart(x.node,x.offset),N.removeAllRanges(),ce>qe?(N.addRange(T),N.extend(A.node,A.offset)):(T.setEnd(A.node,A.offset),N.addRange(T))}}}}for(G=[],N=v;N=N.parentNode;)N.nodeType===1&&G.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<G.length;v++){var B=G[v];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}sr=!!bi,wi=bi=null}finally{Ce=n,D.p=l,M.T=a}}e.current=t,et=2}}function lf(){if(et===2){et=0;var e=Oa,t=kl,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var l=D.p;D.p=2;var n=Ce;Ce|=4;try{Md(e,t.alternate,t)}finally{Ce=n,D.p=l,M.T=a}}et=3}}function nf(){if(et===4||et===3){et=0,Cr();var e=Oa,t=kl,a=Ll,l=Xd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,kl=Oa=null,cf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Ea=null),Dr(a),t=t.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(W,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,n=D.p,D.p=2,M.T=null;try{for(var r=e.onRecoverableError,y=0;y<l.length;y++){var v=l[y];r(v.value,{componentStack:v.stack})}}finally{M.T=t,D.p=n}}(Ll&3)!==0&&Ic(),Xt(e),n=e.pendingLanes,(a&4194090)!==0&&(n&42)!==0?e===oi?kn++:(kn=0,oi=e):kn=0,Ln(0)}}function cf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vn(t)))}function Ic(e){return af(),lf(),nf(),rf()}function rf(){if(et!==5)return!1;var e=Oa,t=ci;ci=0;var a=Dr(Ll),l=M.T,n=D.p;try{D.p=32>a?32:a,M.T=null,a=ri,ri=null;var r=Oa,y=Ll;if(et=0,kl=Oa=null,Ll=0,(Ce&6)!==0)throw Error(o(331));var v=Ce;if(Ce|=4,Gd(r.current),Yd(r,r.current,y,a),Ce=v,Ln(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(W,r)}catch{}return!0}finally{D.p=n,M.T=l,cf(e,t)}}function of(e,t,a){t=Tt(a,t),t=Lo(e.stateNode,t,2),e=ba(e,t,2),e!==null&&(tn(e,2),Xt(e))}function Ee(e,t,a){if(e.tag===3)of(e,e,a);else for(;t!==null;){if(t.tag===3){of(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ea===null||!Ea.has(l))){e=Tt(a,e),a=dd(2),l=ba(t,a,2),l!==null&&(fd(a,l,t,e),tn(l,2),Xt(l));break}}t=t.return}}function di(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new t_;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(ti=!0,n.add(a),e=r_.bind(null,e,t,a),t.then(e,e))}function r_(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ue===e&&(Se&a)===a&&(Ye===4||Ye===3&&(Se&62914560)===Se&&300>At()-ni?(Ce&2)===0&&Yl(e,0):ai|=a,Hl===Se&&(Hl=0)),Xt(e)}function uf(e,t){t===0&&(t=rc()),e=wl(e,t),e!==null&&(tn(e,t),Xt(e))}function o_(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),uf(e,a)}function i_(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),uf(e,a)}function u_(e,t){return Il(e,t)}var Wc=null,Vl=null,fi=!1,er=!1,pi=!1,ll=0;function Xt(e){e!==Vl&&e.next===null&&(Vl===null?Wc=Vl=e:Vl=Vl.next=e),er=!0,fi||(fi=!0,d_())}function Ln(e,t){if(!pi&&er){pi=!0;do for(var a=!1,l=Wc;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var r=0;else{var y=l.suspendedLanes,v=l.pingedLanes;r=(1<<31-Me(42|e)+1)-1,r&=n&~(y&~v),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,pf(l,r))}else r=Se,r=_a(l,l===Ue?r:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(r&3)===0||Yt(l,r)||(a=!0,pf(l,r));l=l.next}while(a);pi=!1}}function s_(){sf()}function sf(){er=fi=!1;var e=0;ll!==0&&(g_()&&(e=ll),ll=0);for(var t=At(),a=null,l=Wc;l!==null;){var n=l.next,r=df(l,t);r===0?(l.next=null,a===null?Wc=n:a.next=n,n===null&&(Vl=a)):(a=l,(e!==0||(r&3)!==0)&&(er=!0)),l=n}Ln(e)}function df(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var y=31-Me(r),v=1<<y,C=n[y];C===-1?((v&a)===0||(v&l)!==0)&&(n[y]=ht(v,t)):C<=t&&(e.expiredLanes|=v),r&=~v}if(t=Ue,a=Se,a=_a(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Wl(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yt(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Wl(l),Dr(a)){case 2:case 8:a=lc;break;case 32:a=rl;break;case 268435456:a=en;break;default:a=rl}return l=ff.bind(null,e),a=Il(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Wl(l),e.callbackPriority=2,e.callbackNode=null,2}function ff(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ic()&&e.callbackNode!==a)return null;var l=Se;return l=_a(e,e===Ue?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Zd(e,l,t),df(e,At()),e.callbackNode!=null&&e.callbackNode===a?ff.bind(null,e):null)}function pf(e,t){if(Ic())return null;Zd(e,t,!0)}function d_(){b_(function(){(Ce&6)!==0?Il(ac,s_):sf()})}function hi(){return ll===0&&(ll=Ar()),ll}function hf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dc(""+e)}function _f(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function f_(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var r=hf((n[it]||null).action),y=l.submitter;y&&(t=(t=y[it]||null)?hf(t.formAction):y.getAttribute("formAction"),t!==null&&(r=t,y=null));var v=new _c("action","action",null,l,n);e.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ll!==0){var C=y?_f(n,y):new FormData(n);Mo(a,{pending:!0,data:C,method:n.method,action:r},null,C)}}else typeof r=="function"&&(v.preventDefault(),C=y?_f(n,y):new FormData(n),Mo(a,{pending:!0,data:C,method:n.method,action:r},r,C))},currentTarget:n}]})}}for(var _i=0;_i<Ir.length;_i++){var yi=Ir[_i],p_=yi.toLowerCase(),h_=yi[0].toUpperCase()+yi.slice(1);Ht(p_,"on"+h_)}Ht(Zu,"onAnimationEnd"),Ht(Fu,"onAnimationIteration"),Ht(Ku,"onAnimationStart"),Ht("dblclick","onDoubleClick"),Ht("focusin","onFocus"),Ht("focusout","onBlur"),Ht(Oh,"onTransitionRun"),Ht(Nh,"onTransitionStart"),Ht(Uh,"onTransitionCancel"),Ht(Pu,"onTransitionEnd"),fl("onMouseEnter",["mouseout","mouseover"]),fl("onMouseLeave",["mouseout","mouseover"]),fl("onPointerEnter",["pointerout","pointerover"]),fl("onPointerLeave",["pointerout","pointerover"]),Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),__=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yn));function yf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var r=void 0;if(t)for(var y=l.length-1;0<=y;y--){var v=l[y],C=v.instance,q=v.currentTarget;if(v=v.listener,C!==r&&n.isPropagationStopped())break e;r=v,n.currentTarget=q;try{r(n)}catch(Y){Bc(Y)}n.currentTarget=null,r=C}else for(y=0;y<l.length;y++){if(v=l[y],C=v.instance,q=v.currentTarget,v=v.listener,C!==r&&n.isPropagationStopped())break e;r=v,n.currentTarget=q;try{r(n)}catch(Y){Bc(Y)}n.currentTarget=null,r=C}}}}function ve(e,t){var a=t[Tr];a===void 0&&(a=t[Tr]=new Set);var l=e+"__bubble";a.has(l)||(mf(t,e,2,!1),a.add(l))}function mi(e,t,a){var l=0;t&&(l|=4),mf(a,e,l,t)}var tr="_reactListening"+Math.random().toString(36).slice(2);function vi(e){if(!e[tr]){e[tr]=!0,uu.forEach(function(a){a!=="selectionchange"&&(__.has(a)||mi(a,!1,e),mi(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tr]||(t[tr]=!0,mi("selectionchange",!1,t))}}function mf(e,t,a,l){switch(Bf(t)){case 2:var n=V_;break;case 8:n=G_;break;default:n=Ni}a=n.bind(null,t,a,e),n=void 0,!Lr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function gi(e,t,a,l,n){var r=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var v=l.stateNode.containerInfo;if(v===n)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===n)return;y=y.return}for(;v!==null;){if(y=ul(v),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=r=y;continue e}v=v.parentNode}}l=l.return}Cu(function(){var q=r,Y=Hr(a),G=[];e:{var O=Ju.get(e);if(O!==void 0){var N=_c,ie=e;switch(e){case"keypress":if(pc(a)===0)break e;case"keydown":case"keyup":N=uh;break;case"focusin":ie="focus",N=Gr;break;case"focusout":ie="blur",N=Gr;break;case"beforeblur":case"afterblur":N=Gr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=Jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=fh;break;case Zu:case Fu:case Ku:N=eh;break;case Pu:N=hh;break;case"scroll":case"scrollend":N=Kp;break;case"wheel":N=yh;break;case"copy":case"cut":case"paste":N=ah;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Tu;break;case"toggle":case"beforetoggle":N=vh}var ce=(t&4)!==0,qe=!ce&&(e==="scroll"||e==="scrollend"),x=ce?O!==null?O+"Capture":null:O;ce=[];for(var A=q,T;A!==null;){var B=A;if(T=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||T===null||x===null||(B=nn(A,x),B!=null&&ce.push(Bn(A,B,T))),qe)break;A=A.return}0<ce.length&&(O=new N(O,ie,null,a,Y),G.push({event:O,listeners:ce}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",O&&a!==zr&&(ie=a.relatedTarget||a.fromElement)&&(ul(ie)||ie[il]))break e;if((N||O)&&(O=Y.window===Y?Y:(O=Y.ownerDocument)?O.defaultView||O.parentWindow:window,N?(ie=a.relatedTarget||a.toElement,N=q,ie=ie?ul(ie):null,ie!==null&&(qe=i(ie),ce=ie.tag,ie!==qe||ce!==5&&ce!==27&&ce!==6)&&(ie=null)):(N=null,ie=q),N!==ie)){if(ce=xu,B="onMouseLeave",x="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Tu,B="onPointerLeave",x="onPointerEnter",A="pointer"),qe=N==null?O:ln(N),T=ie==null?O:ln(ie),O=new ce(B,A+"leave",N,a,Y),O.target=qe,O.relatedTarget=T,B=null,ul(Y)===q&&(ce=new ce(x,A+"enter",ie,a,Y),ce.target=T,ce.relatedTarget=qe,B=ce),qe=B,N&&ie)t:{for(ce=N,x=ie,A=0,T=ce;T;T=Gl(T))A++;for(T=0,B=x;B;B=Gl(B))T++;for(;0<A-T;)ce=Gl(ce),A--;for(;0<T-A;)x=Gl(x),T--;for(;A--;){if(ce===x||x!==null&&ce===x.alternate)break t;ce=Gl(ce),x=Gl(x)}ce=null}else ce=null;N!==null&&vf(G,O,N,ce,!1),ie!==null&&qe!==null&&vf(G,qe,ie,ce,!0)}}e:{if(O=q?ln(q):window,N=O.nodeName&&O.nodeName.toLowerCase(),N==="select"||N==="input"&&O.type==="file")var ee=zu;else if(Mu(O))if(Hu)ee=Th;else{ee=xh;var he=Ah}else N=O.nodeName,!N||N.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?q&&jr(q.elementType)&&(ee=zu):ee=Dh;if(ee&&(ee=ee(e,q))){ju(G,ee,a,Y);break e}he&&he(e,O,q),e==="focusout"&&q&&O.type==="number"&&q.memoizedProps.value!=null&&Mr(O,"number",O.value)}switch(he=q?ln(q):window,e){case"focusin":(Mu(he)||he.contentEditable==="true")&&(gl=he,Kr=q,pn=null);break;case"focusout":pn=Kr=gl=null;break;case"mousedown":Pr=!0;break;case"contextmenu":case"mouseup":case"dragend":Pr=!1,Xu(G,a,Y);break;case"selectionchange":if(Eh)break;case"keydown":case"keyup":Xu(G,a,Y)}var ae;if(Xr)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else vl?Nu(e,a)&&(oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(oe="onCompositionStart");oe&&(qu&&a.locale!=="ko"&&(vl||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&vl&&(ae=Ru()):(ma=Y,Yr="value"in ma?ma.value:ma.textContent,vl=!0)),he=ar(q,oe),0<he.length&&(oe=new Du(oe,e,null,a,Y),G.push({event:oe,listeners:he}),ae?oe.data=ae:(ae=Uu(a),ae!==null&&(oe.data=ae)))),(ae=Sh?bh(e,a):wh(e,a))&&(oe=ar(q,"onBeforeInput"),0<oe.length&&(he=new Du("onBeforeInput","beforeinput",null,a,Y),G.push({event:he,listeners:oe}),he.data=ae)),f_(G,e,q,a,Y)}yf(G,t)})}function Bn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ar(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=nn(e,a),n!=null&&l.unshift(Bn(e,n,r)),n=nn(e,t),n!=null&&l.push(Bn(e,n,r))),e.tag===3)return l;e=e.return}return[]}function Gl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vf(e,t,a,l,n){for(var r=t._reactName,y=[];a!==null&&a!==l;){var v=a,C=v.alternate,q=v.stateNode;if(v=v.tag,C!==null&&C===l)break;v!==5&&v!==26&&v!==27||q===null||(C=q,n?(q=nn(a,r),q!=null&&y.unshift(Bn(a,q,C))):n||(q=nn(a,r),q!=null&&y.push(Bn(a,q,C)))),a=a.return}y.length!==0&&e.push({event:t,listeners:y})}var y_=/\r\n?/g,m_=/\u0000|\uFFFD/g;function gf(e){return(typeof e=="string"?e:""+e).replace(y_,`
`).replace(m_,"")}function Sf(e,t){return t=gf(t),gf(e)===t}function lr(){}function Te(e,t,a,l,n,r){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||_l(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&_l(e,""+l);break;case"className":ic(e,"class",l);break;case"tabIndex":ic(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ic(e,a,l);break;case"style":bu(e,l,r);break;case"data":if(t!=="object"){ic(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=dc(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&Te(e,t,"name",n.name,n,null),Te(e,t,"formEncType",n.formEncType,n,null),Te(e,t,"formMethod",n.formMethod,n,null),Te(e,t,"formTarget",n.formTarget,n,null)):(Te(e,t,"encType",n.encType,n,null),Te(e,t,"method",n.method,n,null),Te(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=dc(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=lr);break;case"onScroll":l!=null&&ve("scroll",e);break;case"onScrollEnd":l!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=dc(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":ve("beforetoggle",e),ve("toggle",e),oc(e,"popover",l);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oc(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zp.get(a)||a,oc(e,a,l))}}function Si(e,t,a,l,n,r){switch(a){case"style":bu(e,l,r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof l=="string"?_l(e,l):(typeof l=="number"||typeof l=="bigint")&&_l(e,""+l);break;case"onScroll":l!=null&&ve("scroll",e);break;case"onScrollEnd":l!=null&&ve("scrollend",e);break;case"onClick":l!=null&&(e.onclick=lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!su.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),r=e[it]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,n),typeof l=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):oc(e,a,l)}}}function tt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var l=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var y=a[r];if(y!=null)switch(r){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Te(e,t,r,y,a,null)}}n&&Te(e,t,"srcSet",a.srcSet,a,null),l&&Te(e,t,"src",a.src,a,null);return;case"input":ve("invalid",e);var v=r=y=n=null,C=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":n=Y;break;case"type":y=Y;break;case"checked":C=Y;break;case"defaultChecked":q=Y;break;case"value":r=Y;break;case"defaultValue":v=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(o(137,t));break;default:Te(e,t,l,Y,a,null)}}mu(e,r,v,C,q,y,n,!1),uc(e);return;case"select":ve("invalid",e),l=y=r=null;for(n in a)if(a.hasOwnProperty(n)&&(v=a[n],v!=null))switch(n){case"value":r=v;break;case"defaultValue":y=v;break;case"multiple":l=v;default:Te(e,t,n,v,a,null)}t=r,a=y,e.multiple=!!l,t!=null?hl(e,!!l,t,!1):a!=null&&hl(e,!!l,a,!0);return;case"textarea":ve("invalid",e),r=n=l=null;for(y in a)if(a.hasOwnProperty(y)&&(v=a[y],v!=null))switch(y){case"value":l=v;break;case"defaultValue":n=v;break;case"children":r=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:Te(e,t,y,v,a,null)}gu(e,l,n,r),uc(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Te(e,t,C,l,a,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(l=0;l<Yn.length;l++)ve(Yn[l],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Te(e,t,q,l,a,null)}return;default:if(jr(t)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Si(e,t,Y,l,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(l=a[v],l!=null&&Te(e,t,v,l,a,null))}function v_(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,y=null,v=null,C=null,q=null,Y=null;for(N in a){var G=a[N];if(a.hasOwnProperty(N)&&G!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":C=G;default:l.hasOwnProperty(N)||Te(e,t,N,null,l,G)}}for(var O in l){var N=l[O];if(G=a[O],l.hasOwnProperty(O)&&(N!=null||G!=null))switch(O){case"type":r=N;break;case"name":n=N;break;case"checked":q=N;break;case"defaultChecked":Y=N;break;case"value":y=N;break;case"defaultValue":v=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(137,t));break;default:N!==G&&Te(e,t,O,N,l,G)}}Ur(e,y,v,C,q,Y,r,n);return;case"select":N=y=v=O=null;for(r in a)if(C=a[r],a.hasOwnProperty(r)&&C!=null)switch(r){case"value":break;case"multiple":N=C;default:l.hasOwnProperty(r)||Te(e,t,r,null,l,C)}for(n in l)if(r=l[n],C=a[n],l.hasOwnProperty(n)&&(r!=null||C!=null))switch(n){case"value":O=r;break;case"defaultValue":v=r;break;case"multiple":y=r;default:r!==C&&Te(e,t,n,r,l,C)}t=v,a=y,l=N,O!=null?hl(e,!!a,O,!1):!!l!=!!a&&(t!=null?hl(e,!!a,t,!0):hl(e,!!a,a?[]:"",!1));return;case"textarea":N=O=null;for(v in a)if(n=a[v],a.hasOwnProperty(v)&&n!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Te(e,t,v,null,l,n)}for(y in l)if(n=l[y],r=a[y],l.hasOwnProperty(y)&&(n!=null||r!=null))switch(y){case"value":O=n;break;case"defaultValue":N=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==r&&Te(e,t,y,n,l,r)}vu(e,O,N);return;case"option":for(var ie in a)if(O=a[ie],a.hasOwnProperty(ie)&&O!=null&&!l.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:Te(e,t,ie,null,l,O)}for(C in l)if(O=l[C],N=a[C],l.hasOwnProperty(C)&&O!==N&&(O!=null||N!=null))switch(C){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Te(e,t,C,O,l,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)O=a[ce],a.hasOwnProperty(ce)&&O!=null&&!l.hasOwnProperty(ce)&&Te(e,t,ce,null,l,O);for(q in l)if(O=l[q],N=a[q],l.hasOwnProperty(q)&&O!==N&&(O!=null||N!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(137,t));break;default:Te(e,t,q,O,l,N)}return;default:if(jr(t)){for(var qe in a)O=a[qe],a.hasOwnProperty(qe)&&O!==void 0&&!l.hasOwnProperty(qe)&&Si(e,t,qe,void 0,l,O);for(Y in l)O=l[Y],N=a[Y],!l.hasOwnProperty(Y)||O===N||O===void 0&&N===void 0||Si(e,t,Y,O,l,N);return}}for(var x in a)O=a[x],a.hasOwnProperty(x)&&O!=null&&!l.hasOwnProperty(x)&&Te(e,t,x,null,l,O);for(G in l)O=l[G],N=a[G],!l.hasOwnProperty(G)||O===N||O==null&&N==null||Te(e,t,G,O,l,N)}var bi=null,wi=null;function nr(e){return e.nodeType===9?e:e.ownerDocument}function bf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ci(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ri=null;function g_(){var e=window.event;return e&&e.type==="popstate"?e===Ri?!1:(Ri=e,!0):(Ri=null,!1)}var Cf=typeof setTimeout=="function"?setTimeout:void 0,S_=typeof clearTimeout=="function"?clearTimeout:void 0,Rf=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof Rf<"u"?function(e){return Rf.resolve(null).then(e).catch(w_)}:Cf;function w_(e){setTimeout(function(){throw e})}function Ua(e){return e==="head"}function Af(e,t){var a=t,l=0,n=0;do{var r=a.nextSibling;if(e.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(0<l&&8>l){a=l;var y=e.ownerDocument;if(a&1&&Vn(y.documentElement),a&2&&Vn(y.body),a&4)for(a=y.head,Vn(a),y=a.firstChild;y;){var v=y.nextSibling,C=y.nodeName;y[an]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=v}}if(n===0){e.removeChild(r),Pn(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:l=a.charCodeAt(0)-48;else l=0;a=r}while(a);Pn(t)}function Ai(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ai(a),qr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function C_(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[an])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=Lt(e.nextSibling),e===null)break}return null}function R_(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Lt(e.nextSibling),e===null))return null;return e}function xi(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function A_(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Di=null;function xf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function Df(e,t,a){switch(t=nr(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Vn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qr(e)}var Mt=new Map,Tf=new Set;function cr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sa=D.d;D.d={f:x_,r:D_,D:T_,C:q_,L:E_,m:O_,X:U_,S:N_,M:M_};function x_(){var e=sa.f(),t=Pc();return e||t}function D_(e){var t=sl(e);t!==null&&t.tag===5&&t.type==="form"?Zs(t):sa.r(e)}var $l=typeof document>"u"?null:document;function qf(e,t,a){var l=$l;if(l&&typeof t=="string"&&t){var n=Dt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Tf.has(n)||(Tf.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),tt(t,"link",e),Ke(t),l.head.appendChild(t)))}}function T_(e){sa.D(e),qf("dns-prefetch",e,null)}function q_(e,t){sa.C(e,t),qf("preconnect",e,t)}function E_(e,t,a){sa.L(e,t,a);var l=$l;if(l&&e&&t){var n='link[rel="preload"][as="'+Dt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Dt(a.imageSizes)+'"]')):n+='[href="'+Dt(e)+'"]';var r=n;switch(t){case"style":r=Xl(e);break;case"script":r=Ql(e)}Mt.has(r)||(e=m({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Mt.set(r,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(Gn(r))||t==="script"&&l.querySelector($n(r))||(t=l.createElement("link"),tt(t,"link",e),Ke(t),l.head.appendChild(t)))}}function O_(e,t){sa.m(e,t);var a=$l;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(e)+'"]',r=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Ql(e)}if(!Mt.has(r)&&(e=m({rel:"modulepreload",href:e},t),Mt.set(r,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($n(r)))return}l=a.createElement("link"),tt(l,"link",e),Ke(l),a.head.appendChild(l)}}}function N_(e,t,a){sa.S(e,t,a);var l=$l;if(l&&e){var n=dl(l).hoistableStyles,r=Xl(e);t=t||"default";var y=n.get(r);if(!y){var v={loading:0,preload:null};if(y=l.querySelector(Gn(r)))v.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Mt.get(r))&&Ti(e,a);var C=y=l.createElement("link");Ke(C),tt(C,"link",e),C._p=new Promise(function(q,Y){C.onload=q,C.onerror=Y}),C.addEventListener("load",function(){v.loading|=1}),C.addEventListener("error",function(){v.loading|=2}),v.loading|=4,rr(y,t,l)}y={type:"stylesheet",instance:y,count:1,state:v},n.set(r,y)}}}function U_(e,t){sa.X(e,t);var a=$l;if(a&&e){var l=dl(a).hoistableScripts,n=Ql(e),r=l.get(n);r||(r=a.querySelector($n(n)),r||(e=m({src:e,async:!0},t),(t=Mt.get(n))&&qi(e,t),r=a.createElement("script"),Ke(r),tt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(n,r))}}function M_(e,t){sa.M(e,t);var a=$l;if(a&&e){var l=dl(a).hoistableScripts,n=Ql(e),r=l.get(n);r||(r=a.querySelector($n(n)),r||(e=m({src:e,async:!0,type:"module"},t),(t=Mt.get(n))&&qi(e,t),r=a.createElement("script"),Ke(r),tt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(n,r))}}function Ef(e,t,a,l){var n=(n=ne.current)?cr(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Xl(a.href),a=dl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Xl(a.href);var r=dl(n).hoistableStyles,y=r.get(e);if(y||(n=n.ownerDocument||n,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,y),(r=n.querySelector(Gn(e)))&&!r._p&&(y.instance=r,y.state.loading=5),Mt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mt.set(e,a),r||j_(n,e,a,y.state))),t&&l===null)throw Error(o(528,""));return y}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ql(a),a=dl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Xl(e){return'href="'+Dt(e)+'"'}function Gn(e){return'link[rel="stylesheet"]['+e+"]"}function Of(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function j_(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),tt(t,"link",a),Ke(t),e.head.appendChild(t))}function Ql(e){return'[src="'+Dt(e)+'"]'}function $n(e){return"script[async]"+e}function Nf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return t.instance=l,Ke(l),l;var n=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ke(l),tt(l,"style",n),rr(l,a.precedence,e),t.instance=l;case"stylesheet":n=Xl(a.href);var r=e.querySelector(Gn(n));if(r)return t.state.loading|=4,t.instance=r,Ke(r),r;l=Of(a),(n=Mt.get(n))&&Ti(l,n),r=(e.ownerDocument||e).createElement("link"),Ke(r);var y=r;return y._p=new Promise(function(v,C){y.onload=v,y.onerror=C}),tt(r,"link",l),t.state.loading|=4,rr(r,a.precedence,e),t.instance=r;case"script":return r=Ql(a.src),(n=e.querySelector($n(r)))?(t.instance=n,Ke(n),n):(l=a,(n=Mt.get(r))&&(l=m({},a),qi(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),Ke(n),tt(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,rr(l,a.precedence,e));return t.instance}function rr(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,r=n,y=0;y<l.length;y++){var v=l[y];if(v.dataset.precedence===t)r=v;else if(r!==n)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ti(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qi(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var or=null;function Uf(e,t,a){if(or===null){var l=new Map,n=or=new Map;n.set(a,l)}else n=or,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var r=a[n];if(!(r[an]||r[lt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var y=r.getAttribute(t)||"";y=e+y;var v=l.get(y);v?v.push(r):l.set(y,[r])}}return l}function Mf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function z_(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function jf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Xn=null;function H_(){}function k_(e,t,a){if(Xn===null)throw Error(o(475));var l=Xn;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var n=Xl(a.href),r=e.querySelector(Gn(n));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ir.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=r,Ke(r);return}r=e.ownerDocument||e,a=Of(a),(n=Mt.get(n))&&Ti(a,n),r=r.createElement("link"),Ke(r);var y=r;y._p=new Promise(function(v,C){y.onload=v,y.onerror=C}),tt(r,"link",a),t.instance=r}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=ir.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function L_(){if(Xn===null)throw Error(o(475));var e=Xn;return e.stylesheets&&e.count===0&&Ei(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&Ei(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ir(){if(this.count--,this.count===0){if(this.stylesheets)Ei(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ur=null;function Ei(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ur=new Map,t.forEach(Y_,e),ur=null,ir.call(e))}function Y_(e,t){if(!(t.state.loading&4)){var a=ur.get(e);if(a)var l=a.get(null);else{a=new Map,ur.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var y=n[r];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}n=t.instance,y=n.getAttribute("data-precedence"),r=a.get(y)||l,r===l&&a.set(null,n),a.set(y,n),this.count++,l=ir.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),r?r.parentNode.insertBefore(n,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Qn={$$typeof:L,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function B_(e,t,a,l,n,r,y,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function zf(e,t,a,l,n,r,y,v,C,q,Y,G){return e=new B_(e,t,a,y,v,C,q,G),t=1,r===!0&&(t|=24),r=yt(3,null,null,t),e.current=r,r.stateNode=e,t=so(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:l,isDehydrated:a,cache:t},_o(r),e}function Hf(e){return e?(e=Cl,e):Cl}function kf(e,t,a,l,n,r){n=Hf(n),l.context===null?l.context=n:l.pendingContext=n,l=Sa(t),l.payload={element:a},r=r===void 0?null:r,r!==null&&(l.callback=r),a=ba(e,l,t),a!==null&&(bt(a,e,t),wn(a,e,t))}function Lf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Oi(e,t){Lf(e,t),(e=e.alternate)&&Lf(e,t)}function Yf(e){if(e.tag===13){var t=wl(e,67108864);t!==null&&bt(t,e,67108864),Oi(e,67108864)}}var sr=!0;function V_(e,t,a,l){var n=M.T;M.T=null;var r=D.p;try{D.p=2,Ni(e,t,a,l)}finally{D.p=r,M.T=n}}function G_(e,t,a,l){var n=M.T;M.T=null;var r=D.p;try{D.p=8,Ni(e,t,a,l)}finally{D.p=r,M.T=n}}function Ni(e,t,a,l){if(sr){var n=Ui(l);if(n===null)gi(e,t,l,dr,a),Vf(e,l);else if(X_(n,e,t,a,l))l.stopPropagation();else if(Vf(e,l),t&4&&-1<$_.indexOf(e)){for(;n!==null;){var r=sl(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var y=zt(r.pendingLanes);if(y!==0){var v=r;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var C=1<<31-Me(y);v.entanglements[1]|=C,y&=~C}Xt(r),(Ce&6)===0&&(Fc=At()+500,Ln(0))}}break;case 13:v=wl(r,2),v!==null&&bt(v,r,2),Pc(),Oi(r,2)}if(r=Ui(l),r===null&&gi(e,t,l,dr,a),r===n)break;n=r}n!==null&&l.stopPropagation()}else gi(e,t,l,null,a)}}function Ui(e){return e=Hr(e),Mi(e)}var dr=null;function Mi(e){if(dr=null,e=ul(e),e!==null){var t=i(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dr=e,null}function Bf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tc()){case ac:return 2;case lc:return 8;case rl:case Rr:return 32;case en:return 268435456;default:return 32}default:return 32}}var ji=!1,Ma=null,ja=null,za=null,Zn=new Map,Fn=new Map,Ha=[],$_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vf(e,t){switch(e){case"focusin":case"focusout":Ma=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Zn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fn.delete(t.pointerId)}}function Kn(e,t,a,l,n,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:r,targetContainers:[n]},t!==null&&(t=sl(t),t!==null&&Yf(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function X_(e,t,a,l,n){switch(t){case"focusin":return Ma=Kn(Ma,e,t,a,l,n),!0;case"dragenter":return ja=Kn(ja,e,t,a,l,n),!0;case"mouseover":return za=Kn(za,e,t,a,l,n),!0;case"pointerover":var r=n.pointerId;return Zn.set(r,Kn(Zn.get(r)||null,e,t,a,l,n)),!0;case"gotpointercapture":return r=n.pointerId,Fn.set(r,Kn(Fn.get(r)||null,e,t,a,l,n)),!0}return!1}function Gf(e){var t=ul(e.target);if(t!==null){var a=i(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,kp(e.priority,function(){if(a.tag===13){var l=St();l=xr(l);var n=wl(a,l);n!==null&&bt(n,a,l),Oi(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ui(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);zr=l,a.target.dispatchEvent(l),zr=null}else return t=sl(a),t!==null&&Yf(t),e.blockedOn=a,!1;t.shift()}return!0}function $f(e,t,a){fr(e)&&a.delete(t)}function Q_(){ji=!1,Ma!==null&&fr(Ma)&&(Ma=null),ja!==null&&fr(ja)&&(ja=null),za!==null&&fr(za)&&(za=null),Zn.forEach($f),Fn.forEach($f)}function pr(e,t){e.blockedOn===t&&(e.blockedOn=null,ji||(ji=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Q_)))}var hr=null;function Xf(e){hr!==e&&(hr=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){hr===e&&(hr=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(Mi(l||a)===null)continue;break}var r=sl(a);r!==null&&(e.splice(t,3),t-=3,Mo(r,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function Pn(e){function t(C){return pr(C,e)}Ma!==null&&pr(Ma,e),ja!==null&&pr(ja,e),za!==null&&pr(za,e),Zn.forEach(t),Fn.forEach(t);for(var a=0;a<Ha.length;a++){var l=Ha[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ha.length&&(a=Ha[0],a.blockedOn===null);)Gf(a),a.blockedOn===null&&Ha.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],r=a[l+1],y=n[it]||null;if(typeof r=="function")y||Xf(a);else if(y){var v=null;if(r&&r.hasAttribute("formAction")){if(n=r,y=r[it]||null)v=y.formAction;else if(Mi(n)!==null)continue}else v=y.action;typeof v=="function"?a[l+1]=v:(a.splice(l,3),l-=3),Xf(a)}}}function zi(e){this._internalRoot=e}_r.prototype.render=zi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,l=St();kf(a,l,e,t,null,null)},_r.prototype.unmount=zi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kf(e.current,2,null,e,null,null),Pc(),t[il]=null}};function _r(e){this._internalRoot=e}_r.prototype.unstable_scheduleHydration=function(e){if(e){var t=ou();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ha.length&&t!==0&&t<Ha[a].priority;a++);Ha.splice(a,0,e),a===0&&Gf(e)}};var Qf=s.version;if(Qf!=="19.1.1")throw Error(o(527,Qf,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=_(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var Z_={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yr.isDisabled&&yr.supportsFiber)try{W=yr.inject(Z_),se=yr}catch{}}return In.createRoot=function(e,t){if(!d(e))throw Error(o(299));var a=!1,l="",n=od,r=id,y=ud,v=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=zf(e,1,!1,null,null,a,l,n,r,y,v,null),e[il]=t.current,vi(e),new zi(t)},In.hydrateRoot=function(e,t,a){if(!d(e))throw Error(o(299));var l=!1,n="",r=od,y=id,v=ud,C=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),t=zf(e,1,!0,t,a??null,l,n,r,y,v,C,q),t.context=Hf(null),a=t.current,l=St(),l=xr(l),n=Sa(l),n.callback=null,ba(a,n,l),a=l,t.current.lanes=a,tn(t,a),Xt(t),e[il]=t.current,vi(e),new _r(t)},In.version="19.1.1",In}var ap;function cy(){if(ap)return Li.exports;ap=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(s){console.error(s)}}return c(),Li.exports=ny(),Li.exports}var ry=cy();/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function oy({onClose:c}){return g.jsx("div",{className:"modal-overlay",onClick:c,children:g.jsxs("div",{className:"modal-content",onClick:s=>s.stopPropagation(),children:[g.jsx("button",{className:"btn btn-back modal-close-btn",onClick:c,children:"X"}),g.jsx("h2",{children:"Game Rules"}),g.jsx("h3",{children:"Objective"}),g.jsx("p",{children:"You play as an artificial intelligence trying to compile your own 3 protocols. To do this, you play command cards on the protocols over several rounds and execute their effects. If you reach a total value of at least 10 with your own command cards on a protocol and exceed the other person's total value in the same row, you may compile the protocol (turn it over). The first person to compile their 3 protocols wins."}),g.jsx("h3",{children:"Game Flow"}),g.jsx("p",{children:"The person who chose a protocol first begins. You always play alternately until one person wins. On your turn, handle the following 6 phases in sequence:"}),g.jsxs("ol",{children:[g.jsx("li",{children:"Start"}),g.jsx("li",{children:"Check Control"}),g.jsx("li",{children:"Check Compile"}),g.jsx("li",{children:"Perform Action"}),g.jsx("li",{children:"Check Hand Limit"}),g.jsx("li",{children:"End"})]}),g.jsx("h3",{children:"Phases in Detail"}),g.jsxs("p",{children:[g.jsx("strong",{children:"1. Start:"}),' Resolve all visible "Start" effects of your face-up command cards in an order of your choice.']}),g.jsxs("p",{children:[g.jsx("strong",{children:"2. Check Control:"})," If the total value of your command cards in at least 2 rows is higher than the total value of the other person's command cards in the corresponding rows, take the control card and place it in front of you."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"3. Check Compile:"})," If you can compile protocols, you must now compile 1 of them. If you can compile multiple protocols, choose 1 of them. If you have compiled, you must skip phase 4 and proceed directly to phase 5."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Compile Action:"}),` If your cards in a row have a total value of 10 or more AND this is higher than the other person's total value in that row, you must compile your protocol in that row. To do this, both of you remove all cards on your side of that row and place them on your respective discard piles. Then, turn your protocol in that row to the "Compiled" side. If you compile this protocol again later, you draw 1 card from the other person's deck as a reward instead. Use it from now on as if it were your own card.`]}),g.jsxs("p",{children:[g.jsx("strong",{children:"4. Perform Action:"}),' Play 1 command card from your hand OR fill your hand. If you have no hand cards, you must perform the "Fill Hand" action. If you have 5 or more hand cards, you may not perform the "Fill Hand" action.']}),g.jsxs("p",{children:[g.jsx("strong",{children:"5. Check Hand Limit:"})," If you have more than 5 command cards in your hand, you must reduce to your hand limit: discard hand cards until you have only 5."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"6. End:"}),' Resolve all visible "End" effects of your face-up command cards in an order of your choice.']}),g.jsx("h3",{children:"Glossary"}),g.jsxs("p",{children:[g.jsx("strong",{children:"Clear Cache:"})," Discard down to 5 cards in hand."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Compile:"})," To delete all cards in a line on both players’ sides and flip a protocol."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Covered:"})," A card with another card on top of it is covered."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Delete:"})," Move a card from the field to the trash."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Discard:"})," Move a card from hand to the owner’s trash."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Flip:"})," Change the facing of a card from face-down to face-up, or from face-up to face-down."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Line:"})," The area of play through both protocols. The field is made up of 3 lines, each passing through 2 opposing protocols."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Protocol:"})," The header that dictates which line you are allowed to play cards into."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Rearrange:"})," Change the position of protocols."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Refresh:"})," Draw until you have 5 cards in hand."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Return:"})," Move a card from the field to its owner’s hand."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Reveal:"})," Publicly share information that was hidden or private without effect, then return it to its previous state."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Shift:"})," Move a card to another line on the same side of the field."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Stack:"})," The cards in a line on one player’s side."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Trash:"})," Where discarded and deleted cards go. This is reshuffled to reform your deck when need be."]}),g.jsxs("p",{children:[g.jsx("strong",{children:"Uncovered:"})," The card at the end of a stack, furthest from the protocol is the uncovered card."]})]})})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function Ct({card:c,onMouseDown:s,onMouseEnter:u,onMouseLeave:o,isFaceUp:d,faceDownValue:i=2,isSelected:f,isMultiSelected:h,isTargetable:_,isSourceOfEffect:p,style:m,additionalClassName:S,animationState:b}){const R=({content:F,className:ue})=>g.jsx("div",{className:`card-rule-box ${ue||""}`,dangerouslySetInnerHTML:{__html:F}}),j=(b==null?void 0:b.type)==="playCard"&&b.cardId===c.id?`is-entering-${b.owner}`:"",X=(b==null?void 0:b.type)==="deleteCard"&&b.cardId===c.id?`is-deleting-${b.owner}`:"",P=(b==null?void 0:b.type)==="drawCard"||(b==null?void 0:b.type)==="discardCard"?b.owner:void 0,L=P==="player"&&(b==null?void 0:b.type)==="drawCard"&&b.cardIds.includes(c.id),J=P==="player"&&(b==null?void 0:b.type)==="discardCard"&&b.cardIds.includes(c.id),k=["card-component"];return f&&k.push("selected"),h&&k.push("multi-selected"),J&&k.push("is-discarding"),_&&k.push("is-targetable"),p&&k.push("is-source-of-effect"),j&&k.push(j),X&&k.push(X),L&&k.push("is-drawing"),S&&k.push(S),g.jsx("div",{className:k.join(" "),onMouseDown:s,onMouseEnter:u,onMouseLeave:o,role:"button",tabIndex:s?0:-1,style:m,children:g.jsxs("div",{className:`card-inner ${d?"":"is-flipped"}`,children:[g.jsxs("div",{className:"card-face card-front",children:[g.jsxs("div",{className:"card-header",children:[g.jsx("span",{className:"card-protocol",children:c.protocol}),g.jsx("span",{className:"card-value",children:c.value})]}),g.jsxs("div",{className:"card-body",children:[g.jsx(R,{content:c.top,className:"card-rule-top"}),g.jsx(R,{content:c.middle,className:"card-rule-middle"}),g.jsx(R,{content:c.bottom,className:"card-rule-bottom"})]})]}),g.jsx("div",{className:"card-face card-back",children:g.jsx("div",{className:"card-back-value",children:i})})]})})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const da=[{protocol:"Apathy",value:0,top:"Your total value in this line is increased by 1 for each face-down card in this line.",middle:"",bottom:"",keywords:{}},{protocol:"Apathy",value:1,top:"",middle:"Flip all other face-up cards in this line.",bottom:"",keywords:{flip:!0}},{protocol:"Apathy",value:2,top:"Ignore all middle commands of cards in this line.",middle:"",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, flip this card.</div>",keywords:{flip:!0}},{protocol:"Apathy",value:3,top:"",middle:"Flip 1 of your opponent's face-up cards.",bottom:"",keywords:{flip:!0}},{protocol:"Apathy",value:4,top:"",middle:"You may flip 1 of your face-up covered cards.",bottom:"",keywords:{flip:!0}},{protocol:"Apathy",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Darkness",value:0,top:"",middle:"Draw 3 cards. Shift 1 of your opponent's covered cards.",bottom:"",keywords:{draw:!0,shift:!0}},{protocol:"Darkness",value:1,top:"",middle:"Flip 1 of your opponent's cards. You may shift that card.",bottom:"",keywords:{flip:!0,shift:!0}},{protocol:"Darkness",value:2,top:"All face-down cards in this stack have a value of 4.",middle:"You may flip 1 covered card in this line.",bottom:"",keywords:{flip:!0}},{protocol:"Darkness",value:3,top:"",middle:"Play 1 card face-down in another line.",bottom:"",keywords:{play:!0}},{protocol:"Darkness",value:4,top:"",middle:"Shift 1 face-down card.",bottom:"",keywords:{shift:!0}},{protocol:"Darkness",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Death",value:0,top:"",middle:"Delete 1 card from each other line.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:1,top:"<div><span class='emphasis'>Start:</span> You may draw 1 card. If you do, delete 1 other card, then delete this card.</div>",middle:"",bottom:"",keywords:{draw:!0,delete:!0}},{protocol:"Death",value:2,top:"",middle:"Delete all cards in 1 line with values of 1 or 2.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:3,top:"",middle:"Delete 1 face-down card.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:4,top:"",middle:"Delete a card with a value of 0 or 1.",bottom:"",keywords:{delete:!0}},{protocol:"Death",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Fire",value:0,top:"",middle:"Flip 1 other card. Draw 2 cards.",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, draw 1 card and flip 1 other card.</div>",keywords:{draw:!0,flip:!0}},{protocol:"Fire",value:1,top:"",middle:"Discard 1 card. If you do, delete 1 card.",bottom:"",keywords:{delete:!0,discard:!0}},{protocol:"Fire",value:2,top:"",middle:"Discard 1 card. If you do, return 1 card.",bottom:"",keywords:{discard:!0,return:!0}},{protocol:"Fire",value:3,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> You may discard 1 card. If you do, flip 1 card.</div>",keywords:{discard:!0,flip:!0}},{protocol:"Fire",value:4,top:"",middle:"Discard 1 or more cards. Draw the amount discarded plus 1.",bottom:"",keywords:{discard:!0,draw:!0}},{protocol:"Fire",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Gravity",value:0,top:"",middle:"For every 2 cards in this line, play the top card of your deck face-down under this card.",bottom:"",keywords:{play:!0}},{protocol:"Gravity",value:1,top:"",middle:"Draw 2 cards. Shift 1 card either to or from this line.",bottom:"",keywords:{draw:!0,shift:!0}},{protocol:"Gravity",value:2,top:"",middle:"Flip 1 card. Shift that card to this line.",bottom:"",keywords:{flip:!0,shift:!0}},{protocol:"Gravity",value:4,top:"",middle:"Shift 1 face-down card to this line.",bottom:"",keywords:{shift:!0}},{protocol:"Gravity",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Gravity",value:6,top:"",middle:"Your opponent plays the top card of their deck face-down in this line.",bottom:"",keywords:{play:!0}},{protocol:"Hate",value:0,top:"",middle:"Delete 1 card.",bottom:"",keywords:{delete:!0}},{protocol:"Hate",value:1,top:"",middle:"Discard 3 cards. Delete 1 card. Delete 1 card.",bottom:"",keywords:{delete:!0,discard:!0}},{protocol:"Hate",value:2,top:"",middle:"Delete your highest value card. Delete your opponent's highest value card.",bottom:"",keywords:{delete:!0}},{protocol:"Hate",value:3,top:"<div><span class='emphasis'>After you delete cards:</span> Draw 1 card.</div>",middle:"",bottom:"",keywords:{draw:!0}},{protocol:"Hate",value:4,top:"",middle:"",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, delete the lowest value covered card in this line.</div>",keywords:{delete:!0}},{protocol:"Hate",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Life",value:0,top:"",middle:"Play the top card of your deck face-down in each line where you have a card.",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, delete this card.</div>",keywords:{delete:!0,play:!0}},{protocol:"Life",value:1,top:"",middle:"Flip 1 card. Flip 1 card.",bottom:"",keywords:{flip:!0}},{protocol:"Life",value:2,top:"",middle:"Draw 1 card. You may flip 1 face-down card.",bottom:"",keywords:{draw:!0,flip:!0}},{protocol:"Life",value:3,top:"",middle:"",bottom:"<div><span class='emphasis'>When this card would be covered:</span> First, play the top card of your deck face-down in another line.</div>",keywords:{play:!0}},{protocol:"Life",value:4,top:"",middle:"If this card is covering a card, draw 1 card.",bottom:"",keywords:{draw:!0}},{protocol:"Life",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Light",value:0,top:"",middle:"Flip 1 card. Draw cards equal to that card's value.",bottom:"",keywords:{draw:!0,flip:!0}},{protocol:"Light",value:1,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> Draw 1 card.</div>",keywords:{draw:!0}},{protocol:"Light",value:2,top:"",middle:"Draw 2 cards. Reveal 1 face-down card. You may shift or flip that card.",bottom:"",keywords:{draw:!0,flip:!0,reveal:!0,shift:!0}},{protocol:"Light",value:3,top:"",middle:"Shift all face-down cards in this line to another line.",bottom:"",keywords:{shift:!0}},{protocol:"Light",value:4,top:"",middle:"Your opponent reveals their hand.",bottom:"",keywords:{reveal:!0}},{protocol:"Light",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Love",value:1,top:"",middle:"Draw the top card of your opponent's deck.",bottom:"<div><span class='emphasis'>End:</span> You may give 1 card from your hand to your opponent. If you do, draw 2 cards.</div>",keywords:{draw:!0,give:!0}},{protocol:"Love",value:2,top:"",middle:"Your opponent draws 1 card. Refresh.",bottom:"",keywords:{draw:!0,refresh:!0}},{protocol:"Love",value:3,top:"",middle:"Take 1 random card from your opponent's hand. Give 1 card from your hand to your opponent.",bottom:"",keywords:{give:!0,take:!0}},{protocol:"Love",value:4,top:"",middle:"Reveal 1 card from your hand. Flip 1 card.",bottom:"",keywords:{flip:!0,reveal:!0}},{protocol:"Love",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Love",value:6,top:"",middle:"Your opponent draws 2 cards.",bottom:"",keywords:{draw:!0}},{protocol:"Metal",value:0,top:"Your opponent's total value in this line is reduced by 2.",middle:"Flip 1 card.",bottom:"",keywords:{flip:!0}},{protocol:"Metal",value:1,top:"",middle:"Draw 2 cards. Your opponent cannot compile next turn.",bottom:"",keywords:{draw:!0}},{protocol:"Metal",value:2,top:"Your opponent cannot play cards face-down in this line.",middle:"",bottom:"",keywords:{}},{protocol:"Metal",value:3,top:"",middle:"Draw 1 card. Delete all cards in 1 other line with 8 or more cards.",bottom:"",keywords:{delete:!0,draw:!0}},{protocol:"Metal",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Metal",value:6,top:"<div><span class='emphasis'>When this card would be covered or flipped:</span> First, delete this card.</div>",middle:"",bottom:"",keywords:{delete:!0}},{protocol:"Plague",value:0,top:"",middle:"Your opponent discards 1 card.",bottom:"Your opponent cannot play cards in this line.",keywords:{discard:!0}},{protocol:"Plague",value:1,top:"<div><span class='emphasis'>After your opponent discards cards:</span> Draw 1 card.</div>",middle:"Your opponent discards 1 card.",bottom:"",keywords:{discard:!0,draw:!0}},{protocol:"Plague",value:2,top:"",middle:"Dicard 1 or more cards. Your opponent discards the amount of cards discarded plus 1.",bottom:"",keywords:{discard:!0}},{protocol:"Plague",value:3,top:"",middle:"Flip each other face-up card.",bottom:"",keywords:{flip:!0}},{protocol:"Plague",value:4,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> Your opponent deletes 1 of their face-down cards. You may flip this card.</div>",keywords:{delete:!0,flip:!0}},{protocol:"Plague",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Psychic",value:0,top:"",middle:"Draw 2 cards. Your opponent discards 2 cards, then reveals their hand.",bottom:"",keywords:{discard:!0,draw:!0,reveal:!0}},{protocol:"Psychic",value:1,top:"Your opponent can only play cards face-down.",middle:"",bottom:"<div><span class='emphasis'>Start:</span> Flip this card.</div>",keywords:{flip:!0}},{protocol:"Psychic",value:2,top:"",middle:"Your opponent discards 2 cards. Rearrange their protocols.",bottom:"",keywords:{discard:!0,rearrange:!0}},{protocol:"Psychic",value:3,top:"",middle:"Your opponent discards 1 card. Shift 1 of their cards.",bottom:"",keywords:{discard:!0,shift:!0}},{protocol:"Psychic",value:4,top:"",middle:"",bottom:"<div><span class='emphasis'>End:</span> You may return 1 of your opponent's cards. If you do, flip this card.</div>",keywords:{flip:!0,return:!0}},{protocol:"Psychic",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Speed",value:0,top:"",middle:"Play 1 card.",bottom:"",keywords:{play:!0}},{protocol:"Speed",value:1,top:"<div><span class='emphasis'>After you clear cache:</span> Draw 1 card.</div>",middle:"Draw 2 cards.",bottom:"",keywords:{draw:!0}},{protocol:"Speed",value:2,top:"<div><span class='emphasis'>When this card would be deleted by compiling:</span> Shift this card, even if this card is covered.</div>",middle:"",bottom:"",keywords:{shift:!0}},{protocol:"Speed",value:3,top:"",middle:"Shift 1 of your other cards.",bottom:"<div><span class='emphasis'>End:</span> You may shift 1 of your cards. If you do, flip this card.</div>",keywords:{flip:!0,shift:!0}},{protocol:"Speed",value:4,top:"",middle:"Shift 1 of your opponent's face-down cards.",bottom:"",keywords:{shift:!0}},{protocol:"Speed",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Spirit",value:0,top:"",middle:"Refresh. Draw 1 card.",bottom:"Skip your check cache phase.",keywords:{draw:!0,refresh:!0}},{protocol:"Spirit",value:1,top:"You can play cards in any line.",middle:"Draw 2 cards.",bottom:"<div><span class='emphasis'>Start:</span> Either discard 1 card or flip this card.</div>",keywords:{discard:!0,draw:!0,flip:!0}},{protocol:"Spirit",value:2,top:"",middle:"You may flip 1 card.",bottom:"",keywords:{flip:!0}},{protocol:"Spirit",value:3,top:"<div><span class='emphasis'>After you draw cards:</span> You may shift this card, even if this card is covered.</div>",middle:"",bottom:"",keywords:{shift:!0}},{protocol:"Spirit",value:4,top:"",middle:"Swap the positions of 2 of your protocols",bottom:"",keywords:{swap:!0}},{protocol:"Spirit",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}},{protocol:"Water",value:0,top:"",middle:"Flip 1 other card. Flip this card.",bottom:"",keywords:{flip:!0}},{protocol:"Water",value:1,top:"",middle:"Play the top card of your deck face-down in each other line.",bottom:"",keywords:{play:!0}},{protocol:"Water",value:2,top:"",middle:"Draw 2 cards. Rearrange your protocols.",bottom:"",keywords:{draw:!0,rearrange:!0}},{protocol:"Water",value:3,top:"",middle:"Return all cards with a value of 2 in 1 line.",bottom:"",keywords:{return:!0}},{protocol:"Water",value:4,top:"",middle:"Return 1 of your cards.",bottom:"",keywords:{return:!0}},{protocol:"Water",value:5,top:"",middle:"You discard 1 card.",bottom:"",keywords:{discard:!0}}],iy=new Set(da.map(c=>c.protocol)),Ki=Array.from(iy).sort();/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function uy(c){const s=[];for(const u of c){const o=da.filter(d=>d.protocol===u);s.push(...o)}return s}function br(c){const s=[...c];for(let u=s.length-1;u>0;u--){const o=Math.floor(Math.random()*(u+1));[s[u],s[o]]=[s[o],s[u]]}return s}function lp({onNavigate:c,difficulty:s,setDifficulty:u}){const[o,d]=K.useState(!1),[i,f]=K.useState(null),[h,_]=K.useState(null),[p,m]=K.useState(null),[S,b]=K.useState([]);return K.useEffect(()=>{const R=new Set;for(;R.size<2&&R.size<da.length;)R.add(Math.floor(Math.random()*da.length));const E=Array.from(R).map(j=>da[j]);E.length>0&&(m(E[0]),_(E[0])),E.length>1&&f(E[1]),b(br(da))},[]),g.jsxs("div",{className:"screen main-menu",children:[o&&g.jsx(oy,{onClose:()=>d(!1)}),g.jsx("h1",{children:"COMPILE: MAIN 1"}),g.jsxs("div",{className:"main-menu-layout",children:[g.jsx("div",{className:"main-menu-preview decorative-card",children:h&&g.jsx(Ct,{card:{...h,id:"preview",isFaceUp:!0},isFaceUp:!0})}),g.jsxs("div",{className:"main-menu-actions-container",children:[g.jsxs("div",{className:"main-menu-start-group",children:[g.jsxs("div",{className:"difficulty-selector",children:[g.jsx("h3",{className:"difficulty-title",children:"Difficulty"}),g.jsxs("div",{className:"difficulty-options",children:[g.jsx("button",{className:`btn ${s==="easy"?"active":""}`,onClick:()=>u("easy"),children:"Easy"}),g.jsx("button",{className:`btn ${s==="normal"?"active":""}`,onClick:()=>u("normal"),children:"Normal"}),g.jsx("button",{className:`btn ${s==="hard"?"active":""}`,onClick:()=>u("hard"),children:"Hard"})]})]}),g.jsx("button",{className:"btn btn-start",onClick:()=>c("ProtocolSelection"),children:"Start Game"})]}),g.jsxs("div",{className:"main-menu-other-actions",children:[g.jsx("button",{className:"btn",onClick:()=>c("CardLibrary"),children:"Cards"}),g.jsx("button",{className:"btn",onClick:()=>d(!0),children:"Rules"})]})]}),g.jsx("div",{className:"decorative-card decorative-card-right",children:i&&g.jsx(Ct,{card:{...i,id:"deco-2",isFaceUp:!0},isFaceUp:!0})})]}),g.jsx("div",{className:"card-ticker-container",onMouseLeave:()=>_(p),children:g.jsxs("div",{className:"card-ticker-track",children:[S.map((R,E)=>g.jsx(Ct,{card:{...R,id:`ticker-1-${E}`,isFaceUp:!0},isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>_(R)},`ticker-1-${E}`)),S.map((R,E)=>g.jsx(Ct,{card:{...R,id:`ticker-2-${E}`,isFaceUp:!0},isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>_(R)},`ticker-2-${E}`))]})})]})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function Ap({title:c,onBack:s}){return g.jsxs("header",{className:"app-header",children:[g.jsx("h2",{children:c}),s&&g.jsx("button",{className:"btn btn-back",onClick:s,children:"Back"})]})}const mr=[{player:"Player",picks:1},{player:"Opponent",picks:2},{player:"Player",picks:2},{player:"Opponent",picks:1}];function sy({onBack:c,onStartGame:s}){const[u,o]=K.useState(0),[d,i]=K.useState([]),[f,h]=K.useState([]),[_,p]=K.useState([]),[m,S]=K.useState(!1),[b,R]=K.useState(null),[E,j]=K.useState(null),H=mr[u],X=(H==null?void 0:H.player)==="Player",P=(H==null?void 0:H.player)==="Opponent",L=K.useMemo(()=>new Set([...d,...f]),[d,f]),J=K.useMemo(()=>_.map(te=>({name:te,cards:da.filter(le=>le.protocol===te).sort((le,re)=>le.value-re.value)})),[_]),k=te=>{!X||m||p(le=>{if(le.includes(te))return le.filter(re=>re!==te);if(le.length<H.picks)return[...le,te];if(le.length===H.picks){const re=le.slice(1);return re.push(te),re}return le})},F=async()=>{if(!X||m||_.length!==H.picks)return;S(!0);const te=[..._];p([]);for(const le of te)i(re=>[...re,le]),await new Promise(re=>setTimeout(re,300));S(!1),o(le=>le+1)};K.useEffect(()=>{P&&!m&&u<mr.length&&(async()=>{S(!0),await new Promise(Ae=>setTimeout(Ae,100));const le=["Gravity"],re=Ki.filter(Ae=>!L.has(Ae)),ge=[],je=le.filter(Ae=>re.includes(Ae));for(let Ae=0;Ae<H.picks;Ae++)if(je.length>0){const _e=je.shift();ge.push(_e);const M=re.indexOf(_e);M>-1&&re.splice(M,1)}else if(re.length>0){const _e=Math.floor(Math.random()*re.length);ge.push(re.splice(_e,1)[0])}for(const Ae of ge)await new Promise(_e=>setTimeout(_e,1e3)),R(Ae),await new Promise(_e=>setTimeout(_e,1e3)),R(null),h(_e=>[..._e,Ae]);S(!1),o(Ae=>Ae+1)})()},[u,P,m,L,H]),K.useEffect(()=>{u>=mr.length&&!m&&setTimeout(()=>{s(d,f)},1e3)},[u,m,s,d,f]);const ue=te=>{let le="protocol-card";return _.includes(te)&&(le+=" selected"),L.has(te)&&(le+=" chosen"),b===te&&(le+=" is-scanning"),le},fe=()=>m&&P?"Opponent is selecting protocols...":(H==null?void 0:H.player)==="Player"?`Player, select ${H.picks} protocol(s). (${_.length}/${H.picks})`:u>=mr.length?"Finalizing selections...":"Waiting for Opponent...";return g.jsxs("div",{className:"screen protocol-selection-screen",children:[g.jsx(Ap,{title:"Protocol Selection",onBack:c}),g.jsxs("div",{className:"protocol-selection-layout",children:[g.jsxs("div",{className:"protocol-selection-sidebar",children:[g.jsxs("div",{className:"player-protocols-area",children:[g.jsx("h3",{children:"Your Protocols"}),d.map(te=>g.jsx("div",{className:"protocol-display-card player",children:te},te))]}),g.jsx("div",{className:"protocol-preview-area",children:E?g.jsx(Ct,{card:{...E,id:"preview",isFaceUp:!0},isFaceUp:!0}):g.jsx("p",{children:J.length>0?"Hover over a card below to see details.":"Select a protocol to see its cards."})})]}),g.jsxs("div",{className:"protocol-grid-container",children:[g.jsx("p",{children:fe()}),g.jsx("div",{className:"protocol-grid",children:Ki.map(te=>g.jsx("div",{className:ue(te),onClick:()=>k(te),role:"button","aria-disabled":L.has(te)||!X||m,tabIndex:!L.has(te)&&X&&!m?0:-1,onKeyPress:le=>le.key==="Enter"&&k(te),children:te},te))}),X&&g.jsx("button",{className:"btn",onClick:F,disabled:m||_.length!==(H==null?void 0:H.picks),children:"Confirm Selection"})]}),g.jsxs("div",{className:"opponent-protocols-area",children:[g.jsx("h3",{children:"Opponent Protocols"}),f.map(te=>g.jsx("div",{className:"protocol-display-card opponent",children:te},te))]})]}),g.jsx("div",{className:"selected-protocol-cards-container",children:J.length>0&&[...J].reverse().map(te=>g.jsx("div",{className:"protocol-card-row",children:te.cards.map(le=>g.jsx(Ct,{card:{...le,id:`selection-${le.protocol}-${le.value}`,isFaceUp:!0},isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>j(le),onMouseLeave:()=>j(null)},`${te.name}-${le.value}`))},te.name))})]})}const at=[];for(let c=0;c<256;++c)at.push((c+256).toString(16).slice(1));function dy(c,s=0){return(at[c[s+0]]+at[c[s+1]]+at[c[s+2]]+at[c[s+3]]+"-"+at[c[s+4]]+at[c[s+5]]+"-"+at[c[s+6]]+at[c[s+7]]+"-"+at[c[s+8]]+at[c[s+9]]+"-"+at[c[s+10]]+at[c[s+11]]+at[c[s+12]]+at[c[s+13]]+at[c[s+14]]+at[c[s+15]]).toLowerCase()}let Gi;const fy=new Uint8Array(16);function py(){if(!Gi){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gi=crypto.getRandomValues.bind(crypto)}return Gi(fy)}const hy=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),np={randomUUID:hy};function Qt(c,s,u){var d;if(np.randomUUID&&!c)return np.randomUUID();c=c||{};const o=c.random??((d=c.rng)==null?void 0:d.call(c))??py();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,dy(o)}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const $=(c,s,u)=>({...c,log:[...c.log,{player:s,message:u}]});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function fa(c,s,u){let o=[...c],d=[...s],i=[],f=!1;for(let h=0;h<u;h++){if(o.length===0){if(d.length===0)break;o=br(d),d=[],f=!0}i.push(o.shift())}return{drawnCards:i,remainingDeck:o,newDiscard:d,reshuffled:f}}function tu(c,s){const u=c[s];let o=c;const d=u.lanes.flat().filter(i=>i.protocol==="Spirit"&&i.value===3&&i.isFaceUp);if(d.length>0)for(const i of d)o=$(o,s,"Spirit-3 triggers after drawing: You may shift this card."),o.queuedActions=[...o.queuedActions||[],{type:"prompt_shift_for_spirit_3",sourceCardId:i.id,optional:!0,actor:s}];return o}function Ne(c,s,u){const o=c[s],{drawnCards:d,remainingDeck:i,newDiscard:f,reshuffled:h}=fa(o.deck,o.discard,u);if(d.length===0)return c;const _=d.map(b=>({...b,id:Qt(),isFaceUp:!0})),p=_.map(b=>b.id),m={...o,deck:i,discard:f,hand:[...o.hand,..._]};let S={...c,[s]:m};return p.length>0&&(S.animationState={type:"drawCard",owner:s,cardIds:p}),h&&(S=$(S,s,`${s==="player"?"Player":"Opponent"}'s deck is empty. Discard pile has been reshuffled into the deck.`)),d.length>0&&(S=tu(S,s)),S}function xp(c,s){const o=5-c[s].hand.length;if(o<=0)return c;const d=s==="player"?"Player":"Opponent";let i=Ne(c,s,o);return $(i,s,`${d} refreshes their hand, drawing ${o} card(s).`)}function jt(c,s){const u={...s},o=d=>d.map(i=>i.map(f=>c.has(f.id)?{...f,isFaceUp:!f.isFaceUp}:f));return u.player.lanes=o(u.player.lanes),u.opponent.lanes=o(u.opponent.lanes),pt(u)}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const cp=c=>{const s=br(uy(c)),{drawnCards:u,remainingDeck:o}=fa(s,[],5);return{protocols:c,deck:o,hand:u.map(d=>({...d,id:Qt(),isFaceUp:!0})),lanes:[[],[],[]],discard:[],compiled:[!1,!1,!1],laneValues:[0,0,0],cannotCompile:!1}},_y=(c,s)=>{const u=cp(c),o=cp(s);return $({player:u,opponent:o,turn:"player",phase:"start",controlCardHolder:null,winner:null,log:[],actionRequired:null,queuedActions:[],animationState:null,compilableLanes:[],processedStartEffectIds:[],processedEndEffectIds:[],lastPlayedCardId:void 0},"player","Game Started.")},Kl=(c,s)=>c.isFaceUp?c.value:s.some(o=>o.isFaceUp&&o.protocol==="Darkness"&&o.value===2)?4:2,rp=c=>{let s=0;for(const u of c)u.isFaceUp?s+=u.value:s+=2;return Math.max(0,s)};function yy(c,s,u){let o=[...s],d=[...u];for(let i=0;i<3;i++)c.opponent.lanes[i].some(f=>f.isFaceUp&&f.protocol==="Metal"&&f.value===0)&&(o[i]=Math.max(0,o[i]-2)),c.player.lanes[i].some(f=>f.isFaceUp&&f.protocol==="Metal"&&f.value===0)&&(d[i]=Math.max(0,d[i]-2));for(let i=0;i<3;i++){for(const f of c.player.lanes[i])if(f.isFaceUp)switch(`${f.protocol}-${f.value}`){case"Apathy-0":{const h=c.player.lanes[i].filter(_=>!_.isFaceUp).length;o[i]+=h;break}case"Darkness-2":{const h=c.player.lanes[i].filter(_=>!_.isFaceUp).length;o[i]+=h*2;break}}for(const f of c.opponent.lanes[i])if(f.isFaceUp)switch(`${f.protocol}-${f.value}`){case"Apathy-0":{const h=c.opponent.lanes[i].filter(_=>!_.isFaceUp).length;d[i]+=h;break}case"Darkness-2":{const h=c.opponent.lanes[i].filter(_=>!_.isFaceUp).length;d[i]+=h*2;break}}}return{finalPlayerValues:o,finalOpponentValues:d}}const pt=c=>{const s=c.player.lanes.map(rp),u=c.opponent.lanes.map(rp),{finalPlayerValues:o,finalOpponentValues:d}=yy(c,s,u);return{...c,player:{...c.player,laneValues:o},opponent:{...c.opponent,laneValues:d}}},Dp=(c,s)=>{const u=[],o=c[s],d=c[s==="player"?"opponent":"player"];if(!o.cannotCompile)for(let i=0;i<3;i++){const f=o.laneValues[i],h=d.laneValues[i];f>=10&&f>h&&u.push(i)}return u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const my=(c,s,u,o)=>{const d=o==="player"?"opponent":"player",i=u[o].lanes[s],f=u[d].lanes[s],h=new Set;if(i.filter(_=>_.id!==c.id&&_.isFaceUp).forEach(_=>h.add(_.id)),f.filter(_=>_.isFaceUp).forEach(_=>h.add(_.id)),h.size>0){let _={...u};return _=$(_,o,`Apathy-1: Flip ${h.size} card(s) face-down in the line.`),{newState:jt(h,_)}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const vy=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};return i[d].lanes.flat().filter(h=>h.isFaceUp).length>0&&(i.actionRequired={type:"select_opponent_face_up_card_to_flip",count:1,sourceCardId:c.id,actor:o}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const gy=(c,s,u,o)=>{let d={...u};return d[o].lanes.flatMap(f=>f.filter((h,_)=>h.isFaceUp&&_<f.length-1)).length>0&&(d.actionRequired={type:"select_own_face_up_covered_card_to_flip",count:1,optional:!0,sourceCardId:c.id,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const ot=(c,s,u,o)=>{let d={...u};return d[o].hand.length>0&&(d.actionRequired={type:"discard",player:o,count:1,sourceCardId:c.id}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Sy=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i=Ne(u,o,3);return i=$(i,o,"Darkness-0: Draw 3 cards."),i[d].lanes.flatMap(h=>h.filter((_,p)=>p<h.length-1)).length>0&&(i=$(i,o,"Darkness-0: Prompts to shift 1 of opponent's covered cards."),i.actionRequired={type:"select_opponent_covered_card_to_shift",sourceCardId:c.id,actor:o}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const by=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};return i[d].lanes.flat().length>0&&(i.actionRequired={type:"select_opponent_card_to_flip",sourceCardId:c.id,actor:o}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const wy=(c,s,u,o)=>{let d={...u};return d[o].lanes[s].filter((f,h,_)=>h<_.length-1).length>0&&(d.actionRequired={type:"select_own_covered_card_in_lane_to_flip",laneIndex:s,sourceCardId:c.id,optional:!0,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Cy=(c,s,u,o)=>{let d={...u};return d[o].hand.length>0&&(d.actionRequired={type:"select_card_from_hand_to_play",disallowedLaneIndex:s,sourceCardId:c.id,isFaceDown:!0,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ry=(c,s,u,o)=>{let d={...u};return[...d.player.lanes.flat(),...d.opponent.lanes.flat()].filter(f=>!f.isFaceUp).length>0&&(d=$(d,o,"Darkness-4: Prompts to shift 1 face-down card."),d.actionRequired={type:"select_face_down_card_to_shift_for_darkness_4",sourceCardId:c.id,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ay=(c,s,u,o)=>{const d=["player","opponent"],i=[];for(const S of d){const b=u[S].lanes[s];for(let R=0;R<b.length;R++)i.push({card:b[R],owner:S})}if(i.length===0)return{newState:u};const f=i.reduce((S,b)=>{const R=E=>E.card.isFaceUp?E.card.value:u[E.owner].lanes[s].some(H=>H.isFaceUp&&H.protocol==="Darkness"&&H.value===2)?4:2;return R(b)<R(S)?b:S}),h=`${c.protocol}-${c.value}`,_=f.card.isFaceUp?`${f.card.protocol}-${f.card.value}`:"a face-down card",p=f.owner==="player"?"Player's":"Opponent's";return{newState:$(u,o,`${h} effect triggers, deleting the lowest value covered card (${p} ${_}).`),animationRequests:[{type:"delete",cardId:f.card.id,owner:f.owner}]}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const xy=(c,s,u,o)=>{const d=`${c.protocol}-${c.value}`;let i=$(u,o,`${d} On-Cover: Draw 1 card.`);return i=Ne(i,o,1),[...i.player.lanes.flat(),...i.opponent.lanes.flat()].filter(h=>h.id!==c.id).length>0?(i=$(i,o,`${d} On-Cover: Prompts to flip another card.`),i.actionRequired={type:"select_any_other_card_to_flip",sourceCardId:c.id,draws:0,actor:o},u.turn!==o&&(i._interruptedTurn=u.turn,i.turn=o)):i=$(i,o,`${d} On-Cover: No other cards to flip.`),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Dy=(c,s,u,o)=>{if(u[o].deck.length>0||u[o].discard.length>0){let d={...u};return d.actionRequired={type:"select_lane_for_life_3_play",sourceCardId:c.id,disallowedLaneIndex:s,actor:o},u.turn!==o&&(d._interruptedTurn=u.turn,d.turn=o),{newState:d}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ty=(c,s,u,o)=>{const d=u.turn,i=`${c.protocol}-${c.value}`;let f=$(u,d,`${i} effect triggers: flipping itself face-down.`);return f=jt(new Set([c.id]),f),{newState:f}},qy=(c,s,u,o)=>{const d=u.turn,i=`${c.protocol}-${c.value}`;return{newState:$(u,d,`${i} effect triggers: deleting itself.`),animationRequests:[{type:"delete",cardId:c.id,owner:o}]}},Ey=(c,s,u,o)=>{const d=u.turn,i=`${c.protocol}-${c.value}`;return{newState:$(u,d,`${i} effect triggers on cover: deleting itself.`),animationRequests:[{type:"delete",cardId:c.id,owner:o}]}},ec={"Apathy-2":Ty,"Hate-4":Ay,"Fire-0":xy,"Life-0":qy,"Life-3":Dy,"Metal-6":Ey};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Oy=(c,s,u,o)=>{let d={...u};const i={...d[o]},f=[];for(let R=0;R<3;R++)d[o].lanes[R].length>0&&f.push(R);if(f.length===0)return{newState:d};const h=f.map(R=>{const E=d[o].lanes[R];return E.length>0?{card:E[E.length-1],laneIndex:R}:null}).filter(R=>R!==null),{drawnCards:_,remainingDeck:p,newDiscard:m}=fa(i.deck,i.discard,f.length);if(_.length===0)return{newState:d};const S=[...i.lanes];for(let R=0;R<_.length;R++){const E=f[R],j={..._[R],id:Qt(),isFaceUp:!1};S[E]=[...S[E],j]}d[o]={...i,lanes:S,deck:p,discard:m},d=$(d,o,`Life-0: Plays ${_.length} card(s) face-down.`);let b={newState:d};for(const{card:R,laneIndex:E}of h){const j=`${R.protocol}-${R.value}`,H=ec[j];if(H){const X=H(R,E,b.newState,o);if(b.newState=X.newState,X.animationRequests&&(b.animationRequests=[...b.animationRequests||[],...X.animationRequests]),b.newState.actionRequired)break}}return b};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ny=(c,s,u,o)=>{if([...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0){let i={...u};return i=$(i,o,"Life-1: Prompts to flip 2 cards."),i.actionRequired={type:"select_any_card_to_flip",count:2,sourceCardId:c.id,actor:o},{newState:i}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Uy=(c,s,u,o)=>{let d=Ne(u,o,1);return d=$(d,o,"Life-2: Draw 1 card."),[...d.player.lanes.flat(),...d.opponent.lanes.flat()].filter(f=>!f.isFaceUp).length>0&&(d.actionRequired={type:"select_any_face_down_card_to_flip_optional",sourceCardId:c.id,optional:!0,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const My=(c,s,u,o)=>{if(u[o].lanes[s].length>1){let i=Ne(u,o,1);return i=$(i,o,"Life-4: Card is covering another, draw 1 card."),{newState:i}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const jy=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};const f={...i[d]},h={...i[o]},{drawnCards:_,remainingDeck:p,newDiscard:m}=fa(f.deck,f.discard,1);if(_.length>0){const S={..._[0],id:Qt(),isFaceUp:!0};h.hand=[...h.hand,S],f.deck=p,f.discard=m,i={...i,[o]:h,[d]:f},i=$(i,o,`Love-1: ${o==="player"?"Player":"Opponent"} draws the top card of the opponent's deck.`),i=tu(i,o)}return{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const zy=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};return i=$(i,o,"Love-2: Opponent draws 1 card."),i=Ne(i,d,1),i=xp(i,o),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Hy=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};const f={...i[d]},h={...i[o]};if(f.hand.length===0)return i=$(i,o,"Love-3: Opponent has no cards to take."),{newState:i};const _=Math.floor(Math.random()*f.hand.length),p=f.hand.splice(_,1)[0];h.hand.push(p),i={...i,[o]:h,[d]:f};const m=o==="player"?"Player":"Opponent",S=o==="player"?`${p.protocol}-${p.value}`:"a random card";return i=$(i,o,`Love-3: ${m} takes ${S} from the opponent.`),i.actionRequired={type:"select_card_from_hand_to_give",sourceCardId:c.id,sourceEffect:"love_3",actor:o},{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const ky=(c,s,u,o)=>{let d={...u};return d[o].hand.length>0&&(d.actionRequired={type:"select_card_from_hand_to_reveal",sourceCardId:c.id,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ly=(c,s,u,o)=>{let i=Ne(u,o==="player"?"opponent":"player",2);return i=$(i,o,"Love-6: Opponent draws 2 cards."),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Yy=(c,s,u,o)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0?{newState:{...u,actionRequired:{type:"select_any_card_to_flip",count:1,sourceCardId:c.id,actor:o}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const By=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};return i=Ne(i,o,2),i=$(i,o,"Metal-1: Draw 2 cards."),i[d].cannotCompile=!0,i=$(i,o,"Metal-1: Opponent cannot compile next turn."),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Vy=(c,s,u,o)=>{let d=Ne(u,o,1);d=$(d,o,"Metal-3: Draw 1 card.");const i=[0,1,2].filter(h=>h!==s);let f=!1;for(const h of i)if(d.player.lanes[h].length+d.opponent.lanes[h].length>=8){f=!0;break}return f&&(d.actionRequired={type:"select_lane_for_metal_3_delete",sourceCardId:c.id,disallowedLaneIndex:s,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Gy=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};return i[d].hand.length>0&&(i.actionRequired={type:"discard",player:d,count:1,sourceCardId:c.id}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const $y=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};return i[d].hand.length>0&&(i.actionRequired={type:"discard",player:d,count:1,sourceCardId:c.id}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Xy=(c,s,u,o)=>{let d={...u};return d[o].hand.length>0&&(o==="player"?d.actionRequired={type:"plague_2_player_discard",sourceCardId:c.id,actor:o}:d.actionRequired={type:"plague_2_opponent_discard",sourceCardId:c.id,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Qy=(c,s,u,o)=>{const d=[...u.player.lanes.flat(),...u.opponent.lanes.flat()],i=new Set(d.filter(f=>f.id!==c.id&&f.isFaceUp).map(f=>f.id));if(i.size>0){let f={...u};return f=$(f,o,`Plague-3: Flip ${i.size} card(s) face-down.`),{newState:jt(i,u)}}return{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Zy=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i=Ne(u,o,2);i=$(i,o,"Psychic-0: Draw 2 cards.");const f=i[d].hand.length;return f>0&&(i.actionRequired={type:"discard",player:d,count:Math.min(2,f),sourceCardId:c.id},i.queuedActions=[...i.queuedActions||[],{type:"reveal_opponent_hand",sourceCardId:c.id,actor:o}]),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Fy=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};const f=i[d].hand.length,h={type:"prompt_rearrange_protocols",sourceCardId:c.id,target:d,actor:o};return f>0?(i.actionRequired={type:"discard",player:d,count:Math.min(2,f),sourceCardId:c.id},i.queuedActions=[...i.queuedActions||[],h]):i.actionRequired=h,{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ky=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};const f=i[d].hand.length,h={type:"select_any_opponent_card_to_shift",sourceCardId:c.id,actor:o};return f>0?(i.actionRequired={type:"discard",player:d,count:1,sourceCardId:c.id},i.queuedActions=[...i.queuedActions||[],h]):i[d].lanes.flat().length>0&&(i.actionRequired=h),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Py=(c,s,u,o)=>{let d={...u};return d[o].hand.length>0&&(d=$(d,o,"Speed-0: Play another card."),d.actionRequired={type:"select_card_from_hand_to_play",disallowedLaneIndex:-1,sourceCardId:c.id,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Jy=(c,s,u,o)=>{let d=Ne(u,o,2);return d=$(d,o,"Speed-1: Draw 2 cards."),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Iy=(c,s,u,o)=>u[o].lanes.flat().filter(i=>i.id!==c.id).length>0?{newState:{...u,actionRequired:{type:"select_own_other_card_to_shift",sourceCardId:c.id,actor:o}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Wy=(c,s,u,o)=>u[o==="player"?"opponent":"player"].lanes.flat().filter(f=>!f.isFaceUp).length>0?{newState:{...u,actionRequired:{type:"select_opponent_face_down_card_to_shift",sourceCardId:c.id,actor:o}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const em=(c,s,u,o)=>{let d={...u};return d=xp(d,o),d=Ne(d,o,1),d=$(d,o,"Spirit-0: Draw 1 card."),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const tm=(c,s,u,o)=>{let d=Ne(u,o,2);return d=$(d,o,"Spirit-1: Draw 2 cards."),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const am=(c,s,u,o)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0?{newState:{...u,actionRequired:{type:"select_any_card_to_flip_optional",sourceCardId:c.id,optional:!0,actor:o}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const lm=(c,s,u,o)=>({newState:{...u,actionRequired:{type:"prompt_swap_protocols",sourceCardId:c.id,actor:o}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const nm=(c,s,u,o)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(f=>f.id!==c.id).length>0?{newState:{...u,actionRequired:{type:"select_cards_to_delete",count:1,sourceCardId:c.id,disallowedIds:[c.id],actor:o}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const cm=(c,s,u,o)=>{let d={...u};const i=d[o],f=Math.min(3,i.hand.length);return f>0?d.actionRequired={type:"select_cards_from_hand_to_discard_for_hate_1",count:f,sourceCardId:c.id,actor:o}:d.actionRequired={type:"select_cards_to_delete",count:2,sourceCardId:c.id,disallowedIds:[c.id],actor:o},{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const rm=(c,s,u,o)=>{const i=[o,o==="player"?"opponent":"player"],f=[];let h=u;for(const _ of i){const p=u[_].lanes.flat();if(p.length>0){const m=p.reduce((E,j)=>{const H=E.isFaceUp?E.value:2;return(j.isFaceUp?j.value:2)>H?j:E});f.push({type:"delete",cardId:m.id,owner:_});const S=_===o?"Your":"Opponent's",b=m.isFaceUp?`${m.protocol}-${m.value}`:"a face-down card",R=`Hate-2: Deleting ${S} highest value card (${b}).`;h=$(h,o,R)}}return{newState:h,animationRequests:f}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const om=(c,s,u,o)=>{const f=[0,1,2].filter(h=>h!==s).filter(h=>u.player.lanes[h].length>0||u.opponent.lanes[h].length>0).length;return f>0?{newState:{...u,actionRequired:{type:"select_card_from_other_lanes_to_delete",sourceCardId:c.id,disallowedLaneIndex:s,lanesSelected:[],count:f,actor:o}}}:{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const im=(c,s,u,o)=>({newState:{...u,actionRequired:{type:"select_lane_for_death_2",sourceCardId:c.id,actor:o}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const um=(c,s,u,o)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(i=>!i.isFaceUp).length>0?{newState:{...u,actionRequired:{type:"select_face_down_card_to_delete",sourceCardId:c.id,actor:o}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const sm=(c,s,u,o)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(f=>f.isFaceUp&&(f.value===0||f.value===1)).length>0?{newState:{...u,actionRequired:{type:"select_low_value_card_to_delete",sourceCardId:c.id,actor:o}}}:{newState:$(u,o,"Death-4: No valid targets (face-up card with value 0 or 1) found.")};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const dm=(c,s,u,o)=>{if([...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(i=>i.id!==c.id).length>0)return{newState:{...u,actionRequired:{type:"select_any_other_card_to_flip",sourceCardId:c.id,draws:2,actor:o}}};{let i=$(u,o,"Fire-0: No other cards to flip, drawing 2 cards.");return i=Ne(i,o,2),{newState:i}}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const fm=(c,s,u,o)=>{let d={...u};return d[o].hand.length>0&&(d.actionRequired={type:"discard",player:o,count:1,sourceCardId:c.id,sourceEffect:"fire_1"}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const pm=(c,s,u,o)=>{let d={...u};return d[o].hand.length>0&&(d.actionRequired={type:"discard",player:o,count:1,sourceCardId:c.id,sourceEffect:"fire_2"}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const hm=(c,s,u,o)=>u[o].hand.length>0?{newState:{...u,actionRequired:{type:"select_cards_from_hand_to_discard_for_fire_4",sourceCardId:c.id,actor:o}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const _m=(c,s,u,o)=>{const d=o==="player"?"opponent":"player",i=u[o].lanes[s].length,f=u[d].lanes[s].length,h=i+f,_=Math.floor(h/2);if(_===0)return{newState:u};let p={...u};const m={...p[o]},{drawnCards:S,remainingDeck:b,newDiscard:R}=fa(m.deck,m.discard,_);if(S.length===0)return{newState:p};const E=S.map(X=>({...X,id:Qt(),isFaceUp:!1})),j=[...m.lanes[s]];j.splice(j.length-1,0,...E);const H=[...m.lanes];return H[s]=j,p[o]={...m,lanes:H,deck:b,discard:R},p=$(p,o,`Gravity-0: Plays ${S.length} card(s) face-down under itself.`),{newState:p}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const ym=(c,s,u,o)=>{let d=Ne(u,o,2);return d=$(d,o,"Gravity-1: Draw 2 cards."),[...d.player.lanes.flat(),...d.opponent.lanes.flat()].length>0&&(d.actionRequired={type:"select_card_to_shift_for_gravity_1",sourceCardId:c.id,sourceLaneIndex:s,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const mm=(c,s,u,o)=>{let d={...u};return[...d.player.lanes.flat(),...d.opponent.lanes.flat()].length>0&&(d.actionRequired={type:"select_card_to_flip_and_shift_for_gravity_2",sourceCardId:c.id,targetLaneIndex:s,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const vm=(c,s,u,o)=>{let d={...u};return[...d.player.lanes.flat(),...d.opponent.lanes.flat()].filter(f=>!f.isFaceUp).length>0&&(d.actionRequired={type:"select_face_down_card_to_shift_for_gravity_4",sourceCardId:c.id,targetLaneIndex:s,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const gm=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};const f={...i[d]},h=f.lanes[s],_=h.length>0?h[h.length-1]:null,{drawnCards:p,remainingDeck:m,newDiscard:S}=fa(f.deck,f.discard,1);if(p.length>0){const b={...p[0],id:Qt(),isFaceUp:!1},R=[...f.lanes];R[s]=[...R[s],b],i[d]={...f,lanes:R,deck:m,discard:S};const E=i[d].protocols[s];i=$(i,o,`Gravity-6: Opponent plays the top card of their deck face-down into Protocol ${E}.`);let j={newState:i};if(_){const H=`${_.protocol}-${_.value}`,X=ec[H];if(X){const P=X(_,s,j.newState,d);j.newState=P.newState,P.animationRequests&&(j.animationRequests=[...j.animationRequests||[],...P.animationRequests])}}return j}return{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Sm=(c,s,u,o)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].length>0?{newState:{...u,actionRequired:{type:"select_card_to_flip_for_light_0",sourceCardId:c.id,actor:o}}}:{newState:u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const bm=(c,s,u,o)=>{let d=Ne(u,o,2);return d=$(d,o,"Light-2: Draw 2 cards."),[...d.player.lanes.flat(),...d.opponent.lanes.flat()].filter(f=>!f.isFaceUp).length>0&&(d.actionRequired={type:"select_face_down_card_to_reveal_for_light_2",sourceCardId:c.id,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const wm=(c,s,u,o)=>{let d={...u};return[...d[o].lanes[s],...d[o==="player"?"opponent":"player"].lanes[s]].filter(f=>!f.isFaceUp).length>0&&(d.actionRequired={type:"select_lane_to_shift_cards_for_light_3",sourceCardId:c.id,sourceLaneIndex:s,actor:o}),{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Cm=(c,s,u,o)=>{const d=o==="player"?"opponent":"player";let i={...u};return{...i[d]}.hand.length>0&&(i.actionRequired={type:"reveal_opponent_hand",sourceCardId:c.id,actor:o}),{newState:i}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Rm=(c,s,u,o)=>[...u.player.lanes.flat(),...u.opponent.lanes.flat()].filter(i=>i.id!==c.id).length>0?{newState:{...u,actionRequired:{type:"select_any_other_card_to_flip_for_water_0",sourceCardId:c.id,actor:o}}}:{newState:jt(new Set([c.id]),u)};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Am=(c,s,u,o)=>{let d={...u};const i={...d[o]},f=[0,1,2].filter(R=>R!==s);if(f.length===0)return{newState:d};const h=f.map(R=>{const E=d[o].lanes[R];return E.length>0?{card:E[E.length-1],laneIndex:R}:null}).filter(R=>R!==null),{drawnCards:_,remainingDeck:p,newDiscard:m}=fa(i.deck,i.discard,f.length);if(_.length===0)return{newState:d};const S=[...i.lanes];for(let R=0;R<_.length;R++){const E=f[R],j={..._[R],id:Qt(),isFaceUp:!1};S[E]=[...S[E],j]}d[o]={...i,lanes:S,deck:p,discard:m},d=$(d,o,`Water-1: Plays ${_.length} card(s) face-down in other lines.`);let b={newState:d};for(const{card:R,laneIndex:E}of h){const j=`${R.protocol}-${R.value}`,H=ec[j];if(H){const X=H(R,E,b.newState,o);if(b.newState=X.newState,X.animationRequests&&(b.animationRequests=[...b.animationRequests||[],...X.animationRequests]),b.newState.actionRequired)break}}return b};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const xm=(c,s,u,o)=>{let d=Ne(u,o,2);return d=$(d,o,"Water-2: Draw 2 cards."),d.actionRequired={type:"prompt_rearrange_protocols",sourceCardId:c.id,target:o,actor:o},{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Dm=(c,s,u,o)=>({newState:{...u,actionRequired:{type:"select_lane_for_water_3",sourceCardId:c.id,actor:o}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Tm=(c,s,u,o)=>({newState:{...u,actionRequired:{type:"select_own_card_to_return_for_water_4",sourceCardId:c.id,actor:o}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const qm={"Apathy-1":my,"Apathy-3":vy,"Apathy-4":gy,"Apathy-5":ot,"Darkness-0":Sy,"Darkness-1":by,"Darkness-2":wy,"Darkness-3":Cy,"Darkness-4":Ry,"Darkness-5":ot,"Death-0":om,"Death-2":im,"Death-3":um,"Death-4":sm,"Death-5":ot,"Fire-0":dm,"Fire-1":fm,"Fire-2":pm,"Fire-4":hm,"Fire-5":ot,"Gravity-0":_m,"Gravity-1":ym,"Gravity-2":mm,"Gravity-4":vm,"Gravity-5":ot,"Gravity-6":gm,"Hate-0":nm,"Hate-1":cm,"Hate-2":rm,"Hate-5":ot,"Life-0":Oy,"Life-1":Ny,"Life-2":Uy,"Life-4":My,"Life-5":ot,"Light-0":Sm,"Light-2":bm,"Light-3":wm,"Light-4":Cm,"Light-5":ot,"Love-1":jy,"Love-2":zy,"Love-3":Hy,"Love-4":ky,"Love-5":ot,"Love-6":Ly,"Metal-0":Yy,"Metal-1":By,"Metal-3":Vy,"Metal-5":ot,"Plague-0":Gy,"Plague-1":$y,"Plague-2":Xy,"Plague-3":Qy,"Plague-5":ot,"Psychic-0":Zy,"Psychic-2":Fy,"Psychic-3":Ky,"Psychic-5":ot,"Speed-0":Py,"Speed-1":Jy,"Speed-3":Iy,"Speed-4":Wy,"Speed-5":ot,"Spirit-0":em,"Spirit-1":tm,"Spirit-2":am,"Spirit-4":lm,"Spirit-5":ot,"Water-0":Rm,"Water-1":Am,"Water-2":xm,"Water-3":Dm,"Water-4":Tm,"Water-5":ot};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Em=(c,s)=>({newState:{...s,actionRequired:{type:"prompt_death_1_effect",sourceCardId:c.id,optional:!0,actor:s.turn}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Om=(c,s)=>{const u=s.turn,o=`${c.protocol}-${c.value}`;let d=$(s,u,`${o} Start Phase: Flipping itself.`);return d=jt(new Set([c.id]),d),d.animationState={type:"flipCard",cardId:c.id},{newState:d}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Nm=(c,s)=>({newState:{...s,actionRequired:{type:"prompt_spirit_1_start",sourceCardId:c.id,actor:s.turn}}});/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Um={"Death-1":Em,"Psychic-1":Om,"Spirit-1":Nm};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Mm=(c,s)=>{const u=s.turn;return s[u==="player"?"opponent":"player"].lanes.flat().filter(i=>!i.isFaceUp).length>0?{newState:{...s,actionRequired:{type:"plague_4_opponent_delete",sourceCardId:c.id,actor:u}}}:{newState:{...s,actionRequired:{type:"plague_4_player_flip_optional",sourceCardId:c.id,optional:!0,actor:u}}}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const jm=(c,s)=>{let u=Ne(s,s.turn,1);return u=$(u,s.turn,"Light-1 End Phase: Draw 1 card."),{newState:u}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const zm=(c,s)=>{const u=s.turn;return s[u].hand.length>0?{newState:{...s,actionRequired:{type:"prompt_fire_3_discard",sourceCardId:c.id,optional:!0,actor:u}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Hm=(c,s)=>{const u=s.turn;return s[u].lanes.flat().length>0?{newState:{...s,actionRequired:{type:"prompt_shift_for_speed_3",sourceCardId:c.id,optional:!0,actor:u}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const km=(c,s)=>{const u=s.turn;return s[u].hand.length>0?{newState:{...s,actionRequired:{type:"prompt_give_card_for_love_1",sourceCardId:c.id,optional:!0,actor:u}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Lm=(c,s)=>{const u=s.turn;return s[u==="player"?"opponent":"player"].lanes.flat().length>0?{newState:{...s,actionRequired:{type:"prompt_return_for_psychic_4",sourceCardId:c.id,optional:!0,actor:u}}}:{newState:s}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ym={"Plague-4":Mm,"Light-1":jm,"Fire-3":zm,"Speed-3":Hm,"Love-1":km,"Psychic-4":Lm};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function au(c,s,u,o){const d=u[o].lanes[s];if(!d.find(b=>b.id===c.id))return{newState:u};if(!(d.length>0&&d[d.length-1].id===c.id))return{newState:u};const h=o==="player"?"opponent":"player",_=u[o].lanes[s].some(b=>b.isFaceUp&&b.protocol==="Apathy"&&b.value===2&&b.id!==c.id),p=u[h].lanes[s].some(b=>b.isFaceUp&&b.protocol==="Apathy"&&b.value===2);if(_||p)return{newState:u};const m=`${c.protocol}-${c.value}`,S=qm[m];if(S){const b=S(c,s,u,o),R=pt(b.newState);return{...b,newState:R}}return{newState:u}}function Bm(c,s,u){if(!c.isFaceUp)return{newState:u};const o=["player","opponent"];let d=null;for(const h of o)if(u[h].lanes[s].some(_=>_.id===c.id)){d=h;break}if(!d)return console.error("Could not find owner for onCover effect card",c),{newState:u};const i=`${c.protocol}-${c.value}`,f=ec[i];if(f){const h=f(c,s,u,d),_=pt(h.newState);return{...h,newState:_}}return{newState:u}}function Tp(c){const s=c.turn;let u={...c};const o=u.processedStartEffectIds||[],d=u[s].lanes.map(i=>i.length>0?i[i.length-1]:null).filter(i=>i!==null&&i.isFaceUp&&(i.top.includes("'emphasis'>Start:")||i.bottom.includes("'emphasis'>Start:"))&&!o.includes(i.id));for(const i of d){const f=`${i.protocol}-${i.value}`,h=Um[f];if(h){const _=h(i,u);if(u=pt(_.newState),u.processedStartEffectIds=[...u.processedStartEffectIds||[],i.id],u.actionRequired)return{newState:u}}}return{newState:u}}function Vm(c){const s=c.turn;let u={...c};const o=u.processedEndEffectIds||[],d=u[s].lanes.map(i=>i.length>0?i[i.length-1]:null).filter(i=>i!==null&&i.isFaceUp&&i.bottom.includes("'emphasis'>End:")&&!o.includes(i.id));for(const i of d){const f=`${i.protocol}-${i.value}`,h=Ym[f];if(h){const _=h(i,u);if(u=pt(_.newState),u.processedEndEffectIds=[...u.processedEndEffectIds||[],i.id],u.actionRequired)return{newState:u}}}return{newState:u}}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function Oe(c,s){if(!s)return null;for(const u of["player","opponent"])for(const o of c[u].lanes){const d=o.find(i=>i.id===s);if(d)return{card:d,owner:u}}return null}function op(c,s,u,o){var h;if(!u||!o)return c;let d={...c};const i=(h=Oe(d,o))==null?void 0:h.card,f=i?`${i.protocol}-${i.value}`:"A card effect";switch(u){case"fire_1":d=$(d,s,`${f}: Discard successful. Prompting to delete 1 card.`),d.actionRequired={type:"select_cards_to_delete",count:1,sourceCardId:o,disallowedIds:[o],actor:s};break;case"fire_2":d=$(d,s,`${f}: Discard successful. Prompting to return 1 card.`),d.actionRequired={type:"select_card_to_return",sourceCardId:o,actor:s};break;case"fire_3":d=$(d,s,`${f}: Discard successful. Prompting to flip 1 card.`),d.actionRequired={type:"select_card_to_flip_for_fire_3",sourceCardId:o,actor:s};break}return d}function wt(c,s,u=null){const o=Oe(c,s);if(!o)return c;const{card:d,owner:i}=o,f=c.turn,h=f==="player"?"Player":"Opponent",_=i==="player"?"Player's":"Opponent's",p=d.isFaceUp?"face-down":"face-up",m=d.isFaceUp?`${d.protocol}-${d.value}`:"a face-down card";let S=$(c,f,`${h} flips ${_} ${m} ${p}.`);return S=jt(new Set([s]),S),S.animationState={type:"flipCard",cardId:s},S.actionRequired=u,S}function Pi(c,s){const u=Oe(c,s);if(!u)return c;const{card:o,owner:d}=u;let i={...c};const f={...i[d]};f.lanes=f.lanes.map(S=>S.filter(b=>b.id!==s)),f.hand=[...f.hand,{...o,isFaceUp:!0,isRevealed:!1}],i[d]=f;const h=i.turn,_=h==="player"?"Player":"Opponent",p=d==="player"?"Player's":"Opponent's",m=`${o.protocol}-${o.value}`;return i=$(i,h,`${_} returns ${p} ${m} to their hand.`),i.actionRequired=null,pt(i)}function Fl(c,s,u,o,d){let i={...c};const f={...i[u]},h=f.lanes.flat().find(E=>E.id===s);if(!h)return c;let _=-1;if(f.lanes=f.lanes.map((E,j)=>E.some(H=>H.id===s)?(_=j,E.filter(H=>H.id!==s)):E),_===-1)return c;const p=f.lanes[o].length>0?f.lanes[o][f.lanes[o].length-1]:null;f.lanes[o]=[...f.lanes[o],h],i[u]=f;const m=d==="player"?"Player":"Opponent",S=u==="player"?"Player's":"Opponent's",b=h.isFaceUp?`${h.protocol}-${h.value}`:"a card",R=i[u].protocols[o];if(i=$(i,d,`${m} shifts ${S} ${b} to Protocol ${R}.`),i.actionRequired=null,i=pt(i),p){const E=`${p.protocol}-${p.value}`,j=ec[E];j&&(i=j(p,o,i,u).newState)}return i}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Gm=(c,s)=>{if(c[s].lanes.flat().some(d=>d.isFaceUp&&d.protocol==="Speed"&&d.value===1)){let d={...c};return d=$(d,s,"Speed-1 triggers after clearing cache: Draw 1 card."),d=Ne(d,s,1),d}return c},Pl=c=>{if(c.winner)return c;const s=c.turn;let u={...c};switch(c.phase){case"start":return u=Tp(u).newState,u.actionRequired?u:{...u,phase:"control"};case"control":return{...u,phase:"compile"};case"compile":{const o=Dp(u,s);return o.length>0?{...u,compilableLanes:o}:{...u,phase:"action",compilableLanes:[]}}case"action":return{...u,phase:"hand_limit"};case"hand_limit":{const o=u[s];return o.lanes.some(f=>f.length>0&&f[f.length-1].isFaceUp&&f[f.length-1].protocol==="Spirit"&&f[f.length-1].value===0)?{...$(u,s,"Spirit-0: Skipping Check Cache phase."),phase:"end"}:o.hand.length>5?{...u,actionRequired:{type:"discard",player:s,count:o.hand.length-5}}:{...Gm(u,s),phase:"end"}}case"end":{const o={...u};u=Vm(u).newState;const d=o.actionRequired,i=u.actionRequired;if(i&&i!==d)return u;const f=s==="player"?"opponent":"player",h={...u[s],cannotCompile:!1};return{...u,[s]:h,turn:f,phase:"start",processedStartEffectIds:[],processedEndEffectIds:[]}}}return c},qp=c=>{if(c.winner)return c;if(c._interruptedTurn){const o=c._interruptedTurn;let d={...c};delete d._interruptedTurn,d.turn=o,c=d}if(c.queuedActions&&c.queuedActions.length>0){const o=[...c.queuedActions],d=o.shift();return{...c,actionRequired:d,queuedActions:o}}if(c.queuedEffect){const{card:o,laneIndex:d}=c.queuedEffect,i={...c,queuedEffect:void 0},f=Oe(i,o.id);if(f){const{card:h,owner:_}=f,{newState:p}=au(h,d,i,_);if(p.actionRequired)return p;c=p}else console.error("Queued effect card not found on board!")}let s={...c,phase:"hand_limit",compilableLanes:[]};const u=c.turn;for(;s.turn===u&&!s.winner;){const o=s.actionRequired,d=s.phase;s=Pl(s);const i=s.actionRequired;if(i&&i!==o)break;if(s.phase===d&&s.turn===u){console.error("Game is stuck in a phase loop:",s.phase);break}}return s},lu=c=>{if(c.winner)return c;let s={...c};const u=s.turn;for(;s.turn===u&&!s.actionRequired&&!s.winner;){const o=s.phase;if(o==="action")break;if(o==="compile"){const i=Dp(s,u);if(i.length>0){s={...s,compilableLanes:i};break}}const d=s.phase;if(s=Pl(s),d===s.phase&&!s.actionRequired){console.error("Game is stuck in an automatic phase loop:",d);break}}return s},vr=c=>{let s={...c,actionRequired:null};const u=Tp(s).newState;if(u.actionRequired)return u;let o=u;return o=Pl({...o,phase:"control"}),o.actionRequired||(o=Pl(o)),o},Ep=c=>{if(c.winner)return c;let s={...c,phase:"start"};return s=Pl(s),s.actionRequired?s:lu(s)},ip=Object.freeze(Object.defineProperty({__proto__:null,advancePhase:Pl,continueTurnAfterStartPhaseAction:vr,continueTurnProgression:lu,processEndOfAction:qp,processStartOfTurn:Ep},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const La=(c,s)=>{if(c[s].lanes.flat().some(d=>d.isFaceUp&&d.protocol==="Hate"&&d.value===3)){let d={...c};return d=$(d,s,"Hate-3 triggers: Draw 1 card."),d=Ne(d,s,1),d}return c};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function $m(c,s,u){const o=Oe(c,s);if(o&&o.card.protocol==="Metal"&&o.card.value===6){$(c,c.turn,"Metal-6 effect triggers on flip: deleting itself.");const d=(i,f)=>{let h=La(i,c.turn);if(u&&"count"in u&&u.count>1){const _=u.count-1;return h.actionRequired={...u,count:_},h}if(h.actionRequired=null,h.queuedActions&&h.queuedActions.length>0){const _=[...h.queuedActions],p=_.shift();return{...h,actionRequired:p,queuedActions:_}}return f(h)};return{nextState:{...c,actionRequired:null},requiresAnimation:{animationRequests:[{type:"delete",cardId:s,owner:o.owner}],onCompleteCallback:d},requiresTurnEnd:!1}}return null}const Op=(c,s)=>{var f;if(!c.actionRequired)return{nextState:c};let u={...c},o=!0,d=null;const i=$m(c,s,c.actionRequired);if(i)return i;switch(c.actionRequired.type){case"select_opponent_face_up_card_to_flip":case"select_own_face_up_covered_card_to_flip":u=wt(c,s);break;case"select_opponent_card_to_flip":{const{actor:h}=c.actionRequired;u=wt(c,s,{type:"shift_flipped_card_optional",cardId:s,sourceCardId:c.actionRequired.sourceCardId,optional:!0,actor:h}),o=!1;break}case"select_own_covered_card_in_lane_to_flip":u=wt(c,s);break;case"shift_flipped_card_optional":case"select_opponent_covered_card_to_shift":case"select_face_down_card_to_shift_for_darkness_4":case"select_own_other_card_to_shift":case"select_any_opponent_card_to_shift":{const{actor:h}=c.actionRequired,_=Oe(c,s);if(_){const{owner:p}=_;let m=-1;for(let S=0;S<c[p].lanes.length;S++)if(c[p].lanes[S].some(b=>b.id===s)){m=S;break}if(m!==-1){const S={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:p,originalLaneIndex:m,sourceCardId:c.actionRequired.sourceCardId,actor:h};u.actionRequired=S}}o=!1;break}case"select_opponent_face_down_card_to_shift":{const{actor:h}=c.actionRequired,_=Oe(c,s);if(_){const{owner:p}=_;let m=-1;for(let S=0;S<c[p].lanes.length;S++)if(c[p].lanes[S].some(b=>b.id===s)){m=S;break}if(m!==-1){const S={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:p,originalLaneIndex:m,sourceCardId:c.actionRequired.sourceCardId,actor:h};u.actionRequired=S}}o=!1;break}case"select_own_card_to_shift_for_speed_3":{const{actor:h}=c.actionRequired,_=Oe(c,s);if(_){const{owner:p}=_;let m=-1;for(let S=0;S<c[p].lanes.length;S++)if(c[p].lanes[S].some(b=>b.id===s)){m=S;break}if(m!==-1){const S={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:p,originalLaneIndex:m,sourceCardId:c.actionRequired.sourceCardId,actor:h,sourceEffect:"speed_3_end"};u.actionRequired=S}}o=!1;break}case"select_card_to_delete_for_death_1":{const{sourceCardId:h,actor:_}=c.actionRequired,p=Oe(c,s),m=Oe(c,h);if(!p||!m)return{nextState:c};const S=_==="player"?"Player":"Opponent",b=p.owner==="player"?"Player's":"Opponent's",R=p.card.isFaceUp?`${p.card.protocol}-${p.card.value}`:"a face-down card";u=$(u,_,`Death-1: ${S} deletes ${b} ${R} and the Death-1 card itself.`),u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:p.owner},{type:"delete",cardId:h,owner:m.owner}],onCompleteCallback:(E,j)=>{let H=La(E,_);if(H=La(H,_),H.actionRequired=null,H.queuedActions&&H.queuedActions.length>0){const X=[...H.queuedActions],P=X.shift();return{...H,actionRequired:P,queuedActions:X}}return j(H)}},o=!1;break}case"select_cards_to_delete":case"select_face_down_card_to_delete":case"select_low_value_card_to_delete":{const h=Oe(c,s);if(!h)return{nextState:c};const _=c.turn==="player"?"Player":"Opponent",p=h.owner==="player"?"Player's":"Opponent's",m=h.card.isFaceUp?`${h.card.protocol}-${h.card.value}`:"a face-down card",S=Oe(c,c.actionRequired.sourceCardId),b=S?`${S.card.protocol}-${S.card.value}`:"a card effect";u=$(u,c.turn,`${b}: ${_} deletes ${p} ${m}.`),u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:h.owner}],onCompleteCallback:(R,E)=>{var X;const j=c.turn;let H=La(R,j);if(((X=c.actionRequired)==null?void 0:X.type)==="select_cards_to_delete"){const P=c.actionRequired.count-1;if(P>0)return H.actionRequired={...c.actionRequired,count:P,disallowedIds:[...c.actionRequired.disallowedIds,s]},H}if(H.actionRequired=null,H.queuedActions&&H.queuedActions.length>0){const P=[...H.queuedActions],L=P.shift();return{...H,actionRequired:L,queuedActions:P}}return E(H)}},o=!1;break}case"select_card_from_other_lanes_to_delete":{const h=Oe(c,s);if(!h)return{nextState:c};let _=-1;for(let E=0;E<c[h.owner].lanes.length;E++)if(c[h.owner].lanes[E].some(j=>j.id===s)){_=E;break}if(_===-1)return{nextState:c};const p=c.turn==="player"?"Player":"Opponent",m=h.owner==="player"?"Player's":"Opponent's",S=h.card.isFaceUp?`${h.card.protocol}-${h.card.value}`:"a face-down card",b=Oe(c,c.actionRequired.sourceCardId),R=b?`${b.card.protocol}-${b.card.value}`:"a card effect";u=$(u,c.turn,`${R}: ${p} deletes ${m} ${S}.`),u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:h.owner}],onCompleteCallback:(E,j)=>{let H=La(E,c.turn);const X=c.actionRequired;if((X==null?void 0:X.type)!=="select_card_from_other_lanes_to_delete")return j(H);const P=X.count-1;if(P>0)return{...H,actionRequired:{...X,lanesSelected:[...X.lanesSelected,_],count:P}};{let L={...H,actionRequired:null};if(L.queuedActions&&L.queuedActions.length>0){const J=[...L.queuedActions],k=J.shift();return{...L,actionRequired:k,queuedActions:J}}return j(L)}}},o=!1;break}case"plague_4_opponent_delete":{const{actor:h}=c.actionRequired,_=Oe(c,s);if(!_)return{nextState:c};const p=h==="player"?"opponent":"player";if(_.owner===p&&!_.card.isFaceUp){const m=p==="player"?"Player":"Opponent",S=`${_.card.protocol}-${_.card.value}`;u=$(u,p,`Plague-4: ${m} deletes their face-down card (${S}).`),u.actionRequired=null,d={animationRequests:[{type:"delete",cardId:s,owner:_.owner}],onCompleteCallback:(b,R)=>({...b,actionRequired:{type:"plague_4_player_flip_optional",sourceCardId:c.actionRequired.sourceCardId,optional:!0,actor:h}})}}o=!1;break}case"select_any_other_card_to_flip":{const{draws:h,sourceCardId:_}=c.actionRequired;if(u=wt(c,s),h>0){const p=Oe(u,_),m=p?`${p.card.protocol}-${p.card.value}`:"a card effect";u=$(u,u.turn,`${m}: Draw ${h} card(s).`),u=Ne(u,u.turn,h)}break}case"select_card_to_return":case"select_opponent_card_to_return":{if(u=Pi(c,s),c.actionRequired.type==="select_opponent_card_to_return"&&c.actionRequired.sourceCardId){const h=c.actionRequired.sourceCardId;u=$(u,c.turn,"Psychic-4: Flipping itself."),u=jt(new Set([h]),u),u.animationState={type:"flipCard",cardId:h}}break}case"select_card_to_flip_for_fire_3":u=wt(c,s);break;case"select_card_to_shift_for_gravity_1":{const{sourceLaneIndex:h,sourceCardId:_,actor:p}=c.actionRequired,m=Oe(c,s);if(!m)return{nextState:c};let S=-1;for(let b=0;b<c[m.owner].lanes.length;b++)if(c[m.owner].lanes[b].some(R=>R.id===s)){S=b;break}S===h?(u.actionRequired={type:"select_lane_for_shift",cardToShiftId:s,cardOwner:m.owner,originalLaneIndex:h,sourceCardId:_,actor:p},o=!1):u=Fl(c,s,m.owner,h,c.turn);break}case"select_card_to_flip_and_shift_for_gravity_2":{const{targetLaneIndex:h,actor:_}=c.actionRequired,p=Oe(c,s);if(!p)return{nextState:c};const{card:m,owner:S}=p,b=_==="player"?"Player":"Opponent",R=S==="player"?"Player's":"Opponent's",E=m.isFaceUp?"face-down":"face-up",j=m.isFaceUp?`${m.protocol}-${m.value}`:"a face-down card";let H=$(c,_,`${b} flips ${R} ${j} ${E}.`),X=jt(new Set([s]),H);X.animationState={type:"flipCard",cardId:s},u=Fl(X,s,p.owner,h,_),u.actionRequired=null;break}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:h,actor:_}=c.actionRequired,p=Oe(c,s);if(!p||p.card.isFaceUp)return{nextState:c};u=Fl(c,s,p.owner,h,_);break}case"select_any_card_to_flip":{const h=c.actionRequired.count-1;let _=null;h>0&&(_={...c.actionRequired,count:h}),u=wt(c,s,_),u.actionRequired||u.queuedActions&&u.queuedActions.length>0?o=!1:o=h<=0;break}case"select_any_card_to_flip_optional":case"select_any_face_down_card_to_flip_optional":u=wt(c,s);break;case"select_card_to_flip_for_light_0":{if(!((f=Oe(c,s))==null?void 0:f.card))return{nextState:c};const _=wt(c,s),p=Oe(_,s).card,m=p.isFaceUp?p.value:2;u=Ne(_,c.turn,m),u=$(u,c.turn,`Light-0: Drawing ${m} card(s).`);break}case"select_face_down_card_to_reveal_for_light_2":{const{actor:h}=c.actionRequired;u=wt(c,s,{type:"prompt_shift_or_flip_for_light_2",sourceCardId:c.actionRequired.sourceCardId,revealedCardId:s,optional:!0,actor:h}),o=!1;break}case"select_any_other_card_to_flip_for_water_0":{const h=wt(c,s),_=c.actionRequired.sourceCardId;u=wt(h,_),u=$(u,c.turn,"Water-0: Flips itself.");break}case"select_own_card_to_return_for_water_4":{const h=Oe(c,s);h&&h.owner===c.turn&&(u=Pi(c,s));break}default:return{nextState:c}}return(u.actionRequired||u.queuedActions&&u.queuedActions.length>0)&&(o=!1),{nextState:u,requiresAnimation:d,requiresTurnEnd:o}},up=(c,s)=>{const u=c.actionRequired;if((u==null?void 0:u.type)==="select_opponent_card_to_flip"){const{actor:d}=u;return wt(c,s,{type:"shift_flipped_card_optional",cardId:s,sourceCardId:u.sourceCardId,optional:!0,actor:d})}return wt(c,s)},sp=(c,s)=>Pi(c,s);/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ji=(c,s,u,o,d)=>{const f={...c[d]}.hand.find(L=>L.id===s);if(!f)return{newState:c};if(c[d==="player"?"opponent":"player"].lanes[u].some(L=>L.isFaceUp&&L.protocol==="Plague"&&L.value===0))return{newState:c};let p={newState:c};const m=c[d].lanes[u];if(m.length>0){const L=m[m.length-1];p=Bm(L,u,c)}const S=p.newState,b={...S[d]};b.hand=b.hand.filter(L=>L.id!==s);const R=[...b.lanes],E={...f,isFaceUp:o,isRevealed:!1};R[u]=[...R[u],E],b.lanes=R;let j={...S,[d]:b};j.lastPlayedCardId=E.id,j=pt(j);const H=d==="player"?"Player":"Opponent",X=j[d].protocols[u];let P;if(d==="opponent"&&!o)P=`${H} plays a face-down card into Protocol ${X}.`;else{const L=`${f.protocol}-${f.value}`;P=`${H} plays ${L}`,o||(P+=" face-down"),P+=` into Protocol ${X}.`}if(j=$(j,d,P),S.actionRequired)return o&&(j.queuedEffect={card:E,laneIndex:u}),{newState:j,animationRequests:p.animationRequests};{if(d==="opponent")return o&&(j.queuedEffect={card:E,laneIndex:u}),{newState:j,animationRequests:p.animationRequests};let L={newState:j};o&&(L=au(E,u,j,d));const J=[...p.animationRequests||[],...L.animationRequests||[]];return{newState:L.newState,animationRequests:J.length>0?J:void 0}}},dp=(c,s)=>{const u=c[s];if(u.hand.length>=5)return c;const o=5-u.hand.length;if(o<=0)return c;const{drawnCards:d,remainingDeck:i,newDiscard:f,reshuffled:h}=fa(u.deck,u.discard,o);if(d.length===0)return c;const _=d.map(R=>({...R,id:Qt(),isFaceUp:!0})),p=_.map(R=>R.id),m={...u,deck:i,discard:f,hand:[...u.hand,..._]};let S={...c,[s]:m,animationState:{type:"drawCard",owner:s,cardIds:p}};return h&&(S=$(S,s,`${s==="player"?"Player":"Opponent"}'s deck is empty. Discard pile has been reshuffled into the deck.`)),S=$(S,s,`${s==="player"?"Player":"Opponent"} fills their hand, drawing ${o} card(s).`),S=tu(S,s),S};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const nu=(c,s)=>{if(!c.actionRequired)return{nextState:c};let u={...c},o=null;switch(c.actionRequired.type){case"select_lane_for_shift":{const{cardToShiftId:d,cardOwner:i,actor:f,sourceEffect:h}=c.actionRequired;if(u=Fl(c,d,i,s,f),h==="speed_3_end"){const _=c.actionRequired.sourceCardId;u=$(u,f,"Speed-3: Flipping itself after shifting a card."),u=jt(new Set([_]),u),u.animationState={type:"flipCard",cardId:_}}break}case"shift_flipped_card_optional":{const d=c.actionRequired.cardId,i=c.turn==="player"?"opponent":"player";u=Fl(c,d,i,s,c.turn);break}case"select_lane_for_play":{const{cardInHandId:d,isFaceDown:i,actor:f}=c.actionRequired,h=c[f].hand.find(m=>m.id===d);if(!h){console.error("Card for play not found in hand"),u.actionRequired=null;break}let _;typeof i=="boolean"?_=!i:_=c[f].lanes.flat().some(S=>S.isFaceUp&&S.protocol==="Spirit"&&S.value===1)||h.protocol===c[f].protocols[s];const{newState:p}=Ji(c,d,s,_,f);u=p,u.actionRequired=null;break}case"select_lane_for_death_2":{const d=c.turn,i=d==="player"?"Player":"Opponent",f=c.player.protocols[s];u=$(u,d,`Death-2: ${i} targets Protocol ${f}.`);const h=[],_=[];for(const p of["player","opponent"]){const m=c[p],S=m.lanes[s].some(b=>b.isFaceUp&&b.protocol==="Darkness"&&b.value===2)?4:2;for(const b of m.lanes[s]){const R=b.isFaceUp?b.value:S;if(R===1||R===2){h.push({type:"delete",cardId:b.id,owner:p});const E=p==="player"?"Player's":"Opponent's",j=b.isFaceUp?`${b.protocol}-${b.value}`:"a face-down card";_.push(`${E} ${j}`)}}}if(_.length>0){const p=Oe(c,c.actionRequired.sourceCardId),m=p?`${p.card.protocol}-${p.card.value}`:"Death-2";u=$(u,d,`${m}: Deleting ${_.join(", ")}.`)}u.actionRequired=null,h.length>0&&(o={animationRequests:h,onCompleteCallback:(p,m)=>{let S=La(p,c.turn);if(S.queuedActions&&S.queuedActions.length>0){const b=[...S.queuedActions],R=b.shift();return{...S,actionRequired:R,queuedActions:b}}return m(S)}});break}case"select_lane_for_metal_3_delete":{const d=c.turn,i=d==="player"?"Player":"Opponent",f=c.player.protocols[s];u=$(u,d,`Metal-3: ${i} targets Protocol ${f} for deletion.`);const h=[];for(const _ of["player","opponent"])for(const p of c[_].lanes[s])h.push({type:"delete",cardId:p.id,owner:_});u.actionRequired=null,h.length>0&&(o={animationRequests:h,onCompleteCallback:(_,p)=>{let m=_;for(let S=0;S<h.length;S++)m=La(m,c.turn);if(m.queuedActions&&m.queuedActions.length>0){const S=[...m.queuedActions],b=S.shift();return{...m,actionRequired:b,queuedActions:S}}return p(m)}});break}case"select_lane_for_life_3_play":{const{actor:d}=c.actionRequired,i={...c[d]},{drawnCards:f,remainingDeck:h,newDiscard:_}=fa(i.deck,i.discard,1);if(f.length>0){const p={...f[0],id:Qt(),isFaceUp:!1},m=[...i.lanes];m[s]=[...m[s],p];const S={...i,lanes:m,deck:h,discard:_};u={...c,[d]:S,actionRequired:null},u=$(u,d,"Life-3 On-Cover: Plays a card face-down.")}else u.actionRequired=null;break}case"select_lane_to_shift_revealed_card_for_light_2":{const{revealedCardId:d,actor:i}=c.actionRequired,f=Oe(c,d);f&&(u=Fl(c,d,f.owner,s,i));break}case"select_lane_to_shift_cards_for_light_3":{const{sourceLaneIndex:d,actor:i}=c.actionRequired,f=i==="player"?"opponent":"player",h=c[i].lanes[d].filter(b=>!b.isFaceUp),_=c[f].lanes[d].filter(b=>!b.isFaceUp),p=c[i].lanes.map((b,R)=>R===d?b.filter(E=>E.isFaceUp):R===s?[...b,...h]:b),m=c[f].lanes.map((b,R)=>R===d?b.filter(E=>E.isFaceUp):R===s?[...b,..._]:b);u={...c,[i]:{...c[i],lanes:p},[f]:{...c[f],lanes:m},actionRequired:null};const S=h.length+_.length;if(S>0){const b=c[i].protocols[d],R=c[i].protocols[s];u=$(u,i,`Light-3: Shifts ${S} face-down card(s) from Protocol ${b} to Protocol ${R}.`)}break}case"select_lane_for_water_3":{const d=c.turn,i=d==="player"?"opponent":"player",f={...c[d]},h={...c[i]},_=f.lanes[s].filter(R=>Kl(R,f.lanes[s])===2),p=h.lanes[s].filter(R=>Kl(R,h.lanes[s])===2);if(_.length===0&&p.length===0){u={...c,actionRequired:null};break}const m=new Set(_.map(R=>R.id)),S=new Set(p.map(R=>R.id));f.lanes[s]=f.lanes[s].filter(R=>!m.has(R.id)),h.lanes[s]=h.lanes[s].filter(R=>!S.has(R.id)),f.hand.push(..._),h.hand.push(...p),u={...c,[d]:f,[i]:h,actionRequired:null};const b=_.length+p.length;if(b>0){const R=d==="player"?"Player":"Opponent",E=Oe(c,c.actionRequired.sourceCardId),j=E?`${E.card.protocol}-${E.card.value}`:"a card effect";u=$(u,d,`${j}: ${R} returns ${b} card(s) with value 2.`)}break}default:return{nextState:c}}if(!o&&u.actionRequired===null&&u.queuedActions&&u.queuedActions.length>0){const d=[...u.queuedActions],i=d.shift();u={...u,actionRequired:i,queuedActions:d}}return{nextState:pt(u),requiresAnimation:o}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const $i=(c,s)=>{const u=s==="player"?"opponent":"player";if(c[u].lanes.flat().some(i=>i.isFaceUp&&i.protocol==="Plague"&&i.value===1)){let i={...c};return i=$(i,u,"Plague-1 triggers after opponent discards: Draw 1 card."),i=Ne(i,u,1),i}return c};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const nl=(c,s,u)=>{var E,j,H;const o=c[u],d=new Set(s),i=o.hand.filter(X=>d.has(X.id));if(i.length===0)return c;const f=o.hand.filter(X=>!d.has(X.id)),h=[...o.discard,...i.map(({id:X,isFaceUp:P,...L})=>L)],_=((E=c.animationState)==null?void 0:E.type)==="discardCard"&&((j=c.animationState.originalAction)==null?void 0:j.type)==="discard"?c.animationState.originalAction:((H=c.actionRequired)==null?void 0:H.type)==="discard"?c.actionRequired:null;let p={...c,[u]:{...o,hand:f,discard:h},actionRequired:null};const m=u==="player"?"Player":"Opponent";let S;if(u==="player"||i.every(X=>X.isRevealed)){const X=i.map(P=>`${P.protocol}-${P.value}`).join(", ");S=`${m} discards ${X}.`}else{const X=i.length===1?"card":"cards";S=`${m} discards ${i.length} ${X}.`}if(p=$(p,u,S),_&&_.player===u){const X=_.count-s.length;if(X>0)return p.actionRequired={..._,count:X},p;{const P=$i(p,u);return op(P,u,_.sourceEffect,_.sourceCardId)}}const b=c.actionRequired;if(b&&b.type==="discard"&&b.player===u){const X=b.count-s.length;if(X>0)return p.actionRequired={...b,count:X},p;{const P=$i(p,u);return op(P,u,b.sourceEffect,b.sourceCardId)}}return $i(p,u)},Xm=(c,s)=>{var f;if(((f=c.actionRequired)==null?void 0:f.type)!=="plague_2_player_discard")return c;const u=c.turn,o=u==="player"?"opponent":"player";let d=nl(c,s,u);const i=s.length+1;return d[o].hand.length>0?d.actionRequired={type:"discard",player:o,count:Math.min(i,d[o].hand.length),sourceCardId:c.actionRequired.sourceCardId}:d.actionRequired=null,d},Np=(c,s)=>{var f;if(((f=c.actionRequired)==null?void 0:f.type)!=="plague_2_opponent_discard")return c;const u="opponent",o="player";let d=nl(c,s,u);const i=s.length+1;return d[o].hand.length>0?d.actionRequired={type:"discard",player:o,count:Math.min(i,d[o].hand.length),sourceCardId:c.actionRequired.sourceCardId}:d.actionRequired=null,d},fp=(c,s)=>{var i;if(((i=c.actionRequired)==null?void 0:i.type)!=="select_cards_from_hand_to_discard_for_fire_4")return c;const u=c.turn;let o=nl(c,s,u);const d=s.length+1;return o=$(o,u,`Fire-4: Drawing ${d} card(s).`),o=Ne(o,u,d),o},Xi=(c,s)=>{var i;if(((i=c.actionRequired)==null?void 0:i.type)!=="select_cards_from_hand_to_discard_for_hate_1")return c;const u=c.turn,{sourceCardId:o}=c.actionRequired;let d=nl(c,s,u);return d.actionRequired={type:"select_cards_to_delete",count:2,sourceCardId:o,disallowedIds:[o],actor:u},d};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const pp=(c,s)=>{var i;if(((i=c.actionRequired)==null?void 0:i.type)!=="prompt_death_1_effect")return c;const{sourceCardId:u,actor:o}=c.actionRequired;let d={...c};return s?(d=$(d,o,"Death-1: Player chooses to draw and delete."),d=Ne(d,o,1),d.actionRequired={type:"select_card_to_delete_for_death_1",sourceCardId:u,actor:o}):(d=$(d,o,"Death-1: Player skips the effect."),d.actionRequired=null),d},Qi=(c,s)=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="prompt_give_card_for_love_1")return c;const{actor:u}=c.actionRequired;let o={...c};return s?(o=$(o,u,"Love-1 End: Player chooses to give 1 card to draw 2."),o.actionRequired={type:"select_card_from_hand_to_give",sourceCardId:c.actionRequired.sourceCardId,sourceEffect:"love_1_end",actor:u}):(o=$(o,u,"Love-1 End: Player skips the effect."),o.actionRequired=null),o},hp=(c,s,u)=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="plague_4_player_flip_optional")return c;let o={...c,actionRequired:null};if(s){const{sourceCardId:i}=c.actionRequired;o=$(o,u,`Plague-4: ${u==="player"?"Player":"Opponent"} chooses to flip the card.`),o=jt(new Set([i]),o),o.animationState={type:"flipCard",cardId:i}}else o=$(o,u,`Plague-4: ${u==="player"?"Player":"Opponent"} skips flipping the card.`);return o},_p=(c,s)=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="prompt_fire_3_discard")return c;const{actor:u}=c.actionRequired;let o={...c};return s?(o=$(o,u,"Fire-3 End: Player chooses to discard 1 to flip 1."),o.actionRequired={type:"discard",player:u,count:1,sourceCardId:c.actionRequired.sourceCardId,sourceEffect:"fire_3"}):(o=$(o,u,"Fire-3 End: Player skips the effect."),o.actionRequired=null),o},yp=(c,s)=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="prompt_shift_for_speed_3")return c;const{actor:u}=c.actionRequired;let o={...c};return s?(o=$(o,u,"Speed-3 End: Player chooses to shift a card."),o.actionRequired={type:"select_own_card_to_shift_for_speed_3",sourceCardId:c.actionRequired.sourceCardId,actor:u}):(o=$(o,u,"Speed-3 End: Player skips the shift."),o.actionRequired=null),o},Zi=(c,s)=>{var f;if(((f=c.actionRequired)==null?void 0:f.type)!=="prompt_shift_or_flip_for_light_2")return c;const{actor:u,sourceCardId:o,revealedCardId:d}=c.actionRequired;let i={...c};switch(s){case"shift":i=$(i,u,"Light-2: Player chooses to shift the revealed card."),i.actionRequired={type:"select_lane_to_shift_revealed_card_for_light_2",sourceCardId:o,revealedCardId:d,actor:u};break;case"flip":i=$(i,u,"Light-2: Player chooses to flip the card back face-down."),i=jt(new Set([d]),i),i.animationState={type:"flipCard",cardId:d},i.actionRequired=null;break;case"skip":i=$(i,u,"Light-2: Player chooses to do nothing with the revealed card."),i.actionRequired=null;break}return i},mp=(c,s)=>{var m;if(((m=c.actionRequired)==null?void 0:m.type)!=="prompt_rearrange_protocols")return c;const{target:u,actor:o}=c.actionRequired;let d={...c};const i={...d[u]},f={};i.protocols.forEach((S,b)=>{f[S]=i.compiled[b]});const h=s.map(S=>f[S]);return i.protocols=s,i.compiled=h,d[u]=i,d.actionRequired=null,d=$(d,o,`${o==="player"?"Player":"Opponent"} rearranges ${u==="player"?"Player":"Opponent"}'s protocols.`),pt(d)},vp=(c,s)=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="prompt_return_for_psychic_4")return c;const{actor:u}=c.actionRequired;let o={...c};return s?(o=$(o,u,"Psychic-4 End: Player chooses to return an opponent's card."),o.actionRequired={type:"select_opponent_card_to_return",sourceCardId:c.actionRequired.sourceCardId,actor:u}):(o=$(o,u,"Psychic-4 End: Player skips the effect."),o.actionRequired=null),o},gp=(c,s)=>{var i;if(((i=c.actionRequired)==null?void 0:i.type)!=="prompt_spirit_1_start")return c;const{actor:u,sourceCardId:o}=c.actionRequired;let d={...c};return s==="discard"?(d=$(d,u,"Spirit-1 Start: Player chooses to discard 1 card."),d.actionRequired={type:"discard",player:u,count:1,sourceCardId:o,sourceEffect:"spirit_1_start"}):(d=$(d,u,"Spirit-1 Start: Player chooses to flip the card."),d=jt(new Set([o]),d),d.animationState={type:"flipCard",cardId:o},d.actionRequired=null),d},Sp=(c,s)=>{var i;if(((i=c.actionRequired)==null?void 0:i.type)!=="prompt_shift_for_spirit_3")return c;const{actor:u,sourceCardId:o}=c.actionRequired;let d={...c};if(s){const f=Oe(d,o);if(f){const{owner:h,card:_}=f;let p=-1;for(let m=0;m<d[h].lanes.length;m++)if(d[h].lanes[m].some(S=>S.id===_.id)){p=m;break}p!==-1&&(d=$(d,u,"Spirit-3 Trigger: Player chooses to shift the card."),d.actionRequired={type:"select_lane_for_shift",cardToShiftId:o,cardOwner:h,originalLaneIndex:p,sourceCardId:o,actor:u,sourceEffect:"speed_3_end"})}}else d=$(d,u,"Spirit-3 Trigger: Player skips the shift."),d.actionRequired=null;return d},bp=(c,s)=>{var p;if(((p=c.actionRequired)==null?void 0:p.type)!=="prompt_swap_protocols")return c;const{actor:u}=c.actionRequired,o={...c[u]},[d,i]=s.sort((m,S)=>m-S),f=[...o.protocols],h=[...o.compiled];[f[d],f[i]]=[f[i],f[d]],[h[d],h[i]]=[h[i],h[d]],o.protocols=f,o.compiled=h;let _={...c,[u]:o,actionRequired:null};return _=$(_,u,`${u==="player"?"Player":"Opponent"} swaps protocols ${f[i]} and ${f[d]}.`),pt(_)};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Ii=(c,s,u)=>{const o=c.turn,d=o==="player"?"opponent":"player";let i={...c};const f={...i[o]},h={...i[d]},_=f.compiled[s],p=[],m=[],S=f.lanes[s].filter(k=>k.protocol==="Speed"&&k.value===2?(p.push(k),!1):!0),b=h.lanes[s].filter(k=>k.protocol==="Speed"&&k.value===2?(m.push(k),!1):!0);f.discard=[...f.discard,...S.map(({id:k,isFaceUp:F,...ue})=>ue)],h.discard=[...h.discard,...b.map(({id:k,isFaceUp:F,...ue})=>ue)];const R=[...f.lanes];R[s]=p,f.lanes=R;const E=[...h.lanes];E[s]=m,h.lanes=E;const j=[...f.compiled];j[s]=!0,f.compiled=j,i={...i,[o]:f,[d]:h};const H=o==="player"?"Player":"Opponent",X=f.protocols[s];i=$(i,o,`${H} compiles Protocol ${X}!`),_&&(i=$(i,o,`${H} draws 1 card from the opponent's deck as a re-compile reward.`),i=Ne(i,o,1)),i=pt(i),f.compiled.every(k=>k===!0)&&(i.winner=o,u(o));const L=S.length+b.length;for(let k=0;k<L;k++)i=La(i,o);const J=[...i.queuedActions];for(const k of p)i=$(i,o,"Speed-2 survives compilation and must be shifted."),J.push({type:"select_lane_for_shift",cardToShiftId:k.id,cardOwner:o,originalLaneIndex:s,sourceCardId:k.id,actor:o});for(const k of m)i=$(i,d,"Speed-2 survives compilation and must be shifted."),J.push({type:"select_lane_for_shift",cardToShiftId:k.id,cardOwner:d,originalLaneIndex:s,sourceCardId:k.id,actor:d});return m.length>0?(i._interruptedTurn=o,i.turn=d,i.actionRequired=J.shift()):J.length>0&&(i.actionRequired=J.shift()),i.queuedActions=J,i},Qm=(c,s)=>{var f;if(((f=c.actionRequired)==null?void 0:f.type)!=="select_card_from_hand_to_play")return c;const{disallowedLaneIndex:u,sourceCardId:o,isFaceDown:d,actor:i}=c.actionRequired;return{...c,actionRequired:{type:"select_lane_for_play",cardInHandId:s,disallowedLaneIndex:u,sourceCardId:o,isFaceDown:d,actor:i}}},wp=c=>{if(!c.actionRequired||!("optional"in c.actionRequired)||!c.actionRequired.optional)return c;const s=c.turn,u=s==="player"?"Player":"Opponent";let o={...c,actionRequired:null};return o=$(o,s,`${u} skips the optional action.`),o},Cp=c=>{var d;if(((d=c.actionRequired)==null?void 0:d.type)!=="reveal_opponent_hand")return c;const s=c.turn==="player"?"opponent":"player";let u={...c};const o={...u[s]};if(o.hand.length>0){o.hand=o.hand.map(h=>({...h,isRevealed:!0})),u[s]=o;const i=Oe(u,c.actionRequired.sourceCardId),f=i?`${i.card.protocol}-${i.card.value}`:"A card effect";u=$(u,c.turn,`${f}: Opponent reveals their hand.`)}return u.actionRequired=null,u};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Fi=(c,s)=>{if(!c.actionRequired)return c;const{actionRequired:u}=c,o=c.turn,d=o==="player"?"opponent":"player";switch(u.type){case"select_card_from_hand_to_give":{const i=c[o].hand.find(S=>S.id===s);if(!i)return c;let f={...c};const h={...f[o]},_={...f[d]};h.hand=h.hand.filter(S=>S.id!==s),_.hand=[..._.hand,i],f={...f,[o]:h,[d]:_};const p=o==="player"?"Player":"Opponent",m=`${i.protocol}-${i.value}`;return f=$(f,o,`${p} gives ${m} to the opponent.`),u.sourceEffect==="love_1_end"&&(f=$(f,o,`Love-1: ${p} draws 2 cards.`),f=Ne(f,o,2)),f.actionRequired=null,f}case"select_card_from_hand_to_reveal":{const i=c[o].hand.find(S=>S.id===s);if(!i)return c;let f={...c};const h={...f[o]},_=h.hand.map(S=>S.id===s?{...S,isRevealed:!0}:S);h.hand=_,f={...f,[o]:h};const p=o==="player"?"Player":"Opponent",m=`${i.protocol}-${i.value}`;return f=$(f,o,`Love-4: ${p} reveals ${m} from their hand.`),f.actionRequired={type:"select_any_card_to_flip",count:1,sourceCardId:u.sourceCardId,actor:o},f}default:return c}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Zm=c=>{const{opponent:s,player:u}=c;if(s.hand.length===0)return null;for(let f=0;f<3;f++)if(!s.compiled[f]&&(s.laneValues[f]===8||s.laneValues[f]===9))return{cardId:s.hand[0].id,laneIndex:f,isFaceUp:!1};const d=[...s.hand].sort((f,h)=>h.value-f.value)[0];for(let f=0;f<3;f++)if(d.protocol===s.protocols[f])return{cardId:d.id,laneIndex:f,isFaceUp:!0};const i=Math.floor(Math.random()*3);return{cardId:d.id,laneIndex:i,isFaceUp:!1}},Fm=(c,s)=>{switch(s.type){case"discard":return{type:"discardCards",cardIds:[...c.opponent.hand].sort((i,f)=>i.value-f.value).slice(0,s.count).map(i=>i.id)};case"select_cards_to_delete":case"select_face_down_card_to_delete":case"select_card_to_delete_for_death_1":case"plague_4_opponent_delete":{const i="disallowedIds"in s&&s.disallowedIds?s.disallowedIds:[],f=c.player.lanes.flat().filter(_=>!i.includes(_.id));if(f.length>0)return{type:"deleteCard",cardId:f[0].id};const h=c.opponent.lanes.flat().filter(_=>!i.includes(_.id));return h.length>0?{type:"deleteCard",cardId:h[0].id}:{type:"skip"}}case"select_card_from_other_lanes_to_delete":{const{disallowedLaneIndex:i,lanesSelected:f}=s,h=[];for(let _=0;_<3;_++){if(_===i||f.includes(_))continue;const p=c.player.lanes[_];if(p.length>0){h.push(p[p.length-1]);continue}const m=c.opponent.lanes[_];m.length>0&&h.push(m[m.length-1])}return h.length>0?{type:"deleteCard",cardId:h[0].id}:{type:"skip"}}case"select_low_value_card_to_delete":{const i=[...c.player.lanes.flat(),...c.opponent.lanes.flat()].filter(f=>f.isFaceUp&&(f.value===0||f.value===1));return i.length>0?{type:"deleteCard",cardId:i[0].id}:{type:"skip"}}case"select_opponent_face_up_card_to_flip":{const i=c.player.lanes.flat().filter(f=>f.isFaceUp);return i.length>0?{type:"flipCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_opponent_card_to_flip":{const i=c.player.lanes.flat();return i.length>0?{type:"flipCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_own_face_up_covered_card_to_flip":case"select_any_other_card_to_flip":case"select_any_card_to_flip":case"select_any_card_to_flip_optional":case"select_card_to_flip_for_fire_3":case"select_card_to_flip_for_light_0":case"select_face_down_card_to_reveal_for_light_2":case"select_any_other_card_to_flip_for_water_0":{const i=[...c.player.lanes.flat(),...c.opponent.lanes.flat()];return i.length>0?{type:"flipCard",cardId:i[0].id}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_any_face_down_card_to_flip_optional":{const i=[...c.player.lanes.flat(),...c.opponent.lanes.flat()].filter(f=>!f.isFaceUp);return i.length>0?{type:"flipCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_own_covered_card_in_lane_to_flip":{const{laneIndex:i}=s,h=c.opponent.lanes[i].filter((_,p,m)=>p<m.length-1);return h.length>0?{type:"flipCard",cardId:h[0].id}:{type:"skip"}}case"select_card_to_return":case"select_opponent_card_to_return":{const i=[...c.player.lanes.flat(),...c.opponent.lanes.flat()];return i.length>0?{type:"returnCard",cardId:i[0].id}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_own_card_to_return_for_water_4":{const i=c.opponent.lanes.flat();return i.length>0?{type:"returnCard",cardId:i[Math.floor(Math.random()*i.length)].id}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_card_to_shift_for_gravity_1":{const i=[...c.player.lanes.flat(),...c.opponent.lanes.flat()];return i.length>0?{type:"deleteCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_card_to_flip_and_shift_for_gravity_2":{const i=c.player.lanes.flat();return i.length>0?{type:"deleteCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:i}=s,f=[];for(const h of["player","opponent"])for(let _=0;_<c[h].lanes.length;_++)if(_!==i)for(const p of c[h].lanes[_])p.isFaceUp||f.push(p);return f.length>0?{type:"deleteCard",cardId:f[Math.floor(Math.random()*f.length)].id}:{type:"skip"}}case"select_lane_for_shift":case"shift_flipped_card_optional":case"select_lane_for_play":case"select_lane_for_death_2":case"select_lane_for_life_3_play":case"select_lane_to_shift_revealed_card_for_light_2":case"select_lane_to_shift_cards_for_light_3":case"select_lane_for_metal_3_delete":case"select_lane_for_water_3":{let i=[0,1,2];return"disallowedLaneIndex"in s&&s.disallowedLaneIndex!==void 0&&(i=i.filter(f=>f!==s.disallowedLaneIndex)),"originalLaneIndex"in s&&s.originalLaneIndex!==void 0&&(i=i.filter(f=>f!==s.originalLaneIndex)),i.length>0?{type:"selectLane",laneIndex:i[0]}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"prompt_death_1_effect":return{type:"resolveDeath1Prompt",accept:Math.random()>.7};case"prompt_give_card_for_love_1":return{type:"resolveLove1Prompt",accept:!1};case"plague_4_player_flip_optional":return{type:"resolvePlague4Flip",accept:!1};case"prompt_fire_3_discard":return{type:"resolveFire3Prompt",accept:!1};case"prompt_shift_for_speed_3":return{type:"resolveSpeed3Prompt",accept:!1};case"prompt_shift_for_spirit_3":return{type:"resolveSpirit3Prompt",accept:!1};case"prompt_return_for_psychic_4":return{type:"resolvePsychic4Prompt",accept:!1};case"prompt_spirit_1_start":return{type:"resolveSpirit1Prompt",choice:"flip"};case"prompt_shift_or_flip_for_light_2":return{type:"resolveLight2Prompt",choice:"skip"};case"plague_2_opponent_discard":return c.opponent.hand.length>0?{type:"resolvePlague2Discard",cardIds:[c.opponent.hand[0].id]}:{type:"skip"};case"select_cards_from_hand_to_discard_for_fire_4":return c.opponent.hand.length>0?{type:"resolveFire4Discard",cardIds:[c.opponent.hand[0].id]}:{type:"skip"};case"select_cards_from_hand_to_discard_for_hate_1":return c.opponent.hand.length>0?{type:"resolveHate1Discard",cardIds:c.opponent.hand.slice(0,s.count).map(i=>i.id)}:{type:"skip"};case"select_card_from_hand_to_play":if(c.opponent.hand.length>0){const i=c.opponent.hand[0],f=[0,1,2].filter(h=>h!==s.disallowedLaneIndex);return{type:"playCard",cardId:i.id,laneIndex:f[0],isFaceUp:!1}}return{type:"skip"};case"select_card_from_hand_to_give":return c.opponent.hand.length>0?{type:"giveCard",cardId:c.opponent.hand[0].id}:{type:"skip"};case"select_card_from_hand_to_reveal":return c.opponent.hand.length>0?{type:"revealCard",cardId:c.opponent.hand[0].id}:{type:"skip"};case"prompt_rearrange_protocols":return{type:"rearrangeProtocols",newOrder:br([...c[s.target].protocols])};case"prompt_swap_protocols":return{type:"skip"};case"select_own_other_card_to_shift":{const i=c.opponent.lanes.flat().find(f=>f.id!==s.sourceCardId);return i?{type:"deleteCard",cardId:i.id}:{type:"skip"}}case"select_opponent_covered_card_to_shift":{const i=[];for(const f of c.player.lanes)for(let h=0;h<f.length-1;h++)i.push(f[h]);return i.length>0?{type:"deleteCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}case"select_any_opponent_card_to_shift":{const i=c.player.lanes.flat();return i.length>0?{type:"deleteCard",cardId:i[Math.floor(Math.random()*i.length)].id}:{type:"skip"}}}return{type:"skip"}},Up=(c,s)=>{if(s)return Fm(c,s);if(c.phase==="compile"&&c.compilableLanes.length>0)return{type:"compile",laneIndex:c.compilableLanes[0]};if(c.phase==="action"){const u=Zm(c);return u?{type:"playCard",...u}:{type:"fillHand"}}return{type:"fillHand"}};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Mp=["delete","flip","shift","return","discard"],gr=c=>{let s=c.value;return Mp.some(u=>c.keywords[u])&&(s+=4),c.keywords.draw&&(s+=3),c.keywords.play&&(s+=5),s},Km=c=>{const{opponent:s,player:u}=c,o=[];for(const d of s.hand)for(let i=0;i<3;i++){if(s.compiled[i])continue;if(d.protocol===s.protocols[i]){let m=0;const S=d.value,b=s.laneValues[i]+S;b>=10&&b>u.laneValues[i]?m+=200:b>=8&&(m+=100),u.laneValues[i]>=8&&Mp.some(E=>d.keywords[E])&&(m+=150),m+=gr(d),m+=b-u.laneValues[i],o.push({move:{type:"playCard",cardId:d.id,laneIndex:i,isFaceUp:!0},score:m})}let h=0;const _=Kl({...d,isFaceUp:!1},s.lanes[i]),p=s.laneValues[i]+_;p>=10&&p>u.laneValues[i]&&(h+=250),h+=_+(p-u.laneValues[i]),o.push({move:{type:"playCard",cardId:d.id,laneIndex:i,isFaceUp:!1},score:h})}if(s.hand.length<5){const i=10-s.hand.reduce((f,h)=>f+gr(h),0)/(s.hand.length||1);o.push({move:{type:"fillHand"},score:i})}return o.length===0?{type:"fillHand"}:(o.sort((d,i)=>i.score-d.score),o[0].move)},Pm=(c,s)=>{switch(s.type){case"discard":return{type:"discardCards",cardIds:[...c.opponent.hand].sort((h,_)=>gr(h)-gr(_)).slice(0,s.count).map(h=>h.id)};case"select_cards_to_delete":case"select_card_to_delete_for_death_1":{const h=s.type==="select_cards_to_delete"?s.disallowedIds:s.type==="select_card_to_delete_for_death_1"?[s.sourceCardId]:[],_=c.player.lanes.flat().filter(m=>!h.includes(m.id));if(_.length>0)return{type:"deleteCard",cardId:_.reduce((S,b)=>{const R=Kl(S,[]);return Kl(b,[])>R?b:S}).id};const p=c.opponent.lanes.flat().filter(m=>!h.includes(m.id));return p.length>0?{type:"deleteCard",cardId:p.reduce((S,b)=>b.value<S.value?b:S).id}:{type:"skip"}}case"select_any_face_down_card_to_flip_optional":{const h=[];return c.opponent.lanes.forEach((_,p)=>{_.forEach(m=>{if(!m.isFaceUp){let S=5;S+=c.opponent.laneValues[p],h.push({cardId:m.id,score:S})}})}),c.player.lanes.forEach((_,p)=>{_.forEach(m=>{m.isFaceUp||h.push({cardId:m.id,score:1})})}),h.length>0?(h.sort((_,p)=>p.score-_.score),{type:"flipCard",cardId:h[0].cardId}):{type:"skip"}}case"select_any_card_to_flip_optional":case"select_any_card_to_flip":case"select_card_to_flip_for_fire_3":case"select_any_other_card_to_flip":case"select_card_to_flip_for_light_0":case"select_any_other_card_to_flip_for_water_0":case"select_opponent_face_up_card_to_flip":case"select_opponent_card_to_flip":{const h=[];return c.player.lanes.flat().forEach(_=>{_.isFaceUp&&h.push({cardId:_.id,score:_.value})}),c.opponent.lanes.flat().forEach(_=>{_.isFaceUp||h.push({cardId:_.id,score:3})}),h.length>0?(h.sort((_,p)=>p.score-_.score),{type:"flipCard",cardId:h[0].cardId}):"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_card_from_other_lanes_to_delete":{const{disallowedLaneIndex:h,lanesSelected:_}=s,p=[];for(let m=0;m<3;m++){if(m===h||_.includes(m))continue;const S=c.player.lanes[m];S.length>0&&p.push(...S)}return p.length>0?(p.sort((m,S)=>S.value-m.value),{type:"deleteCard",cardId:p[0].id}):{type:"skip"}}case"select_face_down_card_to_delete":{const h=c.player.laneValues.map((p,m)=>({value:p,index:m})).sort((p,m)=>m.value-p.value);for(const p of h){const m=c.player.lanes[p.index].find(S=>!S.isFaceUp);if(m)return{type:"deleteCard",cardId:m.id}}const _=c.opponent.laneValues.map((p,m)=>({value:p,index:m})).sort((p,m)=>p.value-m.value);for(const p of _){const m=c.opponent.lanes[p.index].find(S=>!S.isFaceUp);if(m)return{type:"deleteCard",cardId:m.id}}return{type:"skip"}}case"plague_4_opponent_delete":{const h=c.opponent.laneValues.map((p,m)=>({diff:p-c.player.laneValues[m],index:m})).sort((p,m)=>p.diff-m.diff);for(const p of h){const m=c.opponent.lanes[p.index].find(S=>!S.isFaceUp);if(m)return{type:"deleteCard",cardId:m.id}}const _=c.opponent.lanes.flat().find(p=>!p.isFaceUp);return _?{type:"deleteCard",cardId:_.id}:{type:"skip"}}case"select_low_value_card_to_delete":{const h=[...c.player.lanes.flat(),...c.opponent.lanes.flat()].filter(_=>_.isFaceUp&&(_.value===0||_.value===1));return h.length>0?(h.sort((_,p)=>{const m=c.player.lanes.flat().some(b=>b.id===_.id),S=c.player.lanes.flat().some(b=>b.id===p.id);return m&&!S?-1:!m&&S?1:p.value-_.value}),{type:"deleteCard",cardId:h[0].id}):{type:"skip"}}case"select_own_covered_card_in_lane_to_flip":{const{laneIndex:h}=s,m=c.opponent.lanes[h].filter((S,b,R)=>b<R.length-1).find(S=>!S.isFaceUp);return m?{type:"flipCard",cardId:m.id}:{type:"skip"}}case"select_own_card_to_return_for_water_4":{const h=c.opponent.lanes.flat();return h.length>0?(h.sort((_,p)=>_.value-p.value),{type:"returnCard",cardId:h[0].id}):{type:"skip"}}case"prompt_rearrange_protocols":return{type:"rearrangeProtocols",newOrder:c[s.target].protocols.map((h,_)=>({protocol:h,value:c[s.target].laneValues[_]})).sort((h,_)=>_.value-h.value).map(h=>h.protocol)};case"select_card_to_shift_for_gravity_1":{const h=c.player.lanes.flat();if(h.length>0)return h.sort((p,m)=>m.value-p.value),{type:"deleteCard",cardId:h[0].id};const _=c.opponent.lanes.flat();return _.length>0?(_.sort((p,m)=>p.value-m.value),{type:"deleteCard",cardId:_[0].id}):{type:"skip"}}case"select_card_to_flip_and_shift_for_gravity_2":{const h=c.player.lanes.flat().filter(p=>p.isFaceUp);if(h.length>0)return h.sort((p,m)=>m.value-p.value),{type:"deleteCard",cardId:h[0].id};const _=c.player.lanes.flat().filter(p=>!p.isFaceUp);return _.length>0?{type:"deleteCard",cardId:_[Math.floor(Math.random()*_.length)].id}:{type:"skip"}}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:h}=s,_=[];for(let m=0;m<c.player.lanes.length;m++)m!==h&&c.player.lanes[m].forEach(S=>{S.isFaceUp||_.push(S)});if(_.length>0)return{type:"deleteCard",cardId:_[0].id};const p=[];for(let m=0;m<c.opponent.lanes.length;m++)m!==h&&c.opponent.lanes[m].forEach(S=>{S.isFaceUp||p.push(S)});return p.length>0?{type:"deleteCard",cardId:p[0].id}:{type:"skip"}}case"select_any_opponent_card_to_shift":{const h=c.player.lanes.flat();return h.length>0?(h.sort((_,p)=>p.value-_.value),{type:"deleteCard",cardId:h[0].id}):{type:"skip"}}case"select_lane_for_shift":{const{cardOwner:h,originalLaneIndex:_}=s;return{type:"selectLane",laneIndex:c[h].laneValues.map((m,S)=>({value:m,index:S})).filter(m=>m.index!==_).sort((m,S)=>m.value-S.value)[0].index}}case"prompt_death_1_effect":return{type:"resolveDeath1Prompt",accept:!0};case"prompt_give_card_for_love_1":return{type:"resolveLove1Prompt",accept:!0};case"plague_4_player_flip_optional":return{type:"resolvePlague4Flip",accept:!0};case"prompt_fire_3_discard":return{type:"resolveFire3Prompt",accept:c.opponent.hand.length>2};case"prompt_shift_for_speed_3":return{type:"resolveSpeed3Prompt",accept:!0};case"prompt_shift_for_spirit_3":return{type:"resolveSpirit3Prompt",accept:!0};case"prompt_return_for_psychic_4":return{type:"resolvePsychic4Prompt",accept:!0};case"prompt_spirit_1_start":return{type:"resolveSpirit1Prompt",choice:"flip"};case"prompt_shift_or_flip_for_light_2":return{type:"resolveLight2Prompt",choice:"shift"};case"select_opponent_covered_card_to_shift":{const h=[];for(const _ of c.player.lanes)for(let p=0;p<_.length-1;p++)h.push(_[p]);return h.length>0?(h.sort((_,p)=>_.isFaceUp&&!p.isFaceUp?-1:!_.isFaceUp&&p.isFaceUp?1:_.isFaceUp&&p.isFaceUp?p.value-_.value:0),{type:"deleteCard",cardId:h[0].id}):{type:"skip"}}default:const f=Up(c,s);return f||{type:"skip"}}},jp=(c,s)=>s?Pm(c,s):c.phase==="compile"&&c.compilableLanes.length>0?{type:"compile",laneIndex:c.compilableLanes.reduce((o,d)=>c.opponent.laneValues[o]>c.opponent.laneValues[d]?o:d)}:c.phase==="action"?Km(c):{type:"fillHand"};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const zp=["delete","flip","shift","return","discard"],Zl=c=>{let s=10-c.value;return zp.some(u=>c.keywords[u])&&(s+=5),c.keywords.draw&&(s+=3),c.keywords.play&&(s+=6),s},Qe=(c,s,u)=>{let o;for(const i of u[s].lanes)if(i.some(f=>f.id===c.id)){o=i;break}if(!o)return 0;if(!c.isFaceUp)return o.some(f=>f.isFaceUp&&f.protocol==="Darkness"&&f.value===2)?4:2;let d=c.value*2;return c.top.length>0&&(d+=5),(c.bottom.includes("Start:")||c.bottom.includes("End:"))&&(d+=6),c.bottom.includes("covered:")&&(d+=4),d},Jm=c=>{const{opponent:s,player:u}=c,o=[],d=u.laneValues.map((f,h)=>u.compiled[h]?0:f>=10?3:f>=8?2:f>=6?1:0),i=u.lanes.flat().filter(f=>f.isFaceUp).sort((f,h)=>Qe(h,"player",c)-Qe(f,"player",c))[0];for(const f of s.hand)for(let h=0;h<3;h++){if(s.compiled[h])continue;const _=Zl(f);if(f.protocol===s.protocols[h]){let R=_,E=`Play ${f.protocol}-${f.value} face-up in lane ${h}.`;const j=f.value,H=s.laneValues[h]+j;R+=j,H>=10&&H>u.laneValues[h]?R+=200:H>=8&&(R+=100),R+=H-u.laneValues[h],zp.some(P=>f.keywords[P])&&(d[h]>0&&(R+=150*d[h],E+=` [DEFENSIVE: Disrupts player threat level ${d[h]}]`),i&&(f.keywords.flip||f.keywords.delete)&&(R+=Qe(i,"player",c)*2,E+=` [PROACTIVE: Targets strongest card ${i.protocol}-${i.value}]`)),o.push({move:{type:"playCard",cardId:f.id,laneIndex:h,isFaceUp:!0},score:R,description:E})}let p=0,m=`Play ${f.protocol}-${f.value} face-down in lane ${h}.`;const b=s.laneValues[h]+2;b>=10&&b>u.laneValues[h]&&s.laneValues[h]>=8?(p+=250,m+=" [WINNING MOVE: Sets up compile]"):s.laneValues[h]>=6?(p+=20*s.laneValues[h],m+=" [Secures strong lane]"):p+=1,o.push({move:{type:"playCard",cardId:f.id,laneIndex:h,isFaceUp:!1},score:p,description:m})}if(s.hand.length<5){let f=1;s.hand.reduce((_,p)=>_+Zl(p),0)/(s.hand.length||1)<8&&(f=5),s.hand.length===0&&(f=500),o.push({move:{type:"fillHand"},score:f,description:"Fill hand."})}return o.length===0?{type:"fillHand"}:(o.sort((f,h)=>h.score-f.score),o[0].move)},Im=(c,s)=>{const{player:u,opponent:o}=c;switch(s.type){case"discard":return{type:"discardCards",cardIds:[...o.hand].sort((_,p)=>Zl(_)-Zl(p)).slice(0,s.count).map(_=>_.id)};case"select_cards_to_delete":case"select_card_to_delete_for_death_1":{const _=s.type==="select_cards_to_delete"?s.disallowedIds:s.type==="select_card_to_delete_for_death_1"?[s.sourceCardId]:[],p=u.lanes.flat().filter(m=>!_.includes(m.id));return p.length>0?{type:"deleteCard",cardId:p.sort((S,b)=>Qe(b,"player",c)-Qe(S,"player",c))[0].id}:{type:"skip"}}case"select_any_face_down_card_to_flip_optional":{const _=[];return c.opponent.lanes.forEach((p,m)=>{p.forEach(S=>{if(!S.isFaceUp){const b=Kl(S,p),R=S.value-b;let E=5+R;c.opponent.laneValues[m]+R>=10&&(E+=100),_.push({card:S,score:E})}})}),c.player.lanes.forEach((p,m)=>{p.forEach(S=>{if(!S.isFaceUp){let b=3-c.player.laneValues[m];_.push({card:S,score:b})}})}),_.length>0&&(_.sort((p,m)=>m.score-p.score),_[0].score>0)?{type:"flipCard",cardId:_[0].card.id}:{type:"skip"}}case"select_any_card_to_flip_optional":case"select_any_card_to_flip":case"select_card_to_flip_for_fire_3":case"select_any_other_card_to_flip":case"select_card_to_flip_for_light_0":case"select_any_other_card_to_flip_for_water_0":case"select_opponent_face_up_card_to_flip":case"select_opponent_card_to_flip":{const _=[];return u.lanes.flat().forEach(p=>{p.isFaceUp&&_.push({cardId:p.id,score:Qe(p,"player",c)})}),o.lanes.flat().forEach(p=>{if(!p.isFaceUp){const m=Qe({...p,isFaceUp:!0},"opponent",c)-Qe(p,"opponent",c);_.push({cardId:p.id,score:m+3})}}),_.length>0&&(_.sort((p,m)=>m.score-p.score),_[0].score>0)?{type:"flipCard",cardId:_[0].cardId}:"optional"in s&&s.optional?{type:"skip"}:{type:"skip"}}case"select_card_from_other_lanes_to_delete":{const{disallowedLaneIndex:_,lanesSelected:p}=s,m=[];for(let S=0;S<3;S++){if(S===_||p.includes(S))continue;const b=c.player.lanes[S];m.push(...b)}return m.length>0?(m.sort((S,b)=>Qe(b,"player",c)-Qe(S,"player",c)),{type:"deleteCard",cardId:m[0].id}):{type:"skip"}}case"select_low_value_card_to_delete":{const _=[...c.player.lanes.flat(),...c.opponent.lanes.flat()].filter(p=>p.isFaceUp&&(p.value===0||p.value===1));return _.length>0?(_.sort((p,m)=>{const S=c.player.lanes.flat().some(R=>R.id===p.id),b=c.player.lanes.flat().some(R=>R.id===m.id);return S&&!b?-1:!S&&b?1:Qe(m,S?"player":"opponent",c)-Qe(p,b?"player":"opponent",c)}),{type:"deleteCard",cardId:_[0].id}):{type:"skip"}}case"select_own_covered_card_in_lane_to_flip":{const{laneIndex:_}=s,S=c.opponent.lanes[_].filter((b,R,E)=>R<E.length-1).find(b=>!b.isFaceUp);return S?{type:"flipCard",cardId:S.id}:{type:"skip"}}case"select_own_card_to_return_for_water_4":{const _=o.lanes.flat();if(_.length>0){const p=_.map(m=>{let S=10-m.value;return(m.keywords.delete||m.keywords.play||m.keywords.draw||m.keywords.flip)&&(S+=5),{card:m,score:S}});return p.sort((m,S)=>S.score-m.score),{type:"returnCard",cardId:p[0].card.id}}return{type:"skip"}}case"select_lane_for_shift":return{type:"selectLane",laneIndex:0};case"prompt_rearrange_protocols":return{type:"rearrangeProtocols",newOrder:c[s.target].protocols.map((_,p)=>({protocol:_,valueDifference:c.opponent.laneValues[p]-c.player.laneValues[p]})).sort((_,p)=>p.valueDifference-_.valueDifference).map(_=>_.protocol)};case"select_card_to_shift_for_gravity_1":{const _=c.player.lanes.flat();if(_.length>0)return _.sort((m,S)=>Qe(S,"player",c)-Qe(m,"player",c)),{type:"deleteCard",cardId:_[0].id};const p=c.opponent.lanes.flat();return p.length>0?(p.sort((m,S)=>Zl(m)-Zl(S)),{type:"deleteCard",cardId:p[0].id}):{type:"skip"}}case"select_card_to_flip_and_shift_for_gravity_2":{const _=[...c.player.lanes.flat(),...c.opponent.lanes.flat()];return _.length>0?(_.sort((p,m)=>{const S=c.player.lanes.flat().some(R=>R.id===p.id),b=c.player.lanes.flat().some(R=>R.id===m.id);return S&&!b?-1:!S&&b?1:Qe(m,S?"player":"opponent",c)-Qe(p,b?"player":"opponent",c)}),{type:"deleteCard",cardId:_[0].id}):{type:"skip"}}case"select_face_down_card_to_shift_for_gravity_4":{const{targetLaneIndex:_}=s;let p=null,m=-1;for(let b=0;b<c.player.lanes.length;b++){if(b===_)continue;const R=c.player.laneValues[b];if(R>m){const E=c.player.lanes[b].find(j=>!j.isFaceUp);E&&(m=R,p=E)}}if(p)return{type:"deleteCard",cardId:p.id};const S=[];for(let b=0;b<c.opponent.lanes.length;b++)b!==_&&c.opponent.lanes[b].forEach(R=>{R.isFaceUp||S.push(R)});return S.length>0?{type:"deleteCard",cardId:S[0].id}:{type:"skip"}}case"select_any_opponent_card_to_shift":{const _=c.player.lanes.flat();return _.length>0?(_.sort((p,m)=>Qe(m,"player",c)-Qe(p,"player",c)),{type:"deleteCard",cardId:_[0].id}):{type:"skip"}}case"prompt_death_1_effect":return{type:"resolveDeath1Prompt",accept:!0};case"prompt_give_card_for_love_1":return{type:"resolveLove1Prompt",accept:!0};case"plague_4_player_flip_optional":return{type:"resolvePlague4Flip",accept:!0};case"prompt_fire_3_discard":return{type:"resolveFire3Prompt",accept:c.opponent.hand.length>1};case"prompt_shift_for_speed_3":return{type:"resolveSpeed3Prompt",accept:!0};case"prompt_shift_for_spirit_3":return{type:"resolveSpirit3Prompt",accept:!0};case"prompt_return_for_psychic_4":return{type:"resolvePsychic4Prompt",accept:!0};case"prompt_spirit_1_start":return{type:"resolveSpirit1Prompt",choice:"flip"};case"prompt_shift_or_flip_for_light_2":return{type:"resolveLight2Prompt",choice:"shift"};case"select_opponent_covered_card_to_shift":{const _=[];for(let p=0;p<c.player.lanes.length;p++){const m=c.player.lanes[p];for(let S=0;S<m.length-1;S++)_.push({card:m[S],laneIndex:p})}return _.length>0?(_.sort((p,m)=>{const S=c.player.laneValues[p.laneIndex],b=c.player.laneValues[m.laneIndex];return S!==b?b-S:Qe(m.card,"player",c)-Qe(p.card,"player",c)}),{type:"deleteCard",cardId:_[0].card.id}):{type:"skip"}}default:const h=jp(c,s);return h||{type:"skip"}}},Wm=(c,s)=>s?Im(c,s):c.phase==="compile"&&c.compilableLanes.length>0?{type:"compile",laneIndex:c.compilableLanes.reduce((o,d)=>{const i=c.opponent.laneValues[o]-c.player.laneValues[o],f=c.opponent.laneValues[d]-c.player.laneValues[d];return i>f?o:d})}:c.phase==="action"?Jm(c):{type:"fillHand"};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Sr=(c,s,u)=>{switch(u){case"normal":return jp(c,s);case"hard":return Wm(c,s);default:return Up(c,s)}},ev=(c,s,u,o,d,i)=>{s(f=>{const h=f.actionRequired;if(!h)return f;let _=!1;if((h.type==="discard"&&h.player==="opponent"||h.type==="plague_4_opponent_delete"&&h.actor==="player"||"actor"in h&&h.actor==="opponent")&&(_=!0),!_)return f;const p=Sr(f,h,u);if(p.type==="discardCards"&&h.type==="discard"){const S=o.discardCards(f,p.cardIds,"opponent");return S.actionRequired?S:d.processEndOfAction(S)}if(p.type==="selectLane"&&h.type==="select_lane_for_shift"){const{nextState:S}=nu(f,p.laneIndex);return d.processEndOfAction(S)}if(p.type==="deleteCard"&&h.type==="plague_4_opponent_delete"&&f.actionRequired){const S=f.actionRequired.sourceCardId,b={...f,actionRequired:null};return i([{type:"delete",cardId:p.cardId,owner:"opponent"}],()=>s(R=>({...R,actionRequired:{type:"plague_4_player_flip_optional",sourceCardId:S,optional:!0,actor:"player"}}))),b}if(h.type==="reveal_opponent_hand"){const S=o.revealOpponentHand(f);return d.processEndOfAction(S)}console.warn(`AI has no logic for mandatory action during player turn, clearing it: ${h.type}`);const m={...f,actionRequired:null};return d.processEndOfAction(m)})},tv=(c,s,u,o,d,i)=>{const f=Sr(c,c.actionRequired,u),h=c.actionRequired;if(f.type==="skip"){const p=o.skipAction(c);return c.phase==="start"?i.continueTurnAfterStartPhaseAction(p):i.processEndOfAction(p)}if(f.type==="resolveDeath1Prompt"&&h.type==="prompt_death_1_effect"){const p=o.resolveDeath1Prompt(c,f.accept);return p.actionRequired?p:i.continueTurnAfterStartPhaseAction(p)}if(f.type==="resolveLove1Prompt"&&h.type==="prompt_give_card_for_love_1"){const p=o.resolveLove1Prompt(c,f.accept);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="resolvePlague2Discard"&&h.type==="plague_2_opponent_discard")return Np(c,f.cardIds);if(f.type==="resolvePlague4Flip"&&h.type==="plague_4_player_flip_optional")return o.resolvePlague4Flip(c,f.accept,"opponent");if(f.type==="resolveFire3Prompt"&&h.type==="prompt_fire_3_discard"){const p=o.resolveFire3Prompt(c,f.accept);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="resolveSpeed3Prompt"&&h.type==="prompt_shift_for_speed_3"){const p=o.resolveSpeed3Prompt(c,f.accept);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="resolvePsychic4Prompt"&&h.type==="prompt_return_for_psychic_4"){const p=o.resolvePsychic4Prompt(c,f.accept);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="resolveSpirit1Prompt"&&h.type==="prompt_spirit_1_start"){const p=o.resolveSpirit1Prompt(c,f.choice);return p.actionRequired?p:i.continueTurnAfterStartPhaseAction(p)}if(f.type==="resolveSpirit3Prompt"&&h.type==="prompt_shift_for_spirit_3"){const p=o.resolveSpirit3Prompt(c,f.accept);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="resolveSwapProtocols"&&h.type==="prompt_swap_protocols"){const p=o.resolveSwapProtocols(c,f.indices);return i.processEndOfAction(p)}if(f.type==="resolveFire4Discard"&&h.type==="select_cards_from_hand_to_discard_for_fire_4"){const p=o.resolveFire4Discard(c,f.cardIds);return i.processEndOfAction(p)}if(f.type==="resolveHate1Discard"&&h.type==="select_cards_from_hand_to_discard_for_hate_1")return o.resolveHate1Discard(c,f.cardIds);if(f.type==="resolveLight2Prompt"&&h.type==="prompt_shift_or_flip_for_light_2"){const p=o.resolveLight2Prompt(c,f.choice);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="rearrangeProtocols"&&h.type==="prompt_rearrange_protocols"){const p=o.resolveRearrangeProtocols(c,f.newOrder);return i.processEndOfAction(p)}if(f.type==="selectLane"&&(h.type==="select_lane_for_shift"||h.type==="select_lane_for_death_2"||h.type==="select_lane_for_play"||h.type==="select_lane_for_water_3"||h.type==="select_lane_for_metal_3_delete")){const{nextState:p,requiresAnimation:m}=nu(c,f.laneIndex);if(m){const{animationRequests:S,onCompleteCallback:b}=m;return d(S,()=>{s(R=>b(R,E=>c.phase==="start"?i.continueTurnAfterStartPhaseAction(E):i.processEndOfAction(E)))}),p}return i.processEndOfAction(p)}if(f.type==="flipCard"||f.type==="deleteCard"||f.type==="returnCard"){const{nextState:p,requiresAnimation:m,requiresTurnEnd:S}=Op(c,f.cardId);if(m){const{animationRequests:b,onCompleteCallback:R}=m;return d(b,()=>{s(E=>R(E,j=>j.actionRequired?(Wn(j,s,u,o,d,i),j):j.phase==="start"?i.continueTurnAfterStartPhaseAction(j):i.processEndOfAction(j)))}),p}return S?i.processEndOfAction(p):p}if(f.type==="playCard"&&h.type==="select_card_from_hand_to_play"){const{cardId:p,laneIndex:m,isFaceUp:S}=f,{newState:b,animationRequests:R}=o.playCard({...c,actionRequired:null},p,m,S,"opponent"),E={...b,animationState:{type:"playCard",cardId:p,owner:"opponent"}};return setTimeout(()=>{s(j=>{let H={...j,animationState:null};return R&&R.length>0?(d(R,()=>s(X=>i.processEndOfAction(X))),H):H.actionRequired?(Wn(H,s,u,o,d,i),H):i.processEndOfAction(H)})},500),E}if(f.type==="discardCards"&&h.type==="discard"){const p=o.discardCards(c,f.cardIds,"opponent");return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="giveCard"&&h.type==="select_card_from_hand_to_give"){const p=o.resolveActionWithHandCard(c,f.cardId);return p.actionRequired?p:i.processEndOfAction(p)}if(f.type==="revealCard"&&h.type==="select_card_from_hand_to_reveal")return o.resolveActionWithHandCard(c,f.cardId);console.warn(`AI has no logic for mandatory action, clearing it: ${h.type}`);const _={...c,actionRequired:null};return i.processEndOfAction(_)},Wn=(c,s,u,o,d,i)=>{s(f=>{if(f.turn!=="opponent"||f.winner||f.animationState)return f;if(f.actionRequired){const _=f.actionRequired;let p=!1;if((_.type==="discard"&&_.player==="player"||_.type==="plague_4_opponent_delete"&&_.actor==="opponent"||"actor"in _&&_.actor==="player")&&(p=!0),p)return f}let h={...f};if(h.actionRequired&&h.actionRequired.type==="reveal_opponent_hand"){const _=o.revealOpponentHand(h);return i.processEndOfAction(_)}if(h.phase==="start"&&(h=i.processStartOfTurn(h)),h.actionRequired)return tv(h,s,u,o,d,i);if(h.phase==="compile"&&h.compilableLanes.length>0){const _=Sr(h,null,u);if(_.type==="compile"){const p=_.laneIndex;return setTimeout(()=>{s(m=>{const S=Ii(m,p,()=>{});return i.processEndOfAction(S)})},1e3),{...h,animationState:{type:"compile",laneIndex:p},compilableLanes:[]}}}if(h.phase==="action"){const _=Sr(h,null,u);if(_.type==="fillHand"){const p=o.fillHand(h,"opponent");return i.processEndOfAction(p)}if(_.type==="playCard"){const{newState:p,animationRequests:m}=o.playCard(h,_.cardId,_.laneIndex,_.isFaceUp,"opponent"),S={...p,animationState:{type:"playCard",cardId:_.cardId,owner:"opponent"}};return setTimeout(()=>{const b=()=>{s(R=>{let E={...R},j={newState:E};if(E.queuedEffect){const{card:L,laneIndex:J}=E.queuedEffect;j=au(L,J,E,"opponent"),j.newState.queuedEffect=void 0}const H=j.animationRequests,X=j.newState,P=()=>{s(L=>(L.actionRequired?Wn(L,s,u,o,d,i):s(i.processEndOfAction(L)),L))};return H&&H.length>0?(d(H,P),X):(X.actionRequired?Wn(X,s,u,o,d,i):s(i.processEndOfAction(X)),X)})};s(R=>{const E={...R,animationState:null};return m&&m.length>0?d(m,b):b(),E})},500),S}}return i.processEndOfAction(h)})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function av(c,s){let u=null,o=null;const d=["player","opponent"];for(const m of d){for(const S of c[m].lanes){const b=S.find(R=>R.id===s);if(b){u=m,o=b;break}}if(u)break}if(!u||!o)return console.error("Card to delete not found on board:",s),c;const i={...c},f={...i[u]};f.lanes=f.lanes.map(m=>m.filter(S=>S.id!==s));const{id:h,isFaceUp:_,...p}=o;return f.discard=[...f.discard,p],i[u]=f,i}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const lv=(c,s,u,o)=>{const[d,i]=K.useState(()=>{const D=_y(c,s);return pt(D)}),[f,h]=K.useState(null),_=K.useCallback(D=>{switch(D){case"start":return vr;case"end":return lu;case"action":case"hand_limit":case"compile":case"control":default:return qp}},[]),p=K.useCallback((D,U)=>{if(D.length===0){U();return}const[V,...w]=D;i(z=>({...z,animationState:{type:"deleteCard",cardId:V.cardId,owner:V.owner}})),setTimeout(()=>{i(z=>{const Z=av(z,V.cardId);return{...pt(Z),animationState:null}}),w.length>0?p(w,U):U()},500)},[]),m=(D,U)=>{if(!f||d.turn!=="player"||d.phase!=="action")return;const V=f;h(null),i(w=>{const z=_(w.phase),{newState:Z,animationRequests:Q}=Ji(w,V,D,U,"player"),I={...Z,animationState:{type:"playCard",cardId:V,owner:"player"}};return setTimeout(()=>{i(ye=>{let ne={...ye,animationState:null};return Q&&Q.length>0?(p(Q,()=>i(Be=>Be.actionRequired?Be:z(Be))),ne):ne.actionRequired?ne:z(ne)})},500),I})},S=()=>{d.turn!=="player"||d.phase!=="action"||d.actionRequired||i(D=>{const U=_(D.phase),V=dp(D,"player");return U(V)})},b=K.useCallback(D=>{i(U=>{var V;return((V=U.actionRequired)==null?void 0:V.type)!=="discard"?U:{...U,animationState:{type:"discardCard",owner:"player",cardIds:[D],originalAction:U.actionRequired}}})},[]),R=K.useCallback(D=>{i(U=>{if(U.winner||U.phase!=="compile")return U;const V=_(U.phase),w={...U,animationState:{type:"compile",laneIndex:D},compilableLanes:[]};return setTimeout(()=>{i(z=>{const Z=Ii(z,D,u);return{...V(Z),animationState:null}})},1e3),w})},[u,_]),E=D=>{i(U=>{const V=_(U.phase),{nextState:w,requiresAnimation:z,requiresTurnEnd:Z}=Op(U,D);return z?(p(z.animationRequests,()=>{i(Q=>z.onCompleteCallback(Q,V))}),w):w.actionRequired?w:Z?V(w):w})},j=D=>{i(U=>{const V=_(U.phase),{nextState:w,requiresAnimation:z}=nu(U,D);return z?(p(z.animationRequests,()=>{i(Z=>{const Q=z.onCompleteCallback(Z,I=>I);return Q.actionRequired?Q:V(Q)})}),w):w.actionRequired?w:V(w)})},H=D=>{i(U=>{const V=_(U.phase),w=Fi(U,D);return w.actionRequired?w:V(w)})},X=D=>{i(U=>Qm(U,D))},P=()=>{i(D=>{var w,z;const U=_(D.phase);let V={...D,animationState:null};return((w=V.actionRequired)==null?void 0:w.type)==="prompt_shift_or_flip_for_light_2"?V=Zi(V,"skip"):V=wp(V),((z=V.actionRequired)==null?void 0:z.type)==="plague_4_player_flip_optional"?V:U(V)})},L=K.useCallback(D=>{i(U=>{_(U.phase);const V=pp(U,D);return V.actionRequired?V:vr(V)})},[_]),J=K.useCallback(D=>{i(U=>{const V=_(U.phase),w=Qi(U,D);return D?w:V(w)})},[_]),k=K.useCallback(D=>{i(U=>{var V;return((V=U.actionRequired)==null?void 0:V.type)!=="plague_2_player_discard"?U:{...U,animationState:{type:"discardCard",owner:"player",cardIds:D,originalAction:U.actionRequired}}})},[]),F=K.useCallback(D=>{i(U=>{const V=_(U.phase),w=hp(U,D,"player");return V(w)})},[_]),ue=K.useCallback(D=>{i(U=>{const V=_(U.phase),w=_p(U,D);return D?w:V(w)})},[_]),fe=K.useCallback(D=>{i(U=>{const V=_(U.phase),w=yp(U,D);return D?w:V(w)})},[_]),te=K.useCallback(D=>{i(U=>{var V;return((V=U.actionRequired)==null?void 0:V.type)!=="select_cards_from_hand_to_discard_for_fire_4"?U:{...U,animationState:{type:"discardCard",owner:"player",cardIds:D,originalAction:U.actionRequired}}})},[]),le=K.useCallback(D=>{i(U=>{var V;return((V=U.actionRequired)==null?void 0:V.type)!=="select_cards_from_hand_to_discard_for_hate_1"?U:{...U,animationState:{type:"discardCard",owner:"player",cardIds:D,originalAction:U.actionRequired}}})},[]),re=K.useCallback(D=>{i(U=>{const V=_(U.phase),w=Zi(U,D);return w.actionRequired?w:V(w)})},[_]),ge=K.useCallback(D=>{i(U=>{const V=_(U.phase),w=mp(U,D);return V(w)})},[_]),je=K.useCallback(D=>{i(U=>{const V=_(U.phase),w=vp(U,D);return D?w:V(w)})},[_]),Ae=K.useCallback(D=>{i(U=>{_(U.phase);const V=gp(U,D);return V.actionRequired?V:vr(V)})},[_]),_e=K.useCallback(D=>{i(U=>{const V=_(U.phase),w=Sp(U,D);return w.actionRequired?w:V(w)})},[_]),M=K.useCallback(D=>{i(U=>{const V=_(U.phase),w=bp(U,D);return V(w)})},[_]);return K.useEffect(()=>{const D=d.animationState;if(!D)return;let U=0,V=!1;if(D.type==="flipCard"?(U=600,V=!0):D.type==="drawCard"?(U=1e3,V=!0):D.type==="discardCard"&&(U=800,V=!0),V){const w=setTimeout(()=>{i(z=>({...z,animationState:null}))},U);return()=>clearTimeout(w)}},[d.animationState]),K.useEffect(()=>{const D=d.animationState;if((D==null?void 0:D.type)==="discardCard"&&D.owner==="player"){const U=setTimeout(()=>{i(V=>{const w=V.animationState;if((w==null?void 0:w.type)!=="discardCard"||!w.originalAction)return V;const{cardIds:z,originalAction:Z}=w,Q=_(V.phase);let I;return Z.type==="plague_2_player_discard"?I=Xm(V,z):Z.type==="select_cards_from_hand_to_discard_for_fire_4"?I=fp(V,z):Z.type==="select_cards_from_hand_to_discard_for_hate_1"?I=Xi(V,z):I=nl(V,z,"player"),I.animationState=null,I.actionRequired?I:Q(I)})},500);return()=>clearTimeout(U)}},[d.animationState,_]),K.useEffect(()=>{if(d.turn==="opponent"&&!d.winner&&!d.animationState){const D=setTimeout(()=>{Wn(d,i,o,{compileLane:(U,V)=>Ii(U,V,u),playCard:Ji,fillHand:dp,discardCards:nl,flipCard:up,deleteCard:(U,V)=>({newState:U,animationRequests:[{type:"delete",cardId:V,owner:"opponent"}]}),returnCard:sp,skipAction:wp,resolveDeath1Prompt:pp,resolveLove1Prompt:Qi,resolvePlague4Flip:(U,V)=>hp(U,V,"opponent"),resolvePlague2Discard:Np,resolveFire3Prompt:_p,resolveSpeed3Prompt:yp,resolveFire4Discard:fp,resolveHate1Discard:Xi,resolveLight2Prompt:Zi,resolveRearrangeProtocols:mp,resolveActionWithHandCard:Fi,resolvePsychic4Prompt:vp,resolveSpirit1Prompt:gp,resolveSpirit3Prompt:Sp,resolveSwapProtocols:bp,revealOpponentHand:Cp},p,ip)},1500);return()=>clearTimeout(D)}},[d.turn,d.winner,d.animationState,o,u,p,d.actionRequired]),K.useEffect(()=>{const D=d.actionRequired;if(d.turn==="player"&&!d.animationState&&D&&(D.type==="discard"&&D.player==="opponent"||D.type==="select_lane_for_shift"&&D.actor==="opponent"||D.type==="plague_4_opponent_delete"||D.type==="reveal_opponent_hand")){const V=setTimeout(()=>{ev(d,i,o,{discardCards:nl,flipCard:up,returnCard:sp,deleteCard:(w,z)=>({newState:w,animationRequests:[{type:"delete",cardId:z,owner:"opponent"}]}),resolveActionWithHandCard:Fi,resolveLove1Prompt:Qi,resolveHate1Discard:Xi,revealOpponentHand:Cp},ip,p)},1500);return()=>clearTimeout(V)}},[d.actionRequired,d.turn,d.animationState,o,p]),K.useEffect(()=>{i(D=>D.turn==="player"&&D.phase==="start"&&!D.actionRequired?Ep(D):D)},[d.turn,d.phase]),{gameState:d,selectedCard:f,setSelectedCard:h,playSelectedCard:m,fillHand:S,discardCardFromHand:b,compileLane:R,resolveActionWithCard:E,resolveActionWithLane:j,selectHandCardForAction:X,skipAction:P,resolvePlague2Discard:k,resolveActionWithHandCard:H,resolvePlague4Flip:F,resolveFire3Prompt:ue,resolveFire4Discard:te,resolveHate1Discard:le,resolveLight2Prompt:re,resolveRearrangeProtocols:ge,resolveSpeed3Prompt:fe,resolveDeath1Prompt:L,resolveLove1Prompt:J,resolvePsychic4Prompt:je,resolveSpirit1Prompt:Ae,resolveSpirit3Prompt:_e,resolveSwapProtocols:M}},Rp=({cards:c,isPlayable:s,isCompilable:u,isShiftTarget:o,isEffectTarget:d,isMatching:i,onLaneMouseDown:f,onCardMouseDown:h,onCardMouseEnter:_,onCardMouseLeave:p,owner:m,animationState:S,isCardTargetable:b,faceDownValue:R,sourceCardId:E})=>{const j=["lane"];return s&&j.push("playable"),i&&j.push("matching-protocol"),u&&j.push("compilable"),o&&j.push("shift-target"),d&&j.push("effect-target"),g.jsx("div",{className:j.join(" "),onMouseDown:f,children:g.jsx("div",{className:"lane-stack",children:c.map((H,X)=>g.jsx(Ct,{card:H,isFaceUp:H.isFaceUp,style:{"--i":X},onMouseDown:P=>{P.stopPropagation(),h(H)},onMouseEnter:()=>_(H),onMouseLeave:()=>p(H),animationState:S,isTargetable:b(H),isSourceOfEffect:H.id===E,faceDownValue:R},H.id))})})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const Wi=(c,s)=>{const{actionRequired:u}=s;if(!u)return!1;let o=null,d=-1,i=[];for(const f of["player","opponent"]){for(let h=0;h<s[f].lanes.length;h++)if(s[f].lanes[h].some(_=>_.id===c.id)){o=f,d=h,i=s[f].lanes[h];break}if(o)break}if(!o)return!1;switch(u.type){case"select_opponent_face_up_card_to_flip":return o==="opponent"&&c.isFaceUp;case"select_own_face_up_covered_card_to_flip":{const f=i.findIndex(h=>h.id===c.id);return o==="player"&&c.isFaceUp&&f<i.length-1}case"select_opponent_covered_card_to_shift":{const f=i.findIndex(_=>_.id===c.id),h=s.turn==="player"?"opponent":"player";return o===h&&f<i.length-1}case"select_opponent_card_to_flip":return o==="opponent";case"shift_flipped_card_optional":return c.id===u.cardId;case"select_own_covered_card_in_lane_to_flip":{const f=i.findIndex(h=>h.id===c.id);return o==="player"&&d===u.laneIndex&&f<i.length-1}case"select_face_down_card_to_shift_for_darkness_4":return!c.isFaceUp;case"select_cards_to_delete":return!u.disallowedIds.includes(c.id);case"select_card_to_delete_for_death_1":return c.id!==u.sourceCardId;case"select_face_down_card_to_delete":return!c.isFaceUp;case"select_low_value_card_to_delete":return c.isFaceUp&&(c.value===0||c.value===1);case"select_card_from_other_lanes_to_delete":{const{disallowedLaneIndex:f,lanesSelected:h}=u;return d!==f&&!h.includes(d)}case"plague_4_opponent_delete":return(s.turn==="player"?"opponent":"player")==="player"?o==="player"&&!c.isFaceUp:!1;case"select_any_other_card_to_flip":return c.id!==u.sourceCardId;case"select_card_to_return":return!0;case"select_card_to_flip_for_fire_3":return!0;case"select_card_to_shift_for_gravity_1":return!0;case"select_card_to_flip_and_shift_for_gravity_2":return!0;case"select_face_down_card_to_shift_for_gravity_4":return!c.isFaceUp&&d!==u.targetLaneIndex;case"select_any_card_to_flip":case"select_any_card_to_flip_optional":return!0;case"select_any_face_down_card_to_flip_optional":return!c.isFaceUp;case"select_card_to_flip_for_light_0":return!0;case"select_face_down_card_to_reveal_for_light_2":return!c.isFaceUp;case"select_any_other_card_to_flip_for_water_0":return c.id!==u.sourceCardId;case"select_own_card_to_return_for_water_4":return o===s.turn;case"select_own_other_card_to_shift":return o===s.turn&&c.id!==u.sourceCardId;case"select_own_card_to_shift_for_speed_3":return o===s.turn;case"select_opponent_face_down_card_to_shift":return o!==s.turn&&!c.isFaceUp;case"select_any_opponent_card_to_shift":return o!==s.turn;case"select_opponent_card_to_return":return o==="opponent";default:return!1}},nv=({gameState:c,onLaneMouseDown:s,onCardMouseDown:u,onCardMouseEnter:o,onCardMouseLeave:d,onOpponentHandCardMouseEnter:i,onOpponentHandCardMouseLeave:f,selectedCardId:h,sourceCardId:_})=>{const{player:p,opponent:m,animationState:S,phase:b,turn:R,compilableLanes:E,actionRequired:j}=c,H=k=>{const F=b==="compile"&&!j&&E.includes(k),ue=R==="player",fe=b==="action"&&!j&&h,te=(j==null?void 0:j.type)==="select_lane_for_play";if(!ue||!fe&&!te)return{isPlayable:!1,isMatching:!1,isCompilable:F};let le;if(fe?le=p.hand.find(D=>D.id===h):te&&(le=p.hand.find(D=>D.id===j.cardInHandId)),!le)return{isPlayable:!1,isMatching:!1,isCompilable:F};if(te&&k===j.disallowedLaneIndex)return{isPlayable:!1,isMatching:!1,isCompilable:F};const re=m.lanes[k];if(re.length>0&&re[re.length-1].isFaceUp&&re[re.length-1].protocol==="Plague"&&re[re.length-1].value===0)return{isPlayable:!1,isMatching:!1,isCompilable:F};const je=m.lanes.flat().some(D=>D.isFaceUp&&D.protocol==="Psychic"&&D.value===1),_e=(p.lanes.flat().some(D=>D.isFaceUp&&D.protocol==="Spirit"&&D.value===1)||le.protocol===p.protocols[k])&&!je;return re.some(D=>D.isFaceUp&&D.protocol==="Metal"&&D.value===2)&&!_e?{isPlayable:!1,isMatching:!1,isCompilable:F}:{isPlayable:!0,isMatching:_e,isCompilable:F}},X=k=>{if(!j||R!=="player")return!1;switch(j.type){case"select_lane_for_death_2":case"select_lane_for_water_3":return!0;case"select_lane_for_metal_3_delete":return k===j.disallowedLaneIndex?!1:p.lanes[k].length+m.lanes[k].length>=8;default:return!1}},P=(k,F)=>{if(!j||R!=="player")return!1;switch(j.type){case"select_lane_for_shift":return F===j.cardOwner&&k!==j.originalLaneIndex;case"shift_flipped_card_optional":{if(F!=="opponent")return!1;const fe=j.cardId;let te=-1;for(let le=0;le<m.lanes.length;le++)if(m.lanes[le].some(re=>re.id===fe)){te=le;break}return k!==te}case"select_lane_for_life_3_play":return F==="player"&&k!==j.disallowedLaneIndex;case"select_lane_to_shift_revealed_card_for_light_2":return F==="player";case"select_lane_to_shift_cards_for_light_3":return k!==j.sourceLaneIndex;default:return!1}},L=(k,F,ue)=>{let fe=[k];return F&&fe.push("compiled"),(S==null?void 0:S.type)==="compile"&&S.laneIndex===ue&&fe.push("is-compiling"),fe.join(" ")},J=k=>k.some(ue=>ue.isFaceUp&&ue.protocol==="Darkness"&&ue.value===2)?4:2;return g.jsxs("div",{className:"game-board",children:[g.jsx("div",{className:"opponent-hand-area",children:m.hand.map(k=>g.jsx(Ct,{card:k,isFaceUp:k.isRevealed||!1,additionalClassName:"in-hand",onMouseEnter:()=>i(k),onMouseLeave:f},k.id))}),g.jsx("div",{className:`player-side opponent-side ${R==="opponent"?"active-turn":""}`,children:g.jsx("div",{className:"lanes",children:m.lanes.map((k,F)=>{const ue=J(k);return g.jsx(Rp,{cards:k,isPlayable:!1,isCompilable:!1,isShiftTarget:P(F,"opponent"),isEffectTarget:X(F),onLaneMouseDown:()=>s(F),onCardMouseDown:fe=>u(fe,"opponent",F),onCardMouseEnter:fe=>o(fe,"opponent"),onCardMouseLeave:()=>d(),owner:"opponent",animationState:S,isCardTargetable:fe=>Wi(fe,c),faceDownValue:ue,sourceCardId:_},`opp-lane-${F}`)})})}),g.jsxs("div",{className:"protocol-bars-container",children:[g.jsx("div",{className:"protocol-bar opponent-bar",children:m.protocols.map((k,F)=>g.jsxs("div",{className:L("protocol-display",m.compiled[F],F),children:[g.jsx("span",{className:"protocol-name",children:k}),g.jsx("span",{className:"protocol-value",children:m.laneValues[F]})]},`opp-proto-${k}-${F}`))}),g.jsx("div",{className:"protocol-bar player-bar",children:p.protocols.map((k,F)=>g.jsxs("div",{className:L("protocol-display",p.compiled[F],F),children:[g.jsx("span",{className:"protocol-name",children:k}),g.jsx("span",{className:"protocol-value",children:p.laneValues[F]})]},`player-proto-${k}-${F}`))})]}),g.jsx("div",{className:`player-side ${R==="player"?"active-turn":""}`,children:g.jsx("div",{className:"lanes",children:p.lanes.map((k,F)=>{const{isPlayable:ue,isMatching:fe,isCompilable:te}=H(F),le=J(k);return g.jsx(Rp,{cards:k,isPlayable:ue,isMatching:fe,isCompilable:te,isShiftTarget:P(F,"player"),isEffectTarget:X(F),onLaneMouseDown:()=>s(F),onCardMouseDown:re=>u(re,"player",F),onCardMouseEnter:re=>o(re,"player"),onCardMouseLeave:()=>d(),owner:"player",animationState:S,isCardTargetable:re=>Wi(re,c),faceDownValue:le,sourceCardId:_},`player-lane-${F}`)})})})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const cv=({gameState:c,onFillHand:s,onSkipAction:u,onResolvePlague2Discard:o,onResolvePlague4Flip:d,onResolveFire3Prompt:i,onResolveSpeed3Prompt:f,onResolveFire4Discard:h,onResolveHate1Discard:_,onResolveLight2Prompt:p,onResolveDeath1Prompt:m,onResolveLove1Prompt:S,onResolvePsychic4Prompt:b,onResolveSpirit1Prompt:R,onResolveSpirit3Prompt:E,selectedCardId:j,multiSelectedCardIds:H})=>{const{phase:X,turn:P,actionRequired:L,player:J,compilableLanes:k}=c,F=ge=>{for(const je of["player","opponent"])for(const Ae of c[je].lanes){const _e=Ae.find(M=>M.id===ge);if(_e)return _e}return null},ue=L==null?void 0:L.sourceCardId,fe=ue?F(ue):null,te=P.charAt(0).toUpperCase()+P.slice(1),le=()=>{if(P!=="player")return g.jsx("button",{className:"btn",disabled:!0,children:"Processing..."});if((L==null?void 0:L.type)==="prompt_death_1_effect")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>m(!0),children:"Draw & Delete"}),g.jsx("button",{className:"btn btn-back",onClick:()=>m(!1),children:"Skip"})]});if((L==null?void 0:L.type)==="prompt_give_card_for_love_1")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>S(!0),children:"Give 1 Card"}),g.jsx("button",{className:"btn btn-back",onClick:()=>S(!1),children:"Skip"})]});if((L==null?void 0:L.type)==="prompt_fire_3_discard")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>i(!0),children:"Discard 1 Card"}),g.jsx("button",{className:"btn btn-back",onClick:()=>i(!1),children:"Skip"})]});if((L==null?void 0:L.type)==="prompt_shift_for_speed_3")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>f(!0),children:"Shift"}),g.jsx("button",{className:"btn btn-back",onClick:()=>f(!1),children:"Skip"})]});if((L==null?void 0:L.type)==="prompt_spirit_1_start")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>R("discard"),children:"Discard 1"}),g.jsx("button",{className:"btn btn-back",onClick:()=>R("flip"),children:"Flip Card"})]});if((L==null?void 0:L.type)==="prompt_shift_for_spirit_3")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>E(!0),children:"Shift"}),g.jsx("button",{className:"btn btn-back",onClick:()=>E(!1),children:"Skip"})]});if((L==null?void 0:L.type)==="prompt_return_for_psychic_4")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>b(!0),children:"Return Card"}),g.jsx("button",{className:"btn btn-back",onClick:()=>b(!1),children:"Skip"})]});if((L==null?void 0:L.type)==="prompt_shift_or_flip_for_light_2")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>p("shift"),children:"Shift"}),g.jsx("button",{className:"btn",onClick:()=>p("flip"),children:"Flip Back"}),g.jsx("button",{className:"btn btn-back",onClick:()=>p("skip"),children:"Skip"})]});if((L==null?void 0:L.type)==="plague_2_player_discard"||(L==null?void 0:L.type)==="select_cards_from_hand_to_discard_for_fire_4"||(L==null?void 0:L.type)==="select_cards_from_hand_to_discard_for_hate_1"){let ge,je=0;return L.type==="plague_2_player_discard"?(ge=o,je=1):L.type==="select_cards_from_hand_to_discard_for_fire_4"?(ge=h,je=1):(ge=_,je=L.count),g.jsxs("button",{className:"btn",onClick:()=>ge(H),disabled:H.length<je,children:["Confirm Discard (",H.length,")"]})}if((L==null?void 0:L.type)==="plague_4_player_flip_optional")return g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"btn",onClick:()=>d(!0),children:"Flip Plague-4"}),g.jsx("button",{className:"btn btn-back",onClick:()=>d(!1),children:"Skip"})]});if(L&&"optional"in L&&L.optional)return g.jsx("button",{className:"btn btn-back",onClick:u,children:"Skip Action"});if(L)return g.jsx("button",{className:"btn",disabled:!0,children:"Action Required"});if(X==="compile"&&k.length>0)return g.jsx("button",{className:"btn",disabled:!0,children:"Select Lane to Compile"});if(X==="action"){const ge=J.hand.length<5;return J.hand.length===0?g.jsx("button",{className:"btn",onClick:s,children:"Fill Hand (Required)"}):g.jsx("button",{className:"btn",onClick:s,disabled:!ge||!!j,children:"Fill Hand"})}return g.jsx("button",{className:"btn",disabled:!0,children:"Processing..."})},re=()=>{if(L)switch(L.type){case"discard":return L.player==="player"?`Action: Discard ${L.count} card(s) from your hand`:"Waiting for Opponent to discard...";case"select_opponent_face_up_card_to_flip":return"Action: Select an opponent's face-up card to flip";case"select_own_face_up_covered_card_to_flip":return"Action: Select one of your face-up, covered cards to flip";case"select_opponent_covered_card_to_shift":return"Action: Select one of your opponent's covered cards to shift";case"select_lane_for_shift":return"Action: Select a new lane for the card";case"select_opponent_card_to_flip":return"Action: Select an opponent's card to flip";case"shift_flipped_card_optional":return"Action: You may shift the card you just flipped. Select a lane or skip.";case"select_own_covered_card_in_lane_to_flip":return"Action: You may flip one of your covered cards in this lane. Select a card or skip.";case"select_card_from_hand_to_play":return"Action: Select a card from your hand to play";case"select_lane_for_play":return"Action: Select another lane to play your card in";case"select_face_down_card_to_shift_for_darkness_4":return"Action: Select any face-down card to shift";case"select_cards_to_delete":return`Action: Select a card to delete (${L.count} remaining)`;case"select_face_down_card_to_delete":return"Action: Select a face-down card to delete";case"select_low_value_card_to_delete":return"Action: Select a card with value 0 or 1 to delete";case"select_card_from_other_lanes_to_delete":return`Action: Select a card to delete (${L.count} remaining)`;case"select_lane_for_death_2":return"Action: Select a lane to delete cards with value 1 or 2";case"prompt_death_1_effect":return"Start Phase: Use Death-1 effect?";case"select_card_to_delete_for_death_1":return"Action: Select a card to delete";case"prompt_give_card_for_love_1":return"End Phase: Give 1 card to draw 2?";case"select_card_from_hand_to_give":return"Action: Select a card from your hand to give";case"select_card_from_hand_to_reveal":return"Action: Select a card from your hand to reveal";case"plague_2_player_discard":return"Action: Select 1 or more cards to discard";case"plague_4_opponent_delete":return"Waiting for opponent to delete one of their face-down cards";case"plague_4_player_flip_optional":return"Action: You may flip Plague-4";case"select_any_other_card_to_flip":return"Action: Select any other card to flip";case"select_card_to_return":return"Action: Select a card to return to its owner's hand";case"prompt_fire_3_discard":return"End Phase: Discard 1 card to flip 1 card?";case"select_card_to_flip_for_fire_3":return"Action: Select a card to flip";case"prompt_shift_for_speed_3":return"End Phase: Shift 1 card?";case"select_own_card_to_shift_for_speed_3":case"select_own_other_card_to_shift":return"Action: Select one of your cards to shift";case"select_opponent_face_down_card_to_shift":return"Action: Select an opponent's face-down card to shift";case"prompt_spirit_1_start":return"Start Phase: Discard 1 card or flip Spirit-1?";case"select_any_card_to_flip_optional":return"Action: You may flip one card. Select a card or skip.";case"prompt_shift_for_spirit_3":return"Triggered: You may shift your Spirit-3. Select a lane or skip.";case"prompt_swap_protocols":return"Action: Swap two of your protocols.";case"select_cards_from_hand_to_discard_for_fire_4":return"Action: Select 1 or more cards to discard";case"select_cards_from_hand_to_discard_for_hate_1":return`Action: Select ${L.count} card(s) to discard for Hate-1`;case"select_any_card_to_flip":return`Action: Select a card to flip (${L.count} remaining)`;case"select_any_face_down_card_to_flip_optional":return"Action: You may flip a face-down card. Select a card or skip.";case"select_lane_for_life_3_play":return"Action: Select another lane to play a card into";case"select_card_to_flip_for_light_0":return"Action: Select any card to flip";case"select_face_down_card_to_reveal_for_light_2":return"Action: Select a face-down card to reveal";case"prompt_shift_or_flip_for_light_2":return"Action: Choose to shift, flip back, or skip";case"select_lane_to_shift_revealed_card_for_light_2":return"Action: Select a lane to shift the revealed card to";case"select_lane_to_shift_cards_for_light_3":return"Action: Select a lane to shift all face-down cards to";case"select_lane_for_metal_3_delete":return"Action: Select a lane with 8+ cards to delete";case"select_any_other_card_to_flip_for_water_0":return"Action: Select any other card to flip";case"prompt_rearrange_protocols":return"Action: Rearrange protocols";case"select_lane_for_water_3":return"Action: Select a lane to return cards from";case"select_own_card_to_return_for_water_4":return"Action: Select one of your cards to return to your hand";case"prompt_return_for_psychic_4":return"End Phase: Return an opponent's card?";case"select_any_opponent_card_to_shift":return"Action: Select an opponent's card to shift";case"select_opponent_card_to_return":return"Action: Select an opponent's card to return";default:return"Action Required"}return X==="compile"&&k.length>0?"Phase: Compile":`Phase: ${X.replace("_"," ")}`};return g.jsxs("div",{className:"phase-controller",children:[g.jsxs("div",{className:"effect-source-info",children:[g.jsxs("span",{children:[te,"'s Turn"]}),L&&fe&&g.jsxs(g.Fragment,{children:[" | Effect from: ",g.jsxs("span",{children:[fe.protocol,"-",fe.value]})]})]}),g.jsxs("div",{className:"phase-controller-main",children:[g.jsx("div",{className:"phase-info",children:re()}),g.jsx("div",{className:"phase-actions",children:le()})]})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const rv=({gameState:c,turn:s,animationState:u,onPlayerClick:o,onOpponentClick:d})=>{const{player:i,opponent:f}=c,h=_=>{const p=["info-section"];return p.push(_==="player"?"player-info":"opponent-info"),s===_&&p.push("active-turn"),(u==null?void 0:u.type)==="drawCard"&&u.owner===_&&p.push("is-drawing"),(u==null?void 0:u.type)==="discardCard"&&u.owner===_&&p.push("is-discarding"),p.join(" ")};return g.jsxs("div",{className:"game-info-panel",children:[g.jsxs("div",{className:h("opponent"),onClick:d,children:[g.jsx("h3",{children:"Opponent"}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Hand:"}),g.jsx("span",{children:f.hand.length})]}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Deck:"}),g.jsx("span",{children:f.deck.length})]}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Discard:"}),g.jsx("span",{children:f.discard.length})]})]}),g.jsxs("div",{className:h("player"),onClick:o,children:[g.jsx("h3",{children:"Player"}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Hand:"}),g.jsx("span",{children:i.hand.length})]}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Deck:"}),g.jsx("span",{children:i.deck.length})]}),g.jsxs("div",{className:"info-line",children:[g.jsx("span",{children:"Discard:"}),g.jsx("span",{children:i.discard.length})]})]})]})};/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function ov({log:c,onClose:s}){return g.jsx("div",{className:"modal-overlay",onClick:s,children:g.jsxs("div",{className:"modal-content log-modal-content",onClick:u=>u.stopPropagation(),children:[g.jsx("button",{className:"btn btn-back modal-close-btn",onClick:s,children:"X"}),g.jsx("h2",{children:"Game Log"}),g.jsx("ol",{className:"log-list",children:c.map((u,o)=>g.jsx("li",{className:`log-entry log-entry-${u.player}`,children:u.message},o))})]})})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function iv({message:c,player:s}){return g.jsx("div",{className:`toaster toaster-${s}`,children:c})}function uv({gameState:c,targetPlayer:s,onConfirm:u}){const[o,d]=K.useState(c[s].protocols),i=K.useRef(null),f=K.useRef(null),h=c[s],p=c[s==="player"?"opponent":"player"],m=K.useMemo(()=>{const J={};return h.protocols.forEach((k,F)=>{J[k]={value:h.laneValues[F],compiled:h.compiled[F]}}),J},[h.protocols,h.laneValues,h.compiled]),S=(J,k)=>{let F=[J];return k&&F.push("compiled"),F.join(" ")},b=(J,k)=>{i.current=k,J.dataTransfer.effectAllowed="move"},R=(J,k)=>{J.preventDefault(),f.current=k},E=()=>{if(i.current!==null&&f.current!==null&&i.current!==f.current){const J=[...o],k=J.splice(i.current,1)[0];J.splice(f.current,0,k),i.current=null,f.current=null,d(J)}},j=J=>{J.preventDefault()},H=s==="player",X=H?"Rearrange Your Protocols":"Rearrange Opponent's Protocols",P=g.jsx("div",{className:`protocol-bar ${H?"player-bar":"opponent-bar"}`,onDragOver:j,children:o.map((J,k)=>{const F=m[J];return g.jsxs("div",{className:S("protocol-display rearrange-item",F.compiled),draggable:!0,onDragStart:ue=>b(ue,k),onDragEnter:ue=>R(ue,k),onDragEnd:E,children:[g.jsx("span",{className:"protocol-name",children:J}),g.jsx("span",{className:"protocol-value",children:F.value})]},J)})}),L=g.jsx("div",{className:`protocol-bar ${H?"opponent-bar":"player-bar"}`,children:p.protocols.map((J,k)=>g.jsxs("div",{className:S("protocol-display",p.compiled[k]),children:[g.jsx("span",{className:"protocol-name",children:J}),g.jsx("span",{className:"protocol-value",children:p.laneValues[k]})]},`other-proto-${J}-${k}`))});return g.jsx("div",{className:"modal-overlay",children:g.jsxs("div",{className:"modal-content rearrange-modal-content",onClick:J=>J.stopPropagation(),children:[g.jsx("h2",{children:X}),g.jsx("p",{children:"Drag and drop the protocols to reorder them."}),g.jsx("div",{className:"rearrange-board-view",children:g.jsxs("div",{className:"protocol-bars-container",children:[H?L:P,H?P:L]})}),g.jsx("div",{className:"rearrange-actions",children:g.jsx("button",{className:"btn",onClick:()=>u(o),children:"Confirm Rearrangement"})})]})})}function sv({gameState:c,onConfirm:s,onCancel:u}){const[o,d]=K.useState([]),i=c.player,f=p=>{o.includes(p)?d(m=>m.filter(S=>S!==p)):o.length<2&&d(m=>[...m,p])},h=()=>{o.length===2&&s(o)},_=p=>{let m=["protocol-display","rearrange-item"];return i.compiled[p]&&m.push("compiled"),o.includes(p)&&m.push("selected"),m.join(" ")};return g.jsx("div",{className:"modal-overlay",children:g.jsxs("div",{className:"modal-content rearrange-modal-content",onClick:p=>p.stopPropagation(),children:[g.jsx("h2",{children:"Swap Protocols"}),g.jsx("p",{children:"Select two of your protocols to swap their positions."}),g.jsx("div",{className:"rearrange-board-view",children:g.jsx("div",{className:"protocol-bars-container",children:g.jsx("div",{className:"protocol-bar player-bar",children:i.protocols.map((p,m)=>g.jsxs("div",{className:_(m),onClick:()=>f(m),children:[g.jsx("span",{className:"protocol-name",children:p}),g.jsx("span",{className:"protocol-value",children:i.laneValues[m]})]},p))})})}),g.jsxs("div",{className:"rearrange-actions",children:[g.jsx("button",{className:"btn",onClick:h,disabled:o.length!==2,children:"Confirm Swap"}),g.jsx("button",{className:"btn btn-back",onClick:u,children:"Cancel"})]})]})})}function dv({player:c,playerState:s,onClose:u}){const o=c.charAt(0).toUpperCase()+c.slice(1),d=(i,f)=>{const h=i.map((_,p)=>({..._,id:`${f}-${_.protocol}-${_.value}-${p}`,isFaceUp:!0}));return g.jsxs(g.Fragment,{children:[g.jsxs("h3",{children:[f," (",h.length,")"]}),g.jsx("div",{className:"debug-card-grid",children:h.length>0?h.map(_=>g.jsx(Ct,{card:_,isFaceUp:!0,additionalClassName:"in-hand"},_.id)):g.jsxs("p",{className:"no-cards",children:["No cards in ",f.toLowerCase(),"."]})})]})};return g.jsx("div",{className:"modal-overlay",onClick:u,children:g.jsxs("div",{className:"modal-content debug-modal-content",onClick:i=>i.stopPropagation(),children:[g.jsx("button",{className:"btn btn-back modal-close-btn",onClick:u,children:"X"}),g.jsxs("h2",{children:[o,"'s Info"]}),d(s.deck,"Deck"),d(s.discard,"Discard Pile")]})})}const fv=(c,s)=>{if(!s)return null;for(const u of["player","opponent"])for(const o of c[u].lanes){const d=o.find(i=>i.id===s);if(d)return{card:d,owner:u}}return null};function pv({onBack:c,onEndGame:s,playerProtocols:u,opponentProtocols:o,difficulty:d}){var en,nc,cc;const{gameState:i,selectedCard:f,setSelectedCard:h,playSelectedCard:_,fillHand:p,discardCardFromHand:m,compileLane:S,resolveActionWithCard:b,resolveActionWithLane:R,selectHandCardForAction:E,resolveActionWithHandCard:j,skipAction:H,resolveDeath1Prompt:X,resolveLove1Prompt:P,resolvePlague2Discard:L,resolvePlague4Flip:J,resolveFire3Prompt:k,resolveFire4Discard:F,resolveHate1Discard:ue,resolveLight2Prompt:fe,resolveRearrangeProtocols:te,resolveSpirit1Prompt:le,resolveSpirit3Prompt:re,resolveSwapProtocols:ge,resolveSpeed3Prompt:je,resolvePsychic4Prompt:Ae}=lv(u,o,s,d),[_e,M]=K.useState(null),[D,U]=K.useState([]),[V,w]=K.useState(!1),[z,Z]=K.useState([]),Q=K.useRef(i.log.length),[I,ye]=K.useState(!1),[ne,Be]=K.useState(!1),[xe,Rt]=K.useState(null),Jl=K.useMemo(()=>{if(i.lastPlayedCardId){const W=fv(i,i.lastPlayedCardId);if(W){const se=W.owner==="player"||W.card.isFaceUp;return{card:W.card,showContents:se}}}return null},[i.lastPlayedCardId,i.player.lanes,i.opponent.lanes]),Ya=_e||Jl;K.useEffect(()=>{i.log.length>Q.current&&i.log.slice(Q.current).forEach(se=>{if(se.message!=="Game Started."){const ze={message:se.message,player:se.player,id:Qt()};Z(Me=>[...Me,ze]),setTimeout(()=>{Z(Me=>Me.filter(pa=>pa.id!==ze.id))},5e3)}}),Q.current=i.log.length},[i.log]),K.useEffect(()=>{var W,se,ze;((W=i.actionRequired)==null?void 0:W.type)!=="plague_2_player_discard"&&((se=i.actionRequired)==null?void 0:se.type)!=="select_cards_from_hand_to_discard_for_fire_4"&&((ze=i.actionRequired)==null?void 0:ze.type)!=="select_cards_from_hand_to_discard_for_hate_1"&&U([])},[i.actionRequired]),K.useEffect(()=>{var W,se;ye(((W=i.actionRequired)==null?void 0:W.type)==="prompt_rearrange_protocols"&&i.turn==="player"),Be(((se=i.actionRequired)==null?void 0:se.type)==="prompt_swap_protocols"&&i.turn==="player")},[i.actionRequired,i.turn]);const cl=W=>{const{actionRequired:se,turn:ze,phase:Me,compilableLanes:pa,player:Zt,opponent:ol}=i,ha=ze==="player"&&se&&["select_lane_for_shift","shift_flipped_card_optional","select_lane_for_play","select_lane_for_death_2","select_lane_for_life_3_play","select_lane_to_shift_revealed_card_for_light_2","select_lane_to_shift_cards_for_light_3","select_lane_for_water_3"].includes(se.type),Ft=ze==="player"&&!se&&Me==="compile"&&pa.includes(W),zt=ol.lanes.flat().some(ht=>ht.isFaceUp&&ht.protocol==="Psychic"&&ht.value===1),_a=f&&Me==="action"&&!se&&Zt.hand.some(ht=>ht.id===f)&&!ol.lanes[W].some(ht=>ht.isFaceUp&&ht.protocol==="Plague"&&ht.value===0);if(ha||Ft||_a){if(ha)R(W);else if(Ft)S(W);else if(_a){const ht=Zt.hand.find(Kt=>Kt.id===f),rc=(Zt.lanes.flat().some(Kt=>Kt.isFaceUp&&Kt.protocol==="Spirit"&&Kt.value===1)||ht.protocol===Zt.protocols[W])&&!zt;_(W,rc),M(null)}}else f&&(h(null),M(null))},Il=W=>{if(i.actionRequired){if(i.actionRequired.type==="discard"&&i.actionRequired.player==="player"){m(W.id);return}if(i.actionRequired.type==="select_card_from_hand_to_play"){E(W.id);return}if(i.actionRequired.type==="select_card_from_hand_to_give"||i.actionRequired.type==="select_card_from_hand_to_reveal"){j(W.id);return}if(i.actionRequired.type==="plague_2_player_discard"||i.actionRequired.type==="select_cards_from_hand_to_discard_for_fire_4"||i.actionRequired.type==="select_cards_from_hand_to_discard_for_hate_1"){U(se=>se.includes(W.id)?se.filter(ze=>ze!==W.id):[...se,W.id]);return}return}i.turn!=="player"||i.phase!=="action"&&i.phase!=="compile"||(W.id===f?(h(null),M(null)):(h(W.id),M({card:W,showContents:!0})))},Wl=(W,se,ze)=>{const{actionRequired:Me,turn:pa,phase:Zt,compilableLanes:ol}=i;if(Me&&["select_lane_for_shift","shift_flipped_card_optional","select_lane_for_play","select_lane_for_death_2","select_lane_for_life_3_play","select_lane_to_shift_revealed_card_for_light_2","select_lane_to_shift_cards_for_light_3","select_lane_for_water_3"].includes(Me.type)){const Yt=se==="player"||W.isFaceUp;M({card:W,showContents:Yt});return}const Ft=pa==="player"&&!Me&&f&&Zt==="action",zt=pa==="player"&&!Me&&Zt==="compile"&&ol.includes(ze);if(Ft||zt){cl(ze);return}if(Wi(W,i))b(W.id);else if(f)h(null),M(null);else{const Yt=se==="player"||W.isFaceUp;M({card:W,showContents:Yt})}},wr=W=>{f||M({card:W,showContents:!0})},Cr=()=>{f||M(null)},At=(W,se)=>{if(!f){const ze=se==="player"||W.isFaceUp;M({card:W,showContents:ze})}},tc=()=>{f||M(null)},ac=W=>{!f&&!i.actionRequired&&M({card:W,showContents:W.isRevealed||!1})},lc=()=>{if(!Ya)return null;const{card:W,showContents:se}=Ya;return g.jsx(Ct,{card:W,isFaceUp:se})},rl=i.turn==="player"&&!i.actionRequired&&i.phase==="compile"&&i.compilableLanes.length>0,Rr=((en=i.actionRequired)==null?void 0:en.sourceCardId)??null;return g.jsxs("div",{className:"screen game-screen",children:[xe&&g.jsx(dv,{player:xe,playerState:i[xe],onClose:()=>Rt(null)}),I&&((nc=i.actionRequired)==null?void 0:nc.type)==="prompt_rearrange_protocols"&&g.jsx(uv,{gameState:i,targetPlayer:i.actionRequired.target,onConfirm:W=>{te(W),ye(!1)}}),ne&&((cc=i.actionRequired)==null?void 0:cc.type)==="prompt_swap_protocols"&&g.jsx(sv,{gameState:i,onConfirm:W=>{ge(W),Be(!1)},onCancel:()=>{H(),Be(!1)}}),g.jsx("div",{className:"toaster-container",children:z.map(W=>g.jsx(iv,{message:W.message,player:W.player},W.id))}),V&&g.jsx(ov,{log:i.log,onClose:()=>w(!1)}),g.jsx("button",{className:"btn log-button",onClick:()=>w(!0),children:"Log"}),g.jsxs("div",{className:"game-screen-layout",children:[g.jsxs("div",{className:"game-preview-container",children:[g.jsx("h2",{children:"Mainframe"}),g.jsx(rv,{gameState:i,turn:i.turn,animationState:i.animationState,onPlayerClick:()=>Rt("player"),onOpponentClick:()=>Rt("opponent")}),g.jsx("div",{className:"preview-card-area",children:lc()}),g.jsx("button",{className:"btn btn-back",onClick:c,children:"Back"})]}),g.jsxs("div",{className:"game-main-area",children:[rl&&g.jsx("div",{className:"compile-prompt-container",children:g.jsx("h3",{children:"Select a Protocol to Compile"})}),g.jsx(nv,{gameState:i,onLaneMouseDown:cl,selectedCardId:f,onCardMouseDown:Wl,onCardMouseEnter:At,onCardMouseLeave:tc,onOpponentHandCardMouseEnter:ac,onOpponentHandCardMouseLeave:tc,sourceCardId:Rr}),g.jsxs("div",{className:"player-action-area",children:[g.jsx(cv,{gameState:i,onFillHand:p,onSkipAction:H,onResolveDeath1Prompt:X,onResolveLove1Prompt:P,onResolvePlague2Discard:L,onResolvePlague4Flip:J,onResolveFire3Prompt:k,onResolveSpeed3Prompt:je,onResolveFire4Discard:F,onResolveHate1Discard:ue,onResolveLight2Prompt:fe,onResolvePsychic4Prompt:Ae,onResolveSpirit1Prompt:le,onResolveSpirit3Prompt:re,selectedCardId:f,multiSelectedCardIds:D}),g.jsx("div",{className:`player-hand-area ${i.actionRequired?"action-required":""}`,children:i.player.hand.map(W=>g.jsx(Ct,{card:W,isFaceUp:!0,onMouseDown:()=>Il(W),onMouseEnter:()=>wr(W),onMouseLeave:Cr,isSelected:W.id===f,isMultiSelected:D.includes(W.id),animationState:i.animationState,additionalClassName:"in-hand"},W.id))})]})]})]})]})}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */function hv({onPlayAgain:c,winner:s}){const u=s==="player";return g.jsxs("div",{className:"screen",children:[g.jsx("h1",{children:u?"VICTORY":"DEFEAT"}),g.jsx("p",{children:u?"System compiled successfully.":"Critical error in the mainframe."}),g.jsx("button",{className:"btn",onClick:c,children:"Play Again"})]})}function _v({onBack:c}){const[s,u]=K.useState(da[0]),o=K.useMemo(()=>{const f={};for(const h of da)f[h.protocol]||(f[h.protocol]=[]),f[h.protocol].push(h);for(const h in f)f[h].sort((_,p)=>_.value-p.value);return f},[]),d=f=>{u(f)},i=()=>{if(!s)return null;const f={...s,id:"preview",isFaceUp:!0};return g.jsx(Ct,{card:f,isFaceUp:!0})};return g.jsxs("div",{className:"screen card-library-screen",children:[g.jsx(Ap,{title:"Card Library",onBack:c}),g.jsxs("div",{className:"card-library-layout",children:[g.jsxs("div",{className:"game-preview-container",children:[g.jsx("h2",{children:"Card Preview"}),g.jsx("div",{className:"preview-card-area",children:i()})]}),g.jsx("div",{className:"card-list-container",children:Ki.map(f=>g.jsxs("div",{className:"protocol-group",children:[g.jsx("h3",{children:f}),g.jsx("div",{className:"protocol-card-grid",children:o[f].map(h=>{const _={...h,id:`${h.protocol}-${h.value}`,isFaceUp:!0};return g.jsx(Ct,{card:_,isFaceUp:!0,additionalClassName:"in-hand",onMouseEnter:()=>d(h),onMouseDown:()=>d(h)},_.id)})})]},f))})]})]})}function yv(){const[c,s]=K.useState("MainMenu"),[u,o]=K.useState([]),[d,i]=K.useState([]),[f,h]=K.useState(null),[_,p]=K.useState("easy"),m=K.useCallback(()=>{s("MainMenu"),o([]),i([]),h(null)},[]);K.useEffect(()=>{const E=j=>{j.key==="Escape"&&m()};return window.addEventListener("keydown",E),()=>{window.removeEventListener("keydown",E)}},[m]);const S=K.useCallback((E,j)=>{o(E),i(j),s("GameScreen")},[]),b=K.useCallback(E=>{h(E),s("ResultsScreen")},[]),R=()=>{switch(c){case"MainMenu":return g.jsx(lp,{onNavigate:E=>s(E),difficulty:_,setDifficulty:p});case"ProtocolSelection":return g.jsx(sy,{onBack:m,onStartGame:S});case"GameScreen":return g.jsx(pv,{onBack:m,onEndGame:b,playerProtocols:u,opponentProtocols:d,difficulty:_});case"ResultsScreen":return g.jsx(hv,{onPlayAgain:m,winner:f});case"CardLibrary":return g.jsx(_v,{onBack:m});default:return g.jsx(lp,{onNavigate:E=>s(E),difficulty:_,setDifficulty:p})}};return g.jsx(g.Fragment,{children:R()})}const mv=document.getElementById("root"),vv=ry.createRoot(mv);vv.render(g.jsx(W_.StrictMode,{children:g.jsx(yv,{})}));
